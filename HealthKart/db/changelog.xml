<?xml version="1.0" encoding="UTF-8" standalone="no"?>
 <databaseChangeLog
     xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
     xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
    <changeSet author="kani (generated)" id="1304412710257-1">
        <createTable tableName="address">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
            <column name="line1" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column name="line2" type="VARCHAR(200)"/>
            <column name="city" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="state" type="VARCHAR(60)">
                <constraints nullable="false"/>
            </column>
            <column name="pin" type="VARCHAR(6)">
                <constraints nullable="false"/>
            </column>
            <column name="phone" type="VARCHAR(30)">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="default_courier_id" type="INT"/>
            <column name="deleted" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-2">
        <createTable tableName="base_order">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="order_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="payment_id" type="INT"/>
            <column name="amount" type="DECIMAL(11,2)"/>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="update_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="address_id" type="INT"/>
            <column name="gateway_order_id" type="VARCHAR(30)"/>
            <column name="offer_instance_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-3">
        <createTable tableName="category">
            <column name="name" type="VARCHAR(80)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="display_name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-4">
        <createTable tableName="category_has_product">
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="product_id" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-5">
        <createTable tableName="coupon">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="code" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="end_date" type="DATETIME"/>
            <column name="allowed_times" type="INT"/>
            <column name="already_used" type="INT"/>
            <column name="offer_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-6">
        <createTable tableName="courier">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-7">
        <createTable tableName="line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)"/>
            <column name="marked_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="hk_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="discount_on_hk_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price" type="DECIMAL(10,2)"/>
            <column name="tax_id" type="INT"/>
            <column name="line_item_type_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="line_item_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="tracking_id" type="VARCHAR(30)"/>
            <column name="courier_id" type="INT"/>
            <column name="ship_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-8">
        <createTable tableName="line_item_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-9">
        <createTable tableName="line_item_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-10">
        <createTable tableName="manufacturer">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="TEXT"/>
            <column name="website" type="VARCHAR(60)"/>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-11">
        <createTable tableName="offer">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="offer_trigger_id" type="INT"/>
            <column name="offer_action_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(200)"/>
            <column name="start_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="end_date" type="DATETIME"/>
            <column name="exclude_trigger_products" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-12">
        <createTable tableName="offer_action">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="description" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column name="discount_percent_on_marked_price" type="DECIMAL(6,4)"/>
            <column name="discount_percent_on_hk_price" type="DECIMAL(6,4)"/>
            <column name="qty" type="INT"/>
            <column name="order_level_discount_amount" type="DECIMAL(8,2)"/>
            <column name="discount_percent_on_shipping" type="DECIMAL(6,4)"/>
            <column name="product_group_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-13">
        <createTable tableName="offer_instance">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="end_date" type="DATETIME"/>
            <column name="active" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="offer_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="coupon_id" type="INT"/>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-14">
        <createTable tableName="offer_trigger">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="description" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column name="amount" type="DECIMAL(8,2)"/>
            <column name="qty" type="INT"/>
            <column name="product_group_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-15">
        <createTable tableName="order_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-16">
        <createTable tableName="payment">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="amount" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="gateway_order_id" type="VARCHAR(30)"/>
            <column name="payment_mode_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="payment_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="payment_date" type="DATETIME"/>
            <column name="gateway_reference_id" type="VARCHAR(45)"/>
            <column name="ip" type="VARCHAR(15)"/>
            <column name="payment_checksum" type="VARCHAR(45)"/>
            <column name="error_log" type="VARCHAR(45)"/>
            <column name="email" type="VARCHAR(80)"/>
            <column name="billing_address_actual" type="TEXT"/>
            <column name="contact_name" type="VARCHAR(80)"/>
            <column name="contact_number" type="VARCHAR(25)"/>
            <column name="bank_name" type="VARCHAR(45)"/>
            <column name="bank_branch" type="VARCHAR(45)"/>
            <column name="bank_city" type="VARCHAR(45)"/>
            <column name="cheque_number" type="VARCHAR(10)"/>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-17">
        <createTable tableName="payment_mode">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-18">
        <createTable tableName="payment_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-19">
        <createTable tableName="permission">
            <column name="name" type="VARCHAR(20)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-20">
        <createTable tableName="product">
            <column name="id" type="VARCHAR(12)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
            <column name="thumb_url" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="order_ranking" type="DOUBLE"/>
            <column name="brand" type="VARCHAR(45)"/>
            <column name="manufacturer_id" type="INT"/>
            <column name="pack_type" type="VARCHAR(45)"/>
            <column name="overview" type="TEXT"/>
            <column name="description" type="TEXT"/>
            <column name="keywords" type="VARCHAR(200)"/>
            <column name="min_days" type="INT"/>
            <column name="max_days" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-21">
        <createTable tableName="product_group">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-22">
        <createTable tableName="product_group_has_category">
            <column name="product_group_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-23">
        <createTable tableName="product_group_has_product">
            <column name="product_group_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-24">
        <createTable tableName="product_group_has_product_variant">
            <column name="product_group_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-25">
        <createTable tableName="product_group_not_has_product_variant">
            <column name="product_group_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-26">
        <createTable tableName="product_has_related_product">
            <column name="product_id" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="related_product_id" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-27">
        <createTable tableName="product_image">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="url" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="alt_text" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="height" type="INT"/>
            <column name="width" type="INT"/>
            <column name="product_id" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-28">
        <createTable tableName="product_option">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-29">
        <createTable tableName="product_variant">
            <column name="id" type="VARCHAR(12)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="marked_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="discount_percent" type="DECIMAL(7,4)">
                <constraints nullable="false"/>
            </column>
            <column name="hk_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price" type="DECIMAL(10,2)"/>
            <column name="product_id" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_base_qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_base_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_add_qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_add_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="tax_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="out_of_stock" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-30">
        <createTable tableName="product_variant_has_product_option">
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="product_option_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-31">
        <createTable tableName="role">
            <column name="name" type="VARCHAR(20)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-32">
        <createTable tableName="role_has_permission">
            <column name="role_name" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="permission_name" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-33">
        <createTable tableName="tax">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="DECIMAL(7,5)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-34">
        <createTable tableName="user">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="login" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(80)"/>
            <column name="name" type="VARCHAR(80)"/>
            <column name="password_checksum" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="update_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="last_login_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="user_hash" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="referred_by" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-35">
        <createTable tableName="user_has_role">
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="role_name" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-36">
        <addPrimaryKey columnNames="category_name, product_id" tableName="category_has_product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-37">
        <addPrimaryKey columnNames="product_group_id, category_name" tableName="product_group_has_category"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-38">
        <addPrimaryKey columnNames="product_group_id, product_id" tableName="product_group_has_product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-39">
        <addPrimaryKey columnNames="product_group_id, product_variant_id" tableName="product_group_has_product_variant"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-40">
        <addPrimaryKey columnNames="product_group_id, product_variant_id" tableName="product_group_not_has_product_variant"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-41">
        <addPrimaryKey columnNames="product_id, related_product_id" tableName="product_has_related_product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-42">
        <addPrimaryKey columnNames="product_variant_id, product_option_id" tableName="product_variant_has_product_option"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-43">
        <addPrimaryKey columnNames="role_name, permission_name" tableName="role_has_permission"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-44">
        <addPrimaryKey columnNames="user_id, role_name" tableName="user_has_role"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-45">
        <createIndex indexName="code_UNIQUE" tableName="coupon" unique="true">
            <column name="code"/>
        </createIndex>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-46">
        <addForeignKeyConstraint baseColumnNames="default_courier_id" baseTableName="address" constraintName="fk_address_courier1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="courier"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-47">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="address" constraintName="fk_address_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-48">
        <addForeignKeyConstraint baseColumnNames="address_id" baseTableName="base_order" constraintName="fk_base_order_address1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="address"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-49">
        <addForeignKeyConstraint baseColumnNames="offer_instance_id" baseTableName="base_order" constraintName="fk_base_order_offer_instance1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="offer_instance"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-50">
        <addForeignKeyConstraint baseColumnNames="order_status_id" baseTableName="base_order" constraintName="fk_base_order_order_status1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="order_status"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-51">
        <addForeignKeyConstraint baseColumnNames="payment_id" baseTableName="base_order" constraintName="fk_base_order_payment1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="payment"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-52">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="base_order" constraintName="fk_base_order_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-53">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="category_has_product" constraintName="fk_category_has_product_category1" deferrable="false" initiallyDeferred="false" referencedColumnNames="name" referencedTableName="category"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-54">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="category_has_product" constraintName="fk_category_has_product_product1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-55">
        <addForeignKeyConstraint baseColumnNames="offer_id" baseTableName="coupon" constraintName="fk_coupon_offer1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="offer"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-56">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="line_item" constraintName="fk_line_item_courier1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="courier"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-57">
        <addForeignKeyConstraint baseColumnNames="line_item_status_id" baseTableName="line_item" constraintName="fk_line_item_line_item_status1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="line_item_status"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-58">
        <addForeignKeyConstraint baseColumnNames="line_item_type_id" baseTableName="line_item" constraintName="fk_line_item_line_item_type1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="line_item_type"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-59">
        <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="line_item" constraintName="fk_line_item_base_order1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="base_order"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-60">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="line_item" constraintName="fk_line_item_product_variant1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_variant"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-61">
        <addForeignKeyConstraint baseColumnNames="tax_id" baseTableName="line_item" constraintName="fk_line_item_tax1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="tax"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-62">
        <addForeignKeyConstraint baseColumnNames="offer_action_id" baseTableName="offer" constraintName="fk_offer_offer_action1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="offer_action"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-63">
        <addForeignKeyConstraint baseColumnNames="offer_trigger_id" baseTableName="offer" constraintName="fk_offer_offer_trigger1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="offer_trigger"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-64">
        <addForeignKeyConstraint baseColumnNames="product_group_id" baseTableName="offer_action" constraintName="fk_offer_action_product_group1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_group"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-65">
        <addForeignKeyConstraint baseColumnNames="coupon_id" baseTableName="offer_instance" constraintName="fk_offer_instance_coupon1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="coupon"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-66">
        <addForeignKeyConstraint baseColumnNames="offer_id" baseTableName="offer_instance" constraintName="fk_offer_instance_offer1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="offer"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-67">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="offer_instance" constraintName="fk_offer_instance_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-68">
        <addForeignKeyConstraint baseColumnNames="product_group_id" baseTableName="offer_trigger" constraintName="fk_offer_trigger_product_group1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_group"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-69">
        <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="payment" constraintName="fk_payment_base_order1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="base_order"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-70">
        <addForeignKeyConstraint baseColumnNames="payment_mode_id" baseTableName="payment" constraintName="fk_payment_payment_mode1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="payment_mode"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-71">
        <addForeignKeyConstraint baseColumnNames="payment_status_id" baseTableName="payment" constraintName="fk_payment_payment_status1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="payment_status"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-72">
        <addForeignKeyConstraint baseColumnNames="manufacturer_id" baseTableName="product" constraintName="fk_product_manufacturer1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="manufacturer"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-73">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="product_group_has_category" constraintName="fk_product_group_has_category_category1" deferrable="false" initiallyDeferred="false" referencedColumnNames="name" referencedTableName="category"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-74">
        <addForeignKeyConstraint baseColumnNames="product_group_id" baseTableName="product_group_has_category" constraintName="fk_product_group_has_category_product_group1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_group"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-75">
        <addForeignKeyConstraint baseColumnNames="product_group_id" baseTableName="product_group_has_product" constraintName="fk_product_group_has_product_product_group1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_group"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-76">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_group_has_product" constraintName="fk_product_group_has_product_product1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-77">
        <addForeignKeyConstraint baseColumnNames="product_group_id" baseTableName="product_group_has_product_variant" constraintName="fk_product_group_has_product_variant_product_group1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_group"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-78">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="product_group_has_product_variant" constraintName="fk_product_group_has_product_variant_product_variant1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_variant"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-79">
        <addForeignKeyConstraint baseColumnNames="product_group_id" baseTableName="product_group_not_has_product_variant" constraintName="fk_product_group_has_product_variant1_product_group1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_group"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-80">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="product_group_not_has_product_variant" constraintName="fk_product_group_has_product_variant1_product_variant1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_variant"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-81">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_has_related_product" constraintName="fk_product_has_product_product1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-82">
        <addForeignKeyConstraint baseColumnNames="related_product_id" baseTableName="product_has_related_product" constraintName="fk_product_has_product_product2" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-83">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_image" constraintName="fk_product_image_product1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-84">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_variant" constraintName="fk_product_variant_product1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-85">
        <addForeignKeyConstraint baseColumnNames="tax_id" baseTableName="product_variant" constraintName="fk_product_variant_tax1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="tax"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-86">
        <addForeignKeyConstraint baseColumnNames="product_option_id" baseTableName="product_variant_has_product_option" constraintName="fk_product_variant_has_product_option_product_option1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_option"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-87">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="product_variant_has_product_option" constraintName="fk_product_variant_has_product_option_product_variant1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_variant"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-88">
        <addForeignKeyConstraint baseColumnNames="permission_name" baseTableName="role_has_permission" constraintName="fk_role_has_permission_permission1" deferrable="false" initiallyDeferred="false" referencedColumnNames="name" referencedTableName="permission"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-89">
        <addForeignKeyConstraint baseColumnNames="role_name" baseTableName="role_has_permission" constraintName="fk_role_has_permission_role1" deferrable="false" initiallyDeferred="false" referencedColumnNames="name" referencedTableName="role"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-90">
        <addForeignKeyConstraint baseColumnNames="referred_by" baseTableName="user" constraintName="fk_user_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-91">
        <addForeignKeyConstraint baseColumnNames="role_name" baseTableName="user_has_role" constraintName="fk_user_has_role_role1" deferrable="false" initiallyDeferred="false" referencedColumnNames="name" referencedTableName="role"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-92">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_has_role" constraintName="fk_user_has_role_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>


    <changeSet author="kani (generated)" id="1305183976077-1">
        <addColumn tableName="line_item">
            <column name="shipped_email_sent" type="TINYINT"/>
        </addColumn>
    </changeSet>

    <changeSet author="kani (generated)" id="1305258241555-1">
        <createTable tableName="courier_service_info">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="pincode" type="VARCHAR(6)">
                <constraints nullable="false"/>
            </column>
            <column name="locality" type="VARCHAR(45)"/>
            <column name="city" type="VARCHAR(45)"/>
            <column name="state" type="VARCHAR(45)"/>
            <column name="cod_available" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="courier_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1305258241555-2">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="courier_service_info" constraintName="fk_courier_service_info_courier1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="courier"/>
    </changeSet>

    <changeSet author="USER (generated)" id="1305649517855-1">
        <addColumn tableName="product">
            <column defaultValue="0" name="deleted" type="TINYINT"/>
        </addColumn>
    </changeSet>

  <!-- Extra Options -->
    <changeSet author="USER (generated)" id="1306243889811-1">
        <createTable tableName="line_item_extra_option">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="line_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1306243889811-2">
        <createTable tableName="product_extra_option">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1306243889811-3">
        <createTable tableName="product_variant_has_product_extra_option">
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="product_extra_option_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1306243889811-4">
        <addColumn tableName="product_variant">
            <column name="variant_name" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1306243889811-5">
        <addPrimaryKey columnNames="product_variant_id, product_extra_option_id" tableName="product_variant_has_product_extra_option"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306243889811-6">
        <addForeignKeyConstraint baseColumnNames="line_item_id" baseTableName="line_item_extra_option" constraintName="fk_extra_option_line_item1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="line_item"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306243889811-7">
        <addForeignKeyConstraint baseColumnNames="product_extra_option_id" baseTableName="product_variant_has_product_extra_option" constraintName="fk_product_variant_has_product_extra_option_product_extra_opt1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_extra_option"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306243889811-8">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="product_variant_has_product_extra_option" constraintName="fk_product_variant_has_product_option_product_variant10" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_variant"/>
    </changeSet>

    <changeSet author="USER (generated)" id="1306300798683-1">
        <ext:modifyColumn tableName="product_extra_option">
            <column name="value" type="varchar(1000)"/>
        </ext:modifyColumn>
    </changeSet>

    <!-- Referral Program -->
    <changeSet author="USER (generated)" id="1306948507433-1">
        <createTable tableName="reward_point">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="referred_user_id" type="INT"/>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="reward_point_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="DECIMAL(6,2)">
                <constraints nullable="false"/>
            </column>
            <column name="referred_order_id" type="INT"/>
            <column name="comment" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-2">
        <createTable tableName="reward_point_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-3">
        <createTable tableName="reward_point_txn">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="value" type="DECIMAL(6,2)">
                <constraints nullable="false"/>
            </column>
            <column name="txn_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="expiry_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="reward_point_txn_type_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="reward_point_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="redeemed_order_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-4">
        <createTable tableName="reward_point_txn_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-5">
        <createTable tableName="user_account_info">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="overused_reward_points" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="alternate_email" type="VARCHAR(100)"/>
            <column name="user_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-6">
        <addNotNullConstraint columnDataType="VARCHAR(1000)" columnName="value" defaultNullValue="" tableName="product_extra_option"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-7">
        <addForeignKeyConstraint baseColumnNames="referred_order_id" baseTableName="reward_point" constraintName="fk_reward_point_base_order1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="base_order"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-8">
        <addForeignKeyConstraint baseColumnNames="referred_user_id" baseTableName="reward_point" constraintName="fk_reward_point_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-9">
        <addForeignKeyConstraint baseColumnNames="reward_point_status_id" baseTableName="reward_point" constraintName="fk_reward_point_reward_point_status1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="reward_point_status"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-10">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="reward_point" constraintName="fk_reward_point_user2" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-11">
        <addForeignKeyConstraint baseColumnNames="redeemed_order_id" baseTableName="reward_point_txn" constraintName="fk_reward_point_txn_base_order1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="base_order"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-12">
        <addForeignKeyConstraint baseColumnNames="reward_point_id" baseTableName="reward_point_txn" constraintName="fk_reward_point_txn_reward_point1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="reward_point"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-13">
        <addForeignKeyConstraint baseColumnNames="reward_point_txn_type_id" baseTableName="reward_point_txn" constraintName="fk_reward_point_txn_reward_point_txn_type1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="reward_point_txn_type"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-14">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="reward_point_txn" constraintName="fk_reward_point_txn_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-15">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_account_info" constraintName="fk_user_account_info_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1307086705846-1">
        <addColumn tableName="coupon">
            <column name="referrer_user_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1307086705846-2">
        <addForeignKeyConstraint baseColumnNames="referrer_user_id" baseTableName="coupon" constraintName="fk_coupon_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1307087031023-1">
        <addColumn tableName="offer">
            <column name="offer_identifier" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>

    <changeSet author="USER (generated)" id="1307104283066-1">
        <createTable tableName="email_recepient">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="email" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="subscribed" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
            <column name="email_type_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1307104283066-2">
        <createTable tableName="email_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1307104283066-3">
        <createTable tableName="emailer_history">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="sender_email" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="email_recepient_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="email_type_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="send_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="sender_name" type="VARCHAR(45)"/>
            <column name="custom_message" type="TEXT"/>
            <column name="sender_user_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1307104283066-4">
        <addForeignKeyConstraint baseColumnNames="email_type_id" baseTableName="email_recepient" constraintName="fk_email_recepient_email_type1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="email_type"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1307104283066-5">
        <addForeignKeyConstraint baseColumnNames="email_recepient_id" baseTableName="emailer_history" constraintName="fk_emailer_history_email_recepient1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="email_recepient"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1307104283066-6">
        <addForeignKeyConstraint baseColumnNames="email_type_id" baseTableName="emailer_history" constraintName="fk_emailer_history_email_type1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="email_type"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1307104283066-7">
        <addForeignKeyConstraint baseColumnNames="sender_user_id" baseTableName="emailer_history" constraintName="fk_emailer_history_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>

    <changeSet author="USER (generated)" id="1307436932442-1">
        <addColumn tableName="base_order">
            <column defaultValue="0" name="referred_order" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1307436932442-2">
        <addColumn tableName="base_order">
            <column name="reward_points_used" type="DECIMAL(6,0)"/>
        </addColumn>
    </changeSet>

  <changeSet author="USER (generated)" id="1307442237711-1">
    <addColumn tableName="product_variant">
        <column name="deleted" type="TINYINT">
            <constraints nullable="false"/>
        </column>
    </addColumn>
  </changeSet>
  <changeSet author="USER (generated)" id="1307442237711-2">
      <addColumn tableName="product_variant">
          <column name="order_ranking" type="DOUBLE"/>
      </addColumn>
  </changeSet>

  <!-- Product features and images -->
    <changeSet author="USER (generated)" id="1307428374361-1">
        <createTable tableName="product_feature">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="VARCHAR(45)"/>
            <column name="product_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1307428374361-2">
        <addColumn tableName="product">
            <column name="main_image_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1307428374361-3">
        <addColumn tableName="product_image">
            <column name="checksum" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1307428374361-4">
        <addColumn tableName="product_image">
            <column defaultValue="0" name="hidden" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1307428374361-5">
        <addColumn tableName="product_image">
            <column defaultValue="0" name="uploaded" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1307428374361-6">
        <addNotNullConstraint columnDataType="VARCHAR(1000)" columnName="value" defaultNullValue="" tableName="product_extra_option"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1307428374361-7">
        <createIndex indexName="checksum_UNIQUE" tableName="product_image" unique="true">
            <column name="checksum"/>
        </createIndex>
    </changeSet>
    <changeSet author="USER (generated)" id="1307428374361-8">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_feature" constraintName="fk_product_feature_product1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>

  <changeSet author="kani (generated)" id="1307856688643-1">
      <addAutoIncrement tableName="product_image" columnName="id" columnDataType="int"/>
  </changeSet>

    <changeSet author="nitin (generated)" id="1307520904495-1">
        <createTable tableName="seo_data">
            <column name="id" type="VARCHAR(45)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="h1" type="VARCHAR(250)"/>
            <column name="title" type="VARCHAR(250)"/>
            <column name="meta_keyword" type="TEXT"/>
            <column name="meta_description" type="TEXT"/>
            <column name="description" type="TEXT"/>
        </createTable>
    </changeSet>

  <changeSet author="nitin" id="20110613-01">
    <addDefaultValue tableName="product_variant" columnName="deleted" defaultValue="0"/>
    <addDefaultValue tableName="product_variant" columnName="out_of_stock" defaultValue="0"/>
  </changeSet>

  <changeSet author="USER (generated)" id="1308117179834-1">
      <createTable tableName="offer_has_role">
          <column name="offer_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="role_name" type="VARCHAR(20)">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="USER (generated)" id="1308117179834-2">
      <addPrimaryKey columnNames="offer_id, role_name" tableName="offer_has_role"/>
  </changeSet>
  <changeSet author="USER (generated)" id="1308117179834-3">
      <addForeignKeyConstraint baseColumnNames="offer_id" baseTableName="offer_has_role" constraintName="fk_offer_has_role_offer1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="offer" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="USER (generated)" id="1308117179834-4">
      <addForeignKeyConstraint baseColumnNames="role_name" baseTableName="offer_has_role" constraintName="fk_offer_has_role_role1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="role" referencesUniqueColumn="false"/>
  </changeSet>

  <changeSet author="USER (generated)" id="1308124564884-1">
      <createTable tableName="email_subscription">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="promotional" type="TINYINT"/>
          <column name="unsubscribe_token" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
          <column defaultValueNumeric="0" name="invalid" type="TINYINT"/>
          <column defaultValueNumeric="0" name="bounce" type="TINYINT"/>
          <column name="user_id" type="INT">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="USER (generated)" id="1308124564884-2">
      <createTable tableName="temp_token">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="token" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
          <column name="create_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
          <column name="expiry_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
          <column defaultValueNumeric="0" name="expired" type="TINYINT">
              <constraints nullable="false"/>
          </column>
          <column name="user_id" type="INT">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="USER (generated)" id="1308124564884-3">
      <addNotNullConstraint columnDataType="VARCHAR(1000)" columnName="value" tableName="product_extra_option"/>
  </changeSet>
  <changeSet author="USER (generated)" id="1308124564884-4">
      <createIndex indexName="token_UNIQUE" tableName="temp_token" unique="true">
          <column name="token"/>
      </createIndex>
  </changeSet>
  <changeSet author="USER (generated)" id="1308124564884-5">
      <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="email_subscription" constraintName="fk_email_subscription_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="USER (generated)" id="1308124564884-6">
      <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="temp_token" constraintName="fk_temp_token_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
  </changeSet>

  <changeSet author="USER (generated)" id="1309426870197-1">
      <createTable tableName="comment">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="name" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
          <column name="comment" type="TEXT">
              <constraints nullable="false"/>
          </column>
          <column name="date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
          <column name="order_id" type="INT">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="USER (generated)" id="1309426870197-2">
      <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="comment" constraintName="fk_comment_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
  </changeSet>

  <changeSet author="kani (generated)" id="1308923890579-1">
      <createTable tableName="ticket">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="short_description" type="VARCHAR(200)">
              <constraints nullable="false"/>
          </column>
          <column name="full_description" type="TEXT"/>
          <column name="create_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
          <column name="update_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
          <column name="associated_email" type="VARCHAR(100)"/>
          <column name="associated_phone" type="VARCHAR(25)"/>
          <column name="associated_tracking_id" type="VARCHAR(20)"/>
          <column name="ticket_status_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="ticket_type_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="owner" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="reporter" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="associated_user" type="INT"/>
          <column name="associated_order" type="INT"/>
          <column name="associated_courier" type="INT"/>
      </createTable>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-2">
      <createTable tableName="ticket_history">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="ticket_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="comment" type="TEXT"/>
          <column name="create_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
          <column name="short_description" type="VARCHAR(200)">
              <constraints nullable="false"/>
          </column>
          <column name="full_description_changed" type="TINYINT">
              <constraints nullable="false"/>
          </column>
          <column name="associated_email" type="VARCHAR(100)"/>
          <column name="associated_phone" type="VARCHAR(20)"/>
          <column name="associated_tracking_id" type="VARCHAR(20)"/>
          <column name="ticket_status_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="ticket_type_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="owner" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="changed_by" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="associated_user" type="INT"/>
          <column name="associated_order" type="INT"/>
          <column name="associated_courier" type="INT"/>
      </createTable>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-3">
      <createTable tableName="ticket_status">
          <column name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="name" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-4">
      <createTable tableName="ticket_type">
          <column name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="name" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
          <column name="description" type="VARCHAR(200)"/>
      </createTable>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-5">
      <addForeignKeyConstraint baseColumnNames="associated_courier" baseTableName="ticket" constraintName="fk_ticket_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-6">
      <addForeignKeyConstraint baseColumnNames="associated_order" baseTableName="ticket" constraintName="fk_ticket_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-7">
      <addForeignKeyConstraint baseColumnNames="associated_user" baseTableName="ticket" constraintName="fk_ticket_user3" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-8">
      <addForeignKeyConstraint baseColumnNames="owner" baseTableName="ticket" constraintName="fk_ticket_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-9">
      <addForeignKeyConstraint baseColumnNames="reporter" baseTableName="ticket" constraintName="fk_ticket_user2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-10">
      <addForeignKeyConstraint baseColumnNames="ticket_status_id" baseTableName="ticket" constraintName="fk_ticket_ticket_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="ticket_status" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-11">
      <addForeignKeyConstraint baseColumnNames="ticket_type_id" baseTableName="ticket" constraintName="fk_ticket_ticket_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="ticket_type" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-12">
      <addForeignKeyConstraint baseColumnNames="associated_courier" baseTableName="ticket_history" constraintName="fk_ticket_history_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-13">
      <addForeignKeyConstraint baseColumnNames="associated_order" baseTableName="ticket_history" constraintName="fk_ticket_history_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-14">
      <addForeignKeyConstraint baseColumnNames="associated_user" baseTableName="ticket_history" constraintName="fk_ticket_history_user3" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-15">
      <addForeignKeyConstraint baseColumnNames="changed_by" baseTableName="ticket_history" constraintName="fk_ticket_history_user2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-16">
      <addForeignKeyConstraint baseColumnNames="owner" baseTableName="ticket_history" constraintName="fk_ticket_history_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-17">
      <addForeignKeyConstraint baseColumnNames="ticket_id" baseTableName="ticket_history" constraintName="fk_ticket_history_ticket1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="ticket" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-18">
      <addForeignKeyConstraint baseColumnNames="ticket_status_id" baseTableName="ticket_history" constraintName="fk_ticket_history_ticket_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="ticket_status" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-19">
      <addForeignKeyConstraint baseColumnNames="ticket_type_id" baseTableName="ticket_history" constraintName="fk_ticket_history_ticket_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="ticket_type" referencesUniqueColumn="false"/>
  </changeSet>

  <changeSet author="kani (generated)" id="1308925071841-1">
      <modifyDataType columnName="name" newDataType="VARCHAR(30)" tableName="permission"/>
  </changeSet>

  <changeSet author="kani (generated)" id="1308925184301-1">
      <modifyDataType columnName="permission_name" newDataType="VARCHAR(30)" tableName="role_has_permission"/>
  </changeSet>

  <changeSet author="kani (generated)" id="1309356157792-1">
      <createTable tableName="fbcoupon_campaign">
          <column name="code" type="VARCHAR(45)">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="name" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
          <column name="share_url" type="VARCHAR(200)"/>
          <column name="create_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="kani (generated)" id="1309356157792-2">
      <createTable tableName="fbcoupon_coupon">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="coupon" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
          <column name="bonus_coupon" type="VARCHAR(45)"/>
          <column name="coupon_use_count" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="bonus_coupon_use_count" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="fbcoupon_campaign_code" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
          <column name="create_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="kani (generated)" id="1309356157792-3">
      <createTable tableName="fbcoupon_user">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="fbuid" type="BIGINT">
              <constraints nullable="false"/>
          </column>
          <column name="email" type="VARCHAR(60)"/>
          <column name="name" type="VARCHAR(60)"/>
          <column name="create_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
          <column name="update_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="kani (generated)" id="1309356157792-4">
      <createTable tableName="fbcoupon_user_campaign">
          <column name="fbcoupon_user_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="fbcoupon_campaign_code" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
          <column name="fbcoupon_coupon_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="shared" type="TINYINT">
              <constraints nullable="false"/>
          </column>
          <column name="create_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="kani (generated)" id="1309356157792-7">
      <addPrimaryKey columnNames="fbcoupon_user_id, fbcoupon_campaign_code" tableName="fbcoupon_user_campaign"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1309356157792-8">
      <addForeignKeyConstraint baseColumnNames="fbcoupon_campaign_code" baseTableName="fbcoupon_coupon" constraintName="fk_fbcoupon_coupon_fbcoupon_campaign1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="code" referencedTableName="fbcoupon_campaign" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1309356157792-9">
      <addForeignKeyConstraint baseColumnNames="fbcoupon_campaign_code" baseTableName="fbcoupon_user_campaign" constraintName="fk_fbcoupon_user_campaign_fbcoupon_campaign1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="code" referencedTableName="fbcoupon_campaign" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1309356157792-10">
      <addForeignKeyConstraint baseColumnNames="fbcoupon_coupon_id" baseTableName="fbcoupon_user_campaign" constraintName="fk_fbcoupon_user_has_coupon_fbcoupon_coupon1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="fbcoupon_coupon" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1309356157792-11">
      <addForeignKeyConstraint baseColumnNames="fbcoupon_user_id" baseTableName="fbcoupon_user_campaign" constraintName="fk_fbcoupon_user_has_coupon_fbcoupon_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="fbcoupon_user" referencesUniqueColumn="false"/>
  </changeSet>

  <changeSet author="USER (generated)" id="1309536662140-1">
      <createTable tableName="product_variant_inventory">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="qty" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="product_variant_id" type="VARCHAR(12)">
              <constraints nullable="false"/>
          </column>
          <column name="line_item_id" type="INT"/>
          <column name="txn_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="USER (generated)" id="1309536662140-2">
      <addForeignKeyConstraint baseColumnNames="line_item_id" baseTableName="product_variant_inventory" constraintName="fk_variant_inventory_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="line_item" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="USER (generated)" id="1309536662140-3">
      <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="product_variant_inventory" constraintName="fk_variant_inventory_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
  </changeSet>

  <changeSet author="Pratham (generated)" id="1309853849696-1">
      <createTable tableName="reconciliation_status">
          <column name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="name" type="VARCHAR(45)"/>
      </createTable>
  </changeSet>
  <changeSet author="Pratham (generated)" id="1309853849696-2">
      <addColumn tableName="base_order">
          <column defaultValue="10" name="reconciliation_status_id" type="INT">
              <constraints nullable="false"/>
          </column>
      </addColumn>
  </changeSet>
  <changeSet author="Pratham (generated)" id="1309853849696-3">
      <addColumn tableName="line_item">
          <column name="delivery_date" type="DATETIME"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet" id="20110708-01">
    <sql>
      update base_order set reconciliation_status_id = 10;
    </sql>
  </changeSet>
  <changeSet author="ajeet" id="20110708-02">
    <sql>
      insert into reconciliation_status values (10, 'PENDING');
    </sql>
  </changeSet>
  <changeSet author="Pratham (generated)" id="1309853849696-4">
      <addForeignKeyConstraint baseColumnNames="reconciliation_status_id" baseTableName="base_order"  constraintName="fk_base_order_reconciliation_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="reconciliation_status"  referencesUniqueColumn="false"/>
  </changeSet>
    <changeSet author="Pratham (generated)" id="1310105022010-1">
        <addColumn tableName="base_order">
            <column name="user_comments" type="TEXT"/>
        </addColumn>
   </changeSet>

  <changeSet author="ajeet (generated)" id="1310486296355-1">
      <createTable tableName="cancellation_type">
          <column name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="name" type="VARCHAR(100)">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1310486296355-2">
      <addColumn tableName="base_order">
          <column name="cancellation_remark" type="TEXT"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1310486296355-3">
      <addColumn tableName="base_order">
          <column name="cancellation_type_id" type="INT"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1310486296355-4">
      <addNotNullConstraint columnDataType="VARCHAR(45)" columnName="name" tableName="reconciliation_status"/>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1310486296355-5">
      <addForeignKeyConstraint baseColumnNames="cancellation_type_id" baseTableName="base_order" constraintName="fk_base_order_cancellation_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cancellation_type" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1312990290509-1">
      <modifyDataType columnName="alt_text" newDataType="VARCHAR(200)" tableName="product_image"/>
  </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-1">
        <createTable tableName="affiliate">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="code" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="check_in_favour_of" type="VARCHAR(150)"/>
            <column name="main_address_id" type="INT"/>
            <column name="affiliate_expiry_date" type="DATE"/>
            <column name="affiliate_pan_no" type="VARCHAR(45)"/>
            <column name="affiliate_website" type="VARCHAR(80)"/>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-2">
        <createTable tableName="affiliate_account_details">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="account_no" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="affiliate_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-3">
        <createTable tableName="affiliate_category">
            <column name="affiliate_category_name" type="VARCHAR(80)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="overview" type="VARCHAR(100)"/>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-4">
        <createTable tableName="affiliate_category_commission">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="affiliate_category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="commission_first" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="commission_second" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column name="affiliate_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-5">
        <createTable tableName="affiliate_traffic_details">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="affiliate_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="target_url" type="VARCHAR(450)">
                <constraints nullable="false"/>
            </column>
            <column name="referral_url" type="VARCHAR(450)"/>
            <column name="user_timestamp" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-6">
        <createTable tableName="affiliate_txn">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="amount" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="affiliate_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="base_order_id" type="INT"/>
            <column name="affiliate_txn_type_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-7">
        <createTable tableName="affiliate_txn_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-8">
        <createTable tableName="check_details">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="check_no" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="issue_date" type="DATE">
                <constraints nullable="false"/>
            </column>
            <column name="bank_name" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="affiliate_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="affiliate_txn_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-9">
        <createTable tableName="default_category_commission">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValueNumeric="0" name="commission_first" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="commission_second" type="DOUBLE"/>
            <column name="affiliate_category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-10">
        <addColumn tableName="product_variant">
            <column name="affiliate_category_name" type="VARCHAR(80)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-11">
        <addNotNullConstraint columnDataType="TINYINT" columnName="deleted" defaultNullValue="0" tableName="product"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-12">
        <modifyDataType columnName="name" newDataType="VARCHAR(40)" tableName="role"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-13">
        <modifyDataType columnName="id" newDataType="VARCHAR(250)" tableName="seo_data"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-14">
        <modifyDataType columnName="role_name" newDataType="VARCHAR(40)" tableName="user_has_role"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-15">
        <createIndex indexName="check_no_UNIQUE" tableName="check_details" unique="true">
            <column name="check_no"/>
        </createIndex>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-16">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="affiliate" constraintName="fk_affiliate_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-17">
        <addForeignKeyConstraint baseColumnNames="affiliate_id" baseTableName="affiliate_account_details" constraintName="fk_affiliate_account_details_affiliate1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="affiliate" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-18">
        <addForeignKeyConstraint baseColumnNames="affiliate_category_name" baseTableName="affiliate_category_commission" constraintName="fk_category_commission_rank_affiliate_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="affiliate_category_name" referencedTableName="affiliate_category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-19">
        <addForeignKeyConstraint baseColumnNames="affiliate_id" baseTableName="affiliate_category_commission" constraintName="fk_affiliate_category_commission_affiliate1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="affiliate" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-20">
        <addForeignKeyConstraint baseColumnNames="affiliate_id" baseTableName="affiliate_traffic_details" constraintName="fk_affiliate_traffic_details_affiliate1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="affiliate" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-21">
        <addForeignKeyConstraint baseColumnNames="affiliate_id" baseTableName="affiliate_txn" constraintName="fk_affiliate_txn_affiliate1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="affiliate" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-22">
        <addForeignKeyConstraint baseColumnNames="affiliate_txn_type_id" baseTableName="affiliate_txn" constraintName="fk_affiliate_txn_affiliate_txn_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="affiliate_txn_type" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-23">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="affiliate_txn" constraintName="fk_affiliate_txn_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-24">
        <addForeignKeyConstraint baseColumnNames="affiliate_id" baseTableName="check_details" constraintName="fk_check_details_affiliate1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="affiliate" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-25">
        <addForeignKeyConstraint baseColumnNames="affiliate_txn_id" baseTableName="check_details" constraintName="fk_check_details_affiliate_txn1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="affiliate_txn" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-26">
        <addForeignKeyConstraint baseColumnNames="affiliate_category_name" baseTableName="default_category_commission" constraintName="fk_default_category_commissions_affiliate_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="affiliate_category_name" referencedTableName="affiliate_category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-27">
        <addForeignKeyConstraint baseColumnNames="affiliate_category_name" baseTableName="product_variant" constraintName="fk_product_variant_affiliate_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="affiliate_category_name" referencedTableName="affiliate_category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1312871859172-1">
      <addColumn tableName="product_variant">
          <column name="main_image_id" type="INT"/>
      </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1312882542214-1">
      <addColumn tableName="product_image">
          <column name="product_variant_id" type="VARCHAR(12)"/>
      </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1312882542214-2">
      <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="product_image" constraintName="fk_product_image_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313669518603-1">
        <addColumn tableName="product">
            <column defaultValue="0" name="product_has_color_options" type="TINYINT"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1314071590968-1">
        <createTable tableName="discount_coupon_mailing_list">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
            <column name="mobile" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="src_url" type="VARCHAR(255)"/>
            <column name="category" type="VARCHAR(45)"/>
            <column name="coupon_code" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="kani (generated)" id="1314124722586-1">
        <addColumn tableName="discount_coupon_mailing_list">
            <column name="comments" type="TEXT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-2">
        <addColumn tableName="discount_coupon_mailing_list">
            <column name="subscribe_email" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-3">
        <addColumn tableName="discount_coupon_mailing_list">
            <column name="subscribe_mobile" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-4">
        <modifyDataType columnName="category" newDataType="VARCHAR(65)" tableName="discount_coupon_mailing_list"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-5">
        <dropNotNullConstraint columnDataType="VARCHAR(45)" columnName="coupon_code" tableName="discount_coupon_mailing_list"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-6">
        <dropNotNullConstraint columnDataType="VARCHAR(100)" columnName="email" tableName="discount_coupon_mailing_list"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-7">
        <modifyDataType columnName="mobile" newDataType="VARCHAR(25)" tableName="discount_coupon_mailing_list"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-8">
        <dropNotNullConstraint columnDataType="VARCHAR(25)" columnName="mobile" tableName="discount_coupon_mailing_list"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-9">
        <modifyDataType columnName="name" newDataType="VARCHAR(65)" tableName="discount_coupon_mailing_list"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-10">
        <modifyDataType columnName="src_url" newDataType="TEXT" tableName="discount_coupon_mailing_list"/>
    </changeSet>

    <changeSet author="kani (generated)" id="1314201918277-1">
        <addColumn tableName="product_variant">
            <column name="color_hex" type="VARCHAR(10)"/>
        </addColumn>
    </changeSet>

    <changeSet author="USER (generated)" id="1314503758717-1">
        <createTable tableName="accounting_invoice_number">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1314503758717-2">
        <addColumn tableName="base_order">
            <column name="accounting_invoice_number_id" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1315032951811-1">
        <createTable tableName="supplier">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
            <column name="state" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1315032951811-2">
        <addColumn tableName="product">
            <column name="supplier_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1315032951811-3">
        <addForeignKeyConstraint baseColumnNames="supplier_id" baseTableName="product" constraintName="fk_product_supplier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="supplier" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1315245510742-1">
        <createTable tableName="order_lifecycle">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="activity_by_user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="order_lifecycle_activity_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="activity_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1315245510742-2">
        <createTable tableName="order_lifecycle_activity">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1315245510742-3">
        <addForeignKeyConstraint baseColumnNames="activity_by_user_id" baseTableName="order_lifecycle" constraintName="fk_order_lifecycle_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1315245510742-4">
        <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="order_lifecycle" constraintName="fk_order_lifecycle_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1315245510742-5">
        <addForeignKeyConstraint baseColumnNames="order_lifecycle_activity_id" baseTableName="order_lifecycle" constraintName="fk_order_lifecycle_order_lifecycle_activity1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="order_lifecycle_activity" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1315281322168-1">
        <addColumn tableName="order_lifecycle">
            <column name="comments" type="TEXT"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1316083010787-1">
        <createTable tableName="box_size">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1316083010787-2">
        <addColumn tableName="line_item">
            <column name="box_size_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1316083010787-3">
        <addForeignKeyConstraint baseColumnNames="box_size_id" baseTableName="line_item" constraintName="fk_line_item_box_size1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="box_size" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="USER (generated)" id="1316439142909-1">
        <addColumn tableName="user">
            <column name="affiliate_to" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1316439142909-3">
        <addForeignKeyConstraint baseColumnNames="affiliate_to" baseTableName="user" constraintName="fk_user_user2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1317030531518-1">
        <addColumn tableName="product_variant">
            <column name="breadth" type="DOUBLE"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1317030531518-2">
        <addColumn tableName="product_variant">
            <column name="height" type="DOUBLE"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1317030531518-3">
        <addColumn tableName="product_variant">
            <column name="length" type="DOUBLE"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1317030531518-4">
        <addColumn tableName="product_variant">
            <column name="weight" type="DOUBLE"/>
        </addColumn>
    </changeSet>


    <changeSet author="kani (generated)" id="1317197517914-1">
        <createIndex indexName="index_user_email" tableName="user" unique="false">
            <column name="email"/>
        </createIndex>
    </changeSet>
    <changeSet author="kani (generated)" id="1317197517914-2">
        <createIndex indexName="unique_user_login" tableName="user" unique="true">
            <column name="login"/>
        </createIndex>
    </changeSet>
    <changeSet author="kani (generated)" id="1317197517914-3">
        <createIndex indexName="unique_user_user_hash" tableName="user" unique="true">
            <column name="user_hash"/>
        </createIndex>
    </changeSet>

  <changeSet author="ajeet (generated)" id="1317209501067-1">
      <addColumn tableName="product_variant">
          <column name="upc" type="VARCHAR(45)"/>
      </addColumn>
  </changeSet>

     <changeSet author="kani (generated)" id="1317221160413-1">
        <createTable tableName="email_campaign">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="template" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="start_date" type="DATETIME"/>
            <column name="min_day_gap" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-2">
        <addColumn tableName="email_recepient">
            <column name="bounce" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-3">
        <addColumn tableName="email_recepient">
            <column name="email_count" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-4">
        <addColumn tableName="email_recepient">
            <column name="invalid" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-5">
        <addColumn tableName="email_recepient">
            <column name="last_email_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-6">
        <addColumn tableName="email_recepient">
            <column name="unsubscribe_token" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-7">
        <addColumn tableName="email_recepient">
            <column name="user_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-8">
        <addColumn tableName="emailer_history">
            <column name="email_campaign_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-9">
        <dropForeignKeyConstraint baseTableName="email_recepient" constraintName="fk_email_recepient_email_type1"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-10">
        <createIndex indexName="email_UNIQUE" tableName="email_recepient" unique="true">
            <column name="email"/>
        </createIndex>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-11">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="email_recepient" constraintName="fk_email_recepient_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-12">
        <addForeignKeyConstraint baseColumnNames="email_campaign_id" baseTableName="emailer_history" constraintName="fk_emailer_history_email_campaign1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="email_campaign" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-13">
        <dropColumn columnName="email_type_id" tableName="email_recepient"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1317621409167-1">
        <addColumn tableName="line_item">
            <column name="box_weight" type="DECIMAL(8,4)"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1317874073914-1">
        <createTable tableName="bin">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="barcode" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="shelf" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="rack" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="aisle" type="VARCHAR(45)"/>
            <column name="room" type="VARCHAR(45)"/>
            <column name="floor" type="VARCHAR(45)"/>
            <column name="building" type="VARCHAR(45)"/>
            <column name="area" type="VARCHAR(45)"/>
            <column name="city" type="VARCHAR(45)"/>
            <column name="state" type="VARCHAR(45)"/>
            <column name="country" type="VARCHAR(45)"/>
            <column defaultValueNumeric="0" name="deleted" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-2">
        <createTable tableName="bin_has_sku_item">
            <column name="bin_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="sku_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-3">
        <createTable tableName="po_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price" type="DECIMAL(8,2)"/>
            <column name="tax" type="DECIMAL(6,4)"/>
            <column name="purchase_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-4">
        <createTable tableName="purchase_order">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="supplier_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="purchase_order_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-5">
        <createTable tableName="purchase_order_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-6">
        <createTable tableName="sku_group">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="barcode" type="VARCHAR(45)"/>
            <column name="purchase_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="batch_number" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="expiry_date" type="DATE"/>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="checkin_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-7">
        <createTable tableName="sku_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="barcode" type="VARCHAR(45)"/>
            <column name="sku_group_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="checkin_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-8">
        <addColumn tableName="product_variant_inventory">
            <column name="sku_item_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-9">
        <addPrimaryKey columnNames="bin_id, sku_item_id" tableName="bin_has_sku_item"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-10">
        <dropForeignKeyConstraint baseTableName="email_subscription" constraintName="fk_email_subscription_user1"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-11">
        <createIndex indexName="bin_barcode_UNIQUE" tableName="bin" unique="true">
            <column name="barcode"/>
        </createIndex>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1317874073914-13">
        <addForeignKeyConstraint baseColumnNames="bin_id" baseTableName="bin_has_sku_item" constraintName="fk_bin_has_sku_item_bin1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="bin" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-14">
        <addForeignKeyConstraint baseColumnNames="sku_item_id" baseTableName="bin_has_sku_item" constraintName="fk_bin_has_sku_item_sku_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-15">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="po_line_item" constraintName="fk_po_line_item_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-16">
        <addForeignKeyConstraint baseColumnNames="purchase_order_id" baseTableName="po_line_item" constraintName="fk_po_line_item_purchase_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-17">
        <addForeignKeyConstraint baseColumnNames="sku_item_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_sku_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-18">
        <addForeignKeyConstraint baseColumnNames="purchase_order_status_id" baseTableName="purchase_order" constraintName="fk_purchase_order_purchase_order_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_order_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-19">
        <addForeignKeyConstraint baseColumnNames="supplier_id" baseTableName="purchase_order" constraintName="fk_purchase_order_supplier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="supplier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-20">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="sku_group" constraintName="fk_group_barcode_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-21">
        <addForeignKeyConstraint baseColumnNames="purchase_order_id" baseTableName="sku_group" constraintName="fk_sku_group_purchase_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-22">
        <addForeignKeyConstraint baseColumnNames="sku_group_id" baseTableName="sku_item" constraintName="fk_item_barcode_group_barcode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku_group" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-23">
        <dropTable tableName="email_subscription"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317884326824-1">
        <addColumn tableName="sku_group">
            <column name="invoice_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317884326824-2">
        <addColumn tableName="sku_group">
            <column name="invoice_number" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317888055482-1">
        <addColumn tableName="purchase_order">
            <column name="update_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317888055482-2">
        <addColumn tableName="sku_group">
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317888055482-3">
        <addColumn tableName="sku_item">
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317888055482-4">
        <dropColumn columnName="checkin_date" tableName="sku_group"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317888055482-5">
        <dropColumn columnName="checkin_date" tableName="sku_item"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1317971268400-1">
        <addColumn tableName="purchase_order">
            <column name="comments" type="TEXT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-2">
        <addColumn tableName="purchase_order">
            <column name="created_by" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-3">
        <addColumn tableName="purchase_order">
            <column name="po_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-4">
        <addColumn tableName="purchase_order">
            <column name="po_number" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-5">
        <addColumn tableName="supplier">
            <column name="city" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-6">
        <addColumn tableName="supplier">
            <column name="contact_number" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-7">
        <addColumn tableName="supplier">
            <column name="contact_person" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-8">
        <addColumn tableName="supplier">
            <column name="line1" type="VARCHAR(200)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-9">
        <addColumn tableName="supplier">
            <column name="line2" type="VARCHAR(200)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-10">
        <addColumn tableName="supplier">
            <column name="tin_number" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-11">
        <addForeignKeyConstraint baseColumnNames="created_by" baseTableName="purchase_order" constraintName="fk_purchase_order_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1318327245037-1">
        <addColumn tableName="product">
            <column name="create_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318327245037-2">
        <addColumn tableName="sku_group">
            <column name="mfg_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318327245037-3">
        <addColumn tableName="supplier">
            <column name="pincode" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318327245037-4">
        <createIndex indexName="tin_number_UNIQUE" tableName="supplier" unique="true">
            <column name="tin_number"/>
        </createIndex>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1318404447961-2">
        <dropNotNullConstraint columnDataType="DATETIME" columnName="invoice_date" tableName="sku_group"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318404447961-3">
        <dropNotNullConstraint columnDataType="VARCHAR(45)" columnName="invoice_number" tableName="sku_group"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1318502491718-1">
        <createTable tableName="category_has_combo">
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="combo_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-2">
        <createTable tableName="combo">
            <column name="id" type="VARCHAR(20)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="tag_line" type="VARCHAR(100)"/>
            <column name="overview" type="TEXT"/>
            <column name="description" type="TEXT"/>
            <column name="marked_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="discount_percentage" type="DECIMAL(7,4)">
                <constraints nullable="false"/>
            </column>
            <column name="hk_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_base_qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_base_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_add_qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_add_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="deleted" type="TINYINT"/>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-3">
        <createTable tableName="combo_has_product">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="combo_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="product_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="1" name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-4">
        <createTable tableName="combo_instance">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="combo_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-5">
        <createTable tableName="combo_instance_has_product_variant">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="combo_instance_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="1" name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-6">
        <createTable tableName="combo_product_allowed_variant">
            <column name="combo_has_product_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-7">
        <addColumn tableName="line_item">
            <column name="combo_instance_id" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1318502491718-9">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="category_has_combo" constraintName="fk_combo_has_category_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-10">
        <addForeignKeyConstraint baseColumnNames="combo_id" baseTableName="category_has_combo" constraintName="fk_combo_has_category_combo1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-11">
        <addForeignKeyConstraint baseColumnNames="combo_id" baseTableName="combo_has_product" constraintName="fk_combo_has_product_combo1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-12">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="combo_has_product" constraintName="fk_combo_has_product_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-13">
        <addForeignKeyConstraint baseColumnNames="combo_id" baseTableName="combo_instance" constraintName="fk_combo_instance_combo1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-14">
        <addForeignKeyConstraint baseColumnNames="combo_instance_id" baseTableName="combo_instance_has_product_variant" constraintName="fk_product_variant_of_combo_instance_combo_instance1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo_instance" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-15">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="combo_instance_has_product_variant" constraintName="fk_product_variant_of_combo_instance_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-16">
        <addForeignKeyConstraint baseColumnNames="combo_has_product_id" baseTableName="combo_product_allowed_variant" constraintName="fk_combo_has_product_has_product_variant_combo_has_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo_has_product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-17">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="combo_product_allowed_variant" constraintName="fk_combo_has_product_has_product_variant_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-18">
        <addForeignKeyConstraint baseColumnNames="combo_instance_id" baseTableName="line_item" constraintName="fk_line_item_combo_instance1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo_instance" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1318834648652-1">
        <createTable tableName="combo_image">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="url" type="VARCHAR(256)">
                <constraints nullable="false"/>
            </column>
            <column name="alt_text" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="height" type="INT"/>
            <column name="width" type="INT"/>
            <column name="checksum" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="hidden" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="uploaded" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318834648652-2">
        <addColumn tableName="combo">
            <column name="main_image_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318834648652-3">
        <addForeignKeyConstraint baseColumnNames="main_image_id" baseTableName="combo" constraintName="fk_combo_combo_image1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo_image" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="kani (generated)" id="1319115034322-2">
        <addColumn tableName="fbcoupon_user">
            <column name="access_token" type="VARCHAR(256)"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1319115034322-3">
        <addColumn tableName="fbcoupon_user">
            <column name="app_id" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1319115034322-4">
        <addColumn tableName="fbcoupon_user">
            <column name="associated_user_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1319115034322-5">
        <addColumn tableName="fbcoupon_user">
            <column name="expires_seconds" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1319115034322-6">
        <addColumn tableName="fbcoupon_user">
            <column name="scope" type="VARCHAR(200)"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1319115034322-7">
        <addColumn tableName="fbcoupon_user">
            <column name="token_create_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1319115034322-8">
        <createIndex indexName="uq_fbcoupon_user_fbuid_app_id" tableName="fbcoupon_user" unique="true">
            <column name="fbuid"/>
            <column name="app_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="kani (generated)" id="1319115034322-10">
        <addForeignKeyConstraint baseColumnNames="associated_user_id" baseTableName="fbcoupon_user" constraintName="fk_fbcoupon_user_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="kani (generated)" id="1319117520114-1">
        <addColumn tableName="product_variant">
            <column name="cut_off_inventory" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="kani (generated)" id="1319149208664-1">
        <modifyDataType columnName="fbuid" newDataType="VARCHAR(30)" tableName="fbcoupon_user"/>
    </changeSet>

    <changeSet author="kani (generated)" id="1319149265031-1">
        <addNotNullConstraint columnDataType="VARCHAR(30)" columnName="fbuid" tableName="fbcoupon_user"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1319190488270-1">
        <createTable tableName="low_inventory">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="entry_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="alert_email_sent" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1319190488270-10">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="low_inventory" constraintName="fk_low_inventory_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="kani (generated)" id="1319281888043-1">
        <addColumn tableName="fbcoupon_user">
            <column name="dob" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1319281888043-2">
        <addColumn tableName="fbcoupon_user">
            <column name="gender" type="VARCHAR(10)"/>
        </addColumn>
    </changeSet>

    <changeSet author="USER (generated)" id="1319440327372-1">
        <addColumn tableName="product_variant">
            <column name="main_product_image_id" type="INT"/>
        </addColumn>
    </changeSet>
  <changeSet author="ajeet (generated)" id="1319702297197-1">
      <addColumn tableName="coupon">
          <column name="repetitive_usage" type="TINYINT"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1319702297197-2">
      <addColumn tableName="product">
          <column name="primary_category" type="VARCHAR(80)"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1319702297197-13">
      <addForeignKeyConstraint baseColumnNames="primary_category" baseTableName="product" constraintName="fk_product_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
  </changeSet>

  <changeSet author="ajeet" id="20111027-01">
    <sql>
      update coupon set repetitive_usage = false;
    </sql>
  </changeSet>

  <changeSet author="ajeet (generated)" id="1319707369862-1">
      <addNotNullConstraint columnDataType="TINYINT" columnName="repetitive_usage" tableName="coupon"/>
  </changeSet>

    <changeSet author="USER (generated)" id="1319535258887-2">
        <createTable tableName="manufacturer_has_address">
            <column name="manufacturer_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="address_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-3">
        <createTable tableName="map_india">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="city" type="VARCHAR(90)"/>
            <column name="state" type="VARCHAR(90)"/>
            <column name="lattitude" type="DECIMAL(9,6)"/>
            <column name="longitude" type="DECIMAL(9,6)"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-4">
        <createTable tableName="product_variant_payment_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-5">
        <createTable tableName="product_variant_service_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-6">
        <addColumn tableName="product">
            <column defaultValue="0" name="is_service" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-7">
        <addColumn tableName="product_variant">
            <column name="payment_type_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-8">
        <addColumn tableName="product_variant">
            <column name="product_variant_service_type_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-9">
        <dropNotNullConstraint columnDataType="INT" columnName="user_id" tableName="address"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-10">
        <addPrimaryKey columnNames="manufacturer_id, address_id" tableName="manufacturer_has_address"/>
    </changeSet>

    <changeSet author="USER (generated)" id="1319535258887-13">
        <addForeignKeyConstraint baseColumnNames="address_id" baseTableName="manufacturer_has_address" constraintName="fk_manufacturer_has_address_address1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="address" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-14">
        <addForeignKeyConstraint baseColumnNames="manufacturer_id" baseTableName="manufacturer_has_address" constraintName="fk_manufacturer_has_address_manufacturer1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="manufacturer" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-15">
        <addForeignKeyConstraint baseColumnNames="payment_type_id" baseTableName="product_variant" constraintName="fk_product_variant_product_variant_payment_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant_payment_type" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-16">
        <addForeignKeyConstraint baseColumnNames="product_variant_service_type_id" baseTableName="product_variant" constraintName="fk_product_variant_product_variant_service_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant_service_type" referencesUniqueColumn="false"/>
    </changeSet>
  <changeSet author="ajeet (generated)" id="1320039307783-1">
      <addColumn tableName="product_variant_inventory">
          <column name="order_id" type="INT"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320039307783-2">
      <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320827431977-1">
      <addColumn tableName="po_line_item">
          <column name="mrp" type="DECIMAL(8,2)"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320827431977-2">
      <addColumn tableName="purchase_order">
          <column name="invoice_date" type="DATETIME"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320827431977-3">
      <addColumn tableName="purchase_order">
          <column name="invoice_number" type="VARCHAR(45)"/>
      </addColumn>
  </changeSet>

  <changeSet author="ajeet (generated)" id="1320933726703-1">
      <createTable tableName="aqua_accounting_invoice_number">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320933726703-2">
      <createTable tableName="reward_point_mode">
          <column name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="name" type="VARCHAR(45)"/>
      </createTable>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320933726703-3">
      <addColumn tableName="base_order">
          <column name="aqua_accounting_invoice_number_id" type="INT"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320933726703-6">
      <addForeignKeyConstraint baseColumnNames="aqua_accounting_invoice_number_id" baseTableName="base_order" constraintName="fk_base_order_aqua_accounting_invoice_number1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="aqua_accounting_invoice_number" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320951893087-1">
      <addColumn tableName="reward_point">
          <column name="reward_point_mode_id" type="INT"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320951893087-2">
      <addForeignKeyConstraint baseColumnNames="reward_point_mode_id" baseTableName="reward_point" constraintName="fk_reward_point_reward_point_mode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="reward_point_mode" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320951893087-3">
      <dropColumn columnName="tax" tableName="po_line_item"/>
  </changeSet>
  <changeSet author="USER (generated)" id="1320664670530-1">
        <createTable tableName="locality_map">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="address_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="lattitude" type="DECIMAL(9,6)"/>
            <column name="longitude" type="DECIMAL(9,6)"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1320664670530-2">
        <createTable tableName="product_group_not_has_category">
            <column name="product_group_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1320664670530-4">
        <addPrimaryKey columnNames="product_group_id, category_name" tableName="product_group_not_has_category"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1320664670530-8">
        <addForeignKeyConstraint baseColumnNames="address_id" baseTableName="locality_map" constraintName="fk_locality_map_address1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="address" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1320664670530-9">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="product_group_not_has_category" constraintName="fk_product_group_has_category1_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1320664670530-10">
        <addForeignKeyConstraint baseColumnNames="product_group_id" baseTableName="product_group_not_has_category" constraintName="fk_product_group_has_category1_product_group1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_group" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1320908799766-1">
        <addColumn tableName="map_india">
            <column defaultValue="0" name="target_city" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1320993023588-1">
        <addColumn tableName="product_variant">
            <column name="postpaid_amount" type="DOUBLE"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1320993023588-3">
        <modifyDataType columnName="description" newDataType="LONGTEXT" tableName="product"/>
    </changeSet>
    <changeSet author="USER (generated)" id="20111115-01">
      <sql>update product set is_service = false;</sql>
    </changeSet>
    <changeSet author="USER (generated)" id="20111115-02">
      <sql>update map_india set target_city = false;</sql>
    </changeSet>
    <changeSet author="Pratham (generated)" id="20111115-04">
      <sql>update product_variant set postpaid_amount = 0.0;</sql>
    </changeSet>

  <changeSet author="ajeet (generated)" id="1321249399157-1">
      <createTable tableName="accounting_invoice">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="order_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="invoice_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="invoice_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1321249399157-2">
      <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="accounting_invoice" constraintName="fk_table1_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
  </changeSet>

  <changeSet author="ajeet (generated)" id="1321253999631-1">
      <createTable tableName="invoice_line_item">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="accounting_invoice_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="line_item_id" type="INT">
    <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>

    <changeSet author="ajeet (generated)" id="1321600992879-1">
        <addColumn tableName="product">
            <column defaultValue="0" name="is_google_ad_disallowed" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1321614488858-1">
        <createTable tableName="campaign_tracking">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="utm_source" type="VARCHAR(120)"/>
            <column name="utm_medium" type="VARCHAR(120)"/>
            <column name="utm_campaign" type="VARCHAR(120)"/>
            <column name="referral_url" type="VARCHAR(450)"/>
            <column name="target_url" type="VARCHAR(450)"/>
            <column name="time_stamp" type="DATETIME"/>
            <column name="params_string" type="VARCHAR(120)"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1321865852086-2">
        <addColumn tableName="manufacturer">
            <column name="email" type="VARCHAR(90)"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1321865852086-3">
        <addColumn tableName="manufacturer">
            <column name="main_address_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1321865852086-6">
        <modifyDataType columnName="name" newDataType="VARCHAR(250)" tableName="product_option"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1321865852086-7">
        <modifyDataType columnName="value" newDataType="VARCHAR(500)" tableName="product_option"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1321865550959-1">
        <addColumn tableName="accounting_invoice">
            <column name="retail_invoice_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1321865550959-2">
        <addColumn tableName="accounting_invoice">
            <column name="service_invoice_id" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1321865550959-3">
        <dropForeignKeyConstraint baseTableName="base_order" constraintName="fk_base_order_aqua_accounting_invoice_number1"/>
    </changeSet>

  <changeSet author="ajeet (generated)" id="1321865550959-4">
        <dropColumn columnName="aqua_accounting_invoice_number_id" tableName="base_order"/>
    </changeSet>

  <changeSet author="ajeet (generated)" id="1321865550959-5">
        <sql>update accounting_invoice set retail_invoice_id=invoice_id</sql>
  </changeSet>

  <changeSet author="ajeet (generated)" id="1321865550959-6">
      <dropColumn columnName="invoice_id" tableName="accounting_invoice"/>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1321875338567-1">
      <dropTable tableName="aqua_accounting_invoice_number"/>
  </changeSet>
  <changeSet author="USER (generated)" id="1321946593782-2">
        <addColumn tableName="manufacturer">
            <column defaultValue="0" name="is_available_all_over_india" type="TINYINT"/>
        </addColumn>
  </changeSet>
  <changeSet author="USER (generated)" id="1321946593782-5">
        <modifyDataType columnName="referral_url" newDataType="VARCHAR(1000)" tableName="campaign_tracking"/>
  </changeSet>

    <changeSet author="rahul (generated)" id="1322032121242-1">
        <createTable tableName="notify_me">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="phone" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="rahul (generated)" id="1322032121242-2">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="notify_me" constraintName="fk_notify_me_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="rahul (generated)" id="1322462106501-1">
        <addColumn tableName="product_variant">
            <column name="created_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
  <changeSet author="rahul (generated)" id="1322462106501-2">
    <sql>update product_variant set created_date = '2011-11-26 00:00:00'</sql>
  </changeSet>

    <changeSet author="rahul (generated)" id="1322509144609-1">
        <addColumn tableName="notify_me">
            <column name="notified_by_user_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="rahul (generated)" id="1322509144609-2">
        <addColumn tableName="notify_me">
            <column name="notified_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="rahul (generated)" id="1322509144609-4">
        <addForeignKeyConstraint baseColumnNames="accounting_invoice_id" baseTableName="invoice_line_item" constraintName="fk_table1_accounting_invoice1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="accounting_invoice" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="rahul (generated)" id="1322509144609-5">
        <addForeignKeyConstraint baseColumnNames="line_item_id" baseTableName="invoice_line_item" constraintName="fk_table1_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="line_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="rahul (generated)" id="1322509144609-6">
        <addForeignKeyConstraint baseColumnNames="notified_by_user_id" baseTableName="notify_me" constraintName="fk_notify_me_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1322647809624-1">
        <createTable tableName="product_count">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="counter" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1322647809624-3">
        <modifyDataType columnName="referral_url" newDataType="TEXT" tableName="campaign_tracking"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1322647809624-4">
        <addNotNullConstraint columnDataType="VARCHAR(250)" columnName="name" tableName="product_option"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1322647809624-5">
        <addNotNullConstraint columnDataType="VARCHAR(500)" columnName="value" tableName="product_option"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1322647809624-7">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_count" constraintName="fk_product_count_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1322738252183-2">
        <addColumn tableName="purchase_order">
            <column name="payable" type="DECIMAL(8,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1322738252183-3">
        <addColumn tableName="purchase_order">
            <column name="payment_details" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1322738252183-4">
        <addColumn tableName="purchase_order">
            <column name="reconciled" type="TINYINT"/>
        </addColumn>
    </changeSet>

    <changeSet author="rahul (generated)" id="1322934570125-2">
        <modifyDataType columnName="payable" newDataType="DECIMAL(12,2)" tableName="purchase_order"/>
    </changeSet>

  <changeSet author="USER (generated)" id="1323339872645-2">
        <createTable tableName="user_cart">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="is_bought" type="TINYINT"/>
            <column name="create_date" type="DATETIME"/>
            <column name="last_date" type="DATETIME"/>
            <column name="counter" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1323339872645-3">
        <addColumn tableName="offer_action">
            <column name="is_cashback" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1323339872645-4">
        <addColumn tableName="offer_action">
            <column name="reward_point_cashback_limit" type="DECIMAL(8,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1323339872645-5">
        <addColumn tableName="offer_action">
            <column name="reward_point_discount_percent" type="DECIMAL(6,4)"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1323339872645-8">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="user_cart" constraintName="fk_user_cart_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1323339872645-9">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_cart" constraintName="fk_user_cart_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>


    <changeSet author="ajeet (generated)" id="1323414752303-1">
        <createTable tableName="product_variant_damage_inventory">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="sku_item_id" type="INT"/>
            <column name="order_id" type="INT"/>
            <column name="line_item_id" type="INT"/>
            <column name="txn_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323414752303-2">
        <addForeignKeyConstraint baseColumnNames="line_item_id" baseTableName="product_variant_damage_inventory" constraintName="fk_variant_inventory_line_item10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="line_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323414752303-3">
        <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="product_variant_damage_inventory" constraintName="fk_product_variant_inventory_base_order10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323414752303-4">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="product_variant_damage_inventory" constraintName="fk_variant_inventory_product_variant10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323414752303-5">
        <addForeignKeyConstraint baseColumnNames="sku_item_id" baseTableName="product_variant_damage_inventory" constraintName="fk_product_variant_inventory_sku_item10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku_item" referencesUniqueColumn="false"/>
    </changeSet>

   <changeSet author="USER (generated)" id="1323759341786-1">
        <addColumn tableName="campaign_tracking">
            <column name="user_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1323759341786-8">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="campaign_tracking" constraintName="fk_campaign_tracking_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1323771915300-1">
        <createTable tableName="user_product_history">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME"/>
            <column name="last_date" type="DATETIME"/>
            <column name="counter" type="INT"/>
            <column name="is_bought" type="TINYINT"/>
        </createTable>
    </changeSet>

    <changeSet author="USER (generated)" id="1323771915300-9">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="user_product_history" constraintName="fk_user_product_history_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1323771915300-10">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_product_history" constraintName="fk_user_product_history_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1323776259036-1">
        <addColumn tableName="coupon">
            <column name="complimentary_coupon" type="VARCHAR(20)"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1323776259036-3">
        <addColumn tableName="offer">
            <column name="complimentary_coupon_description" type="TEXT"/>
        </addColumn>
    </changeSet>


   <changeSet author="ajeet (generated)" id="1323857008931-1">
        <createTable tableName="reconciliation_voucher">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="reconciliation_date" type="DATETIME"/>
            <column name="remarks" type="TEXT"/>
            <column name="created_by" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323857008931-2">
        <createTable tableName="rv_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="qty" type="INT"/>
            <column name="cost_price" type="DECIMAL(8,2)"/>
            <column name="mrp" type="DECIMAL(8,2)"/>
            <column name="reconciliation_voucher_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323857008931-3">
        <addColumn tableName="sku_group">
            <column name="reconciliation_voucher_id" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323857008931-4">
        <dropNotNullConstraint columnDataType="INT" columnName="purchase_order_id" tableName="sku_group"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323857008931-5">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="rv_line_item" constraintName="fk_rv_line_item_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323857008931-6">
        <addForeignKeyConstraint baseColumnNames="reconciliation_voucher_id" baseTableName="rv_line_item" constraintName="fk_rv_line_item_reconciliation_voucher1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="reconciliation_voucher" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323857008931-7">
        <addForeignKeyConstraint baseColumnNames="reconciliation_voucher_id" baseTableName="sku_group" constraintName="fk_sku_group_reconciliation_voucher1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="reconciliation_voucher" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323862730602-2">
        <addColumn tableName="rv_line_item">
            <column name="batch_number" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323862730602-3">
        <addColumn tableName="rv_line_item">
            <column name="expiry_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323862730602-4">
        <addColumn tableName="rv_line_item">
            <column name="mfg_date" type="DATETIME"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323936173018-2">
        <createTable tableName="goods_received_note">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="grn_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="grn_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="purchase_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="payable" type="DECIMAL(12,2)"/>
            <column name="payment_details" type="VARCHAR(100)"/>
            <column name="payment_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323936173018-3">
        <createTable tableName="grn_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323936173018-4">
        <createTable tableName="inv_txn_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323936173018-6">
        <addColumn tableName="product_variant_inventory">
            <column name="grn_line_item_id" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323936173018-7">
        <addColumn tableName="product_variant_inventory">
            <column name="inv_txn_type_id" type="INT">
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323936173018-8">
        <addColumn tableName="product_variant_inventory">
            <column name="rv_line_item_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323936173018-9">
        <addColumn tableName="product_variant_inventory">
            <column name="user_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323936173018-10">
        <addColumn tableName="purchase_order">
            <column name="adv_payment" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323936173018-12">
        <addColumn tableName="purchase_order">
            <column name="est_del_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323936173018-13">
        <addColumn tableName="purchase_order">
            <column name="est_payment_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323936173018-14">
        <addColumn tableName="purchase_order">
            <column name="po_place_date" type="DATETIME"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323936173018-29">
        <addForeignKeyConstraint baseColumnNames="grn_status_id" baseTableName="goods_received_note" constraintName="fk_goods_received_note_grn_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="grn_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323936173018-30">
        <addForeignKeyConstraint baseColumnNames="purchase_order_id" baseTableName="goods_received_note" constraintName="fk_goods_received_note_purchase_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_order" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323936173018-38">
        <addForeignKeyConstraint baseColumnNames="inv_txn_type_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_inv_txn_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="inv_txn_type" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323936173018-42">
        <addForeignKeyConstraint baseColumnNames="rv_line_item_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_rv_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="rv_line_item" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323936173018-44">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323938196917-1">
        <addColumn tableName="purchase_order">
            <column name="approved_by" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323938196917-2">
        <addForeignKeyConstraint baseColumnNames="approved_by" baseTableName="purchase_order" constraintName="fk_purchase_order_user2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323939350553-1">
        <createTable tableName="grn_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="mrp" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="goods_received_note_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323939350553-3">
        <addForeignKeyConstraint baseColumnNames="goods_received_note_id" baseTableName="grn_line_item" constraintName="fk_grn_line_item_goods_received_note1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="goods_received_note" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323948816958-1">
        <addColumn tableName="goods_received_note">
            <column name="invoice_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323948816958-2">
        <addColumn tableName="goods_received_note">
            <column name="invoice_number" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

  <changeSet author="ajeet (generated)" id="1322738252183-3">
        <addColumn tableName="goods_received_note">
            <column name="reconciled" type="TINYINT"/>
        </addColumn>
  </changeSet>

  <changeSet author="ajeet (generated)" id="1323954251838-1">
      <addColumn tableName="sku_group">
          <column name="goods_received_note_id" type="INT"/>
      </addColumn>
  </changeSet>

  <changeSet author="ajeet (generated)" id="1323954251838-2">
      <addForeignKeyConstraint baseColumnNames="goods_received_note_id" baseTableName="sku_group" constraintName="fk_sku_group_goods_received_note1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="goods_received_note" referencesUniqueColumn="false"/>
  </changeSet>

    <changeSet author="ajeet (generated)" id="1323963177773-1">
        <addColumn tableName="goods_received_note">
            <column name="received_by" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323963177773-2">
        <addColumn tableName="grn_line_item">
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323963177773-3">
        <addForeignKeyConstraint baseColumnNames="received_by" baseTableName="goods_received_note" constraintName="fk_goods_received_note_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323963177773-4">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="grn_line_item" constraintName="fk_grn_line_item_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="rahul (generated)" id="1324456633013-1">
        <createTable tableName="google_banned_word">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="banned_word" type="VARCHAR(100)"/>
        </createTable>
    </changeSet>

    <changeSet author="USER (generated)" id="1324626901470-1">
        <createTable tableName="amazon_feed">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="title" type="VARCHAR(45)"/>
            <column name="amazon_browse_node" type="VARCHAR(45)"/>
            <column name="description" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1324626901470-17">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="amazon_feed" constraintName="fk_amazon_feed_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1324627237554-2">
        <modifyDataType columnName="description" newDataType="VARCHAR(2000)" tableName="amazon_feed"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1324627237554-3">
        <modifyDataType columnName="title" newDataType="VARCHAR(500)" tableName="amazon_feed"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1325228710008-1">
        <createTable tableName="debit_note">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="goods_received_note_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="debit_note_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="is_debit_to_supplier" type="TINYINT"/>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325228710008-2">
        <createTable tableName="debit_note_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="mrp" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="debit_note_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325228710008-3">
        <createTable tableName="debit_note_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325228710008-4">
        <addColumn tableName="goods_received_note">
            <column name="payment_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1325228710008-6">
        <dropForeignKeyConstraint baseTableName="campaign_tracking" constraintName="fk_campaign_tracking_user1"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1325228710008-8">
        <addForeignKeyConstraint baseColumnNames="debit_note_status_id" baseTableName="debit_note" constraintName="fk_debit_note_debit_note_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="debit_note_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325228710008-9">
        <addForeignKeyConstraint baseColumnNames="goods_received_note_id" baseTableName="debit_note" constraintName="fk_debit_note_goods_received_note1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="goods_received_note" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325228710008-10">
        <addForeignKeyConstraint baseColumnNames="debit_note_id" baseTableName="debit_note_line_item" constraintName="fk_debit_note_line_item_debit_note1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="debit_note" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325228710008-11">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="debit_note_line_item" constraintName="fk_debit_note_line_item_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325228710008-12">
        <addForeignKeyConstraint baseColumnNames="grn_line_item_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_gnr_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="grn_line_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325228710008-13">
        <dropColumn columnName="user_id" tableName="campaign_tracking"/>
    </changeSet>

  <changeSet author="vikas (generated)" id="1325077007205-1">
        <createTable tableName="awb">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="courier_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="awb_number" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="awb_bar_code" type="VARCHAR(25)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="used" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="vikas (generated)" id="1325077007205-3">
        <createTable tableName="pincode">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="pincode" type="INT"/>
            <column name="city" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="state" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="locality" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>

    <changeSet author="vikas (generated)" id="1325077007205-4">
        <createTable tableName="warehouse">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="address" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column name="city" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="state" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="wh_manager" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="wh_phone" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="vikas (generated)" id="1325077007205-5">
        <addColumn tableName="courier_service_info">
            <column name="is_preferred" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325077007205-6">
        <addColumn tableName="courier_service_info">
            <column name="is_preferred_cod" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325077007205-7">
        <addColumn tableName="courier_service_info">
            <column name="pincode_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="vikas (generated)" id="1325077007205-9">
        <createIndex indexName="courier_awb_key" tableName="awb" unique="true">
            <column name="courier_id"/>
            <column name="awb_number"/>
        </createIndex>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325077007205-10">
        <createIndex indexName="pincode_UNIQUE" tableName="pincode" unique="true">
            <column name="pincode"/>
        </createIndex>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325077007205-11">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="awb" constraintName="fk_awb_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325077007205-12">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="awb" constraintName="fk_awb_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="vikas (generated)" id="1325077007205-13">
        <sql>
            insert into pincode(pincode, locality, city, state)
            select pincode, max(locality), max(city), max(state)
            from courier_service_info
            group by pincode;

            update courier_service_info c, pincode p
            set c.pincode_id = p.id
            where c.pincode = p.pincode;
        </sql>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325077007205-14">
        <addForeignKeyConstraint baseColumnNames="pincode_id" baseTableName="courier_service_info" constraintName="fk_courier_service_info_pincode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pincode" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="vikas (generated)" id="1325077007205-17">
        <addForeignKeyConstraint baseColumnNames="wh_manager" baseTableName="warehouse" constraintName="fk_warehouse_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="vikas (generated)" id="1325142120402-2">
        <addColumn tableName="courier_service_info">
            <column name="routing_code" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325155781486-2">
        <createTable tableName="warehouse_has_user">
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325155781486-4">
        <dropForeignKeyConstraint baseTableName="warehouse" constraintName="fk_warehouse_user1"/>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325155781486-5">
        <createIndex indexName="warehouse_user_key" tableName="warehouse_has_user" unique="true">
            <column name="user_id"/>
            <column name="warehouse_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325156430187-6">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="warehouse_has_user" constraintName="fk_warehouse_has_user_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325156430187-7">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="warehouse_has_user" constraintName="fk_warehouse_has_user_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325156430187-8">
        <dropIndex indexName="fk_warehouse_user1" tableName="warehouse"/>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325156430187-11">
        <dropColumn columnName="wh_manager" tableName="warehouse"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1325583944221-1">
        <addColumn tableName="campaign_tracking">
            <column name="user_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325583944221-2">
        <addColumn tableName="grn_line_item">
            <column name="checkedin_qty" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1326129786856-1">
        <createTable tableName="retail_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="line_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="actual_discount_on_hk_price" type="DECIMAL(10,2)"/>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1326129786856-2">
        <addForeignKeyConstraint baseColumnNames="line_item_id" baseTableName="retail_line_item" constraintName="fk_retail_line_item_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="line_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1326129786856-3">
        <createIndex indexName="line_item_UNIQUE" tableName="retail_line_item" unique="true">
            <column name="line_item_id"/>
        </createIndex>
    </changeSet>

  <changeSet author="Vaibhav (generated)" id="1326176675933-1">
        <addColumn tableName="seo_data">
            <column name="description_title" type="VARCHAR(250)"/>
        </addColumn>
    </changeSet>

  <changeSet author="Ajeet (generated)" id="1326184553665-1">
        <addColumn tableName="product">
            <column name="video_embed_code" type="LONGTEXT"/>
        </addColumn>
  </changeSet>

  <changeSet author="Ajeet (generated)" id="1325749690480-1">
        <addColumn tableName="courier_service_info">
            <column name="is_deleted" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325749690480-2">
        <dropColumn columnName="city" tableName="courier_service_info"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325749690480-3">
        <dropColumn columnName="locality" tableName="courier_service_info"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325749690480-4">
        <dropColumn columnName="pincode" tableName="courier_service_info"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325749690480-5">
        <dropColumn columnName="state" tableName="courier_service_info"/>
    </changeSet>
  <changeSet author="Ajeet (generated)" id="1325749690480-6">
    <sql>
      update courier_service_info set is_deleted=0;
    </sql>
  </changeSet>
    <changeSet author="Ajeet (generated)" id="1325754511592-1">
        <createTable tableName="state_courier_service">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="state" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="courier_id" type="INT">
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325754511592-2">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="state_courier_service" constraintName="fk_state_courier_service_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325756023057-1">
        <modifyDataType columnName="pincode" newDataType="VARCHAR(8)" tableName="pincode"/>
    </changeSet>
  <!--
  commenting this changeset as it is confilicting with changeset 1338816774783-12 when creating db from scratch
  <changeSet author="Ajeet (generated)" id="1325756023057-2">
    <sql>
      insert into state_courier_service(state) values('ANDAMAN AND NICOBAR ISLAND');
      insert into state_courier_service(state) values('ANDHRA PRADESH');
      insert into state_courier_service(state) values('ARUNACHAL PRADESH');
      insert into state_courier_service(state) values('ASSAM');
      insert into state_courier_service(state) values('BIHAR');
      insert into state_courier_service(state) values('CHANDIGARH');
      insert into state_courier_service(state) values('CHHATISGARH');
      insert into state_courier_service(state) values('DADRA AND NAGAR HAVELI');
      insert into state_courier_service(state) values('DAMAN AND DIU');
      insert into state_courier_service(state) values('DELHI');
      insert into state_courier_service(state) values('GOA');
      insert into state_courier_service(state) values('GUJARAT');
      insert into state_courier_service(state) values('HARYANA');
      insert into state_courier_service(state) values('HIMACHAL PRADESH');
      insert into state_courier_service(state) values('JAMMU AND KASHMIR');
      insert into state_courier_service(state) values('JHARKHAND');
      insert into state_courier_service(state) values('KARNATAKA');
      insert into state_courier_service(state) values('KERALA');
      insert into state_courier_service(state) values('LAKSHADWEEP');
      insert into state_courier_service(state) values('MADHYA PRADESH');
      insert into state_courier_service(state) values('MAHARASHTRA');
      insert into state_courier_service(state) values('MANIPUR');
      insert into state_courier_service(state) values('MEGHALAYA');
      insert into state_courier_service(state) values('MIZORAM');
      insert into state_courier_service(state) values('NAGALAND');
      insert into state_courier_service(state) values('ORRISA');
      insert into state_courier_service(state) values('PUDUCHERRY');
      insert into state_courier_service(state) values('PUNJAB');
      insert into state_courier_service(state) values('RAJASTHAN');
      insert into state_courier_service(state) values('SIKKIM');
      insert into state_courier_service(state) values('TAMIL NADU');
      insert into state_courier_service(state) values('TRIPURA');
      insert into state_courier_service(state) values('UTTAR PRADESH');
      insert into state_courier_service(state) values('UTTARAKHAND');
      insert into state_courier_service(state) values('WEST BENGAL');
    </sql>
  </changeSet>-->

  <changeSet author="Ajeet (generated)" id="1326471094500-1">
      <createIndex indexName="po_pv_key" tableName="po_line_item" unique="true">
          <column name="purchase_order_id"/>
          <column name="product_variant_id"/>
      </createIndex>
  </changeSet>

  <changeSet author="Rahul (generated)" id="1326569681430-1">
    <addColumn tableName="retail_line_item">
      <column name="cod_charge" type="DECIMAL(10,2)"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rahul (generated)" id="1326569681430-2">
    <addColumn tableName="retail_line_item">
      <column name="shipping_charge" type="DECIMAL(10,2)"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rahul (generated)" id="1326629578279-1">
    <addColumn tableName="retail_line_item">
      <column name="collection_charged_by_courier" type="DECIMAL(10,2)"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rahul (generated)" id="1326629578279-2">
    <addColumn tableName="retail_line_item">
      <column name="shipping_charged_by_courier" type="DECIMAL(10,2)"/>
    </addColumn>
  </changeSet>

  <changeSet author="Ajeet (generated)" id="1326793577242-2">
      <addColumn tableName="accounting_invoice">
          <column name="b2b_invoice_id" type="VARCHAR(45)"/>
      </addColumn>
  </changeSet>
  <changeSet author="Ajeet (generated)" id="1326793577242-3">
      <addColumn tableName="product_variant">
          <column name="b2b_price" type="DECIMAL(10,2)"/>
      </addColumn>
  </changeSet>

  <changeSet author="Ajeet (generated)" id="1326885204757-1">
      <addColumn tableName="base_order">
          <column name="is_b2b_order" type="TINYINT"/>
      </addColumn>
  </changeSet>
    <changeSet author="PRATHAM (generated)" id="1326966110028-1">
        <addNotNullConstraint columnDataType="VARCHAR(45)" columnName="aisle" tableName="bin"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1326966110028-2">
        <modifyDataType columnName="rack" newDataType="VARCHAR(45)" tableName="bin"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1326966110028-3">
        <modifyDataType columnName="shelf" newDataType="VARCHAR(45)" tableName="bin"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1326966110028-4">
        <dropNotNullConstraint columnDataType="VARCHAR(45)" columnName="shelf" tableName="bin"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327039135101-1">
        <createTable tableName="doom_day">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="upc_variant_id" type="VARCHAR(45)"/>
            <column name="time_stamp" type="DATETIME"/>
            <column name="qty" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327124721253-1">
        <addColumn tableName="bin">
            <column name="bin" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327480917684-1">
        <createTable tableName="preferred_bank_gateway">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="bank_name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="tpsl_bank_code" type="VARCHAR(45)"/>
            <column name="citrus_bank_code" type="VARCHAR(45)"/>
            <column name="preferred_gateway_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327480917684-3">
        <addColumn tableName="product">
            <column defaultValue="1" name="searchable" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327480917684-5">
        <addNotNullConstraint columnDataType="VARCHAR(45)" columnName="brand" tableName="product"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327480917684-6">
        <addNotNullConstraint columnDataType="VARCHAR(80)" columnName="primary_category" tableName="product"/>
    </changeSet>
  <changeSet author="Pratham (generated)" id="1327480917684-11">
    <sql>
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Allahabad Bank","280",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Axis Bank","50","ISS002",null);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Bank of Bahrain and Kuwait","340",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Bank of Baroda","310",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Bank of India","240",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Bank of Rajasthan","170",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Corporation Bank","120",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Deutsche Bank","330","ISS006",null);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Dhanlaxmi Bank","370",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Federal Bank","270",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("HDFC Bank","300","ISS003",null);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("ICICI Bank","10","ISS001",null);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("IDBI Bank","520",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Indian Overseas NetBanking","420",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Karnataka Bank","140",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Oriental Bank Of Commerce","160",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("South Indian Bank","180",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Standard Chartered Bank","450",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("State Bank of India",null,"ISS008",60);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Union Bank of India","190","ISS007",null);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Vijaya Bank","200",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Yes Bank","130","ISS004",null);
    </sql>
  </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327651614314-1">
        <addColumn tableName="product">
            <column defaultValue="0" name="is_jit" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327663168387-1">
        <addColumn tableName="payment">
            <column name="bank_code" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
  <changeSet author="PRATHAM (generated)" id="1327671351010-8">
      <dropColumn columnName="searchable" tableName="product"/>
  </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327671351010-1">
        <addColumn tableName="product">
            <column defaultValue="0" name="hidden" type="TINYINT"/>
        </addColumn>
  </changeSet>
  <changeSet author="meenal (generated)" id="1326892461919-1">
        <createTable tableName="category_has_heading">
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="heading_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="meenal (generated)" id="1326892461919-2">
        <createTable tableName="category_image">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="category" type="VARCHAR(100)"/>
            <column name="url" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="alt_text" type="VARCHAR(45)"/>
            <column name="height" type="INT"/>
            <column name="width" type="INT"/>
            <column name="hidden" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="checksum" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="uploaded" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="ranking" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="meenal (generated)" id="1326892461919-3">
        <createTable tableName="heading">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="display_name" type="VARCHAR(100)"/>
            <column name="link" type="VARCHAR(100)"/>
        </createTable>
    </changeSet>
    <changeSet author="meenal (generated)" id="1326892461919-4">
        <createTable tableName="heading_has_product">
            <column name="heading_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="meenal (generated)" id="1326892461919-5">
        <addPrimaryKey columnNames="category_name, heading_id" tableName="category_has_heading"/>
    </changeSet>
    <changeSet author="meenal (generated)" id="1326892461919-6">
        <addPrimaryKey columnNames="heading_id, product_id" tableName="heading_has_product"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-1">
        <createTable tableName="item_detail">
            <column name="item_code" type="VARCHAR(12)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="item_name" type="VARCHAR(40)"/>
            <column name="alias" type="VARCHAR(40)"/>
            <column name="print_name" type="VARCHAR(40)"/>
            <column name="parent_group" type="VARCHAR(40)"/>
            <column name="unit" type="VARCHAR(40)"/>
            <column name="opening_stock" type="DECIMAL(10,2)"/>
            <column name="opening_stock_value" type="DECIMAL(10,2)"/>
            <column name="sale_price" type="DECIMAL(10,2)"/>
            <column name="purchase_price" type="DECIMAL(10,2)"/>
            <column name="mrp" type="DECIMAL(10,2)"/>
            <column name="self_value_price" type="DECIMAL(10,2)"/>
            <column name="sale_discount" type="DECIMAL(10,2)"/>
            <column name="purchase_discount" type="DECIMAL(10,2)"/>
            <column name="min_sale_price" type="DECIMAL(10,2)"/>
            <column name="tax_rate_local" type="DECIMAL(10,2)"/>
            <column name="tax_rate_central" type="DECIMAL(10,2)"/>
            <column name="tax_on_mrp" type="TINYINT"/>
            <column name="item_description_1" type="VARCHAR(40)"/>
            <column name="item_description_2" type="VARCHAR(40)"/>
            <column name="item_description_3" type="VARCHAR(40)"/>
            <column name="item_description_4" type="VARCHAR(40)"/>
            <column name="imported" type="TINYINT"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-2">
        <createTable tableName="transaction_body">
            <column name="vch_code" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="s_no" type="INT"/>
            <column name="item_code" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="qty" type="INT"/>
            <column name="unit" type="VARCHAR(40)"/>
            <column name="mrp" type="DECIMAL(10,2)"/>
            <column name="rate" type="DECIMAL(10,2)"/>
            <column name="discount" type="DECIMAL(10,2)"/>
            <column name="vat" type="DECIMAL(10,2)"/>
            <column name="amount" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-3">
        <createTable tableName="transaction_footer">
            <column name="vch_code" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="s_no" type="INT"/>
            <column name="type" type="TINYINT"/>
            <column name="bill_sundry_name" type="VARCHAR(40)"/>
            <column name="percent" type="INT"/>
            <column name="amount" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-4">
        <createTable tableName="transaction_header">
            <column autoIncrement="true" name="vch_code" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="series" type="VARCHAR(20)"/>
            <column name="date" type="DATETIME"/>
            <column name="vch_no" type="VARCHAR(25)"/>
            <column name="vch_type" type="INT"/>
            <column name="sale_type" type="VARCHAR(40)"/>
            <column name="account_name" type="VARCHAR(40)"/>
            <column name="address_1" type="VARCHAR(40)"/>
            <column name="address_2" type="VARCHAR(40)"/>
            <column name="address_3" type="VARCHAR(40)"/>
            <column name="address_4" type="VARCHAR(40)"/>
            <column name="tin_number" type="VARCHAR(30)"/>
            <column name="material_centre" type="VARCHAR(40)"/>
            <column name="narration" type="VARCHAR(90)"/>
            <column name="out_of_state" type="TINYINT"/>
            <column name="against_form" type="VARCHAR(30)"/>
            <column name="net_amount" type="DECIMAL(10,2)"/>
            <column name="imported" type="TINYINT"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-11">
        <createIndex indexName="transaction_header_vch_s_no_unique" tableName="transaction_body" unique="true">
            <column name="s_no"/>
            <column name="vch_code"/>
        </createIndex>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-12">
        <createIndex indexName="transaction_header_vch_code_s_no_unique" tableName="transaction_footer" unique="true">
            <column name="vch_code"/>
            <column name="s_no"/>
        </createIndex>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-14">
        <addForeignKeyConstraint baseColumnNames="item_code" baseTableName="item_detail" constraintName="fk_item_detail_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-15">
        <addForeignKeyConstraint baseColumnNames="item_code" baseTableName="transaction_body" constraintName="fk_transaction_2_item_detail1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="item_code" referencedTableName="item_detail" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-16">
        <addForeignKeyConstraint baseColumnNames="vch_code" baseTableName="transaction_body" constraintName="fk_transaction_body_transaction_header1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="vch_code" referencedTableName="transaction_header" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-17">
        <addForeignKeyConstraint baseColumnNames="vch_code" baseTableName="transaction_footer" constraintName="fk_transaction_footer_transaction_header1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="vch_code" referencedTableName="transaction_header" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1327741669957-7">
        <addNotNullConstraint columnDataType="INT" columnName="s_no" tableName="transaction_body"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327741669957-8">
        <addNotNullConstraint columnDataType="INT" columnName="s_no" tableName="transaction_footer"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327779675328-7">
        <addNotNullConstraint columnDataType="DECIMAL(10,2)" columnName="amount" tableName="transaction_body"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327779675328-8">
        <addNotNullConstraint columnDataType="INT" columnName="qty" tableName="transaction_body"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327779675328-9">
        <addNotNullConstraint columnDataType="DECIMAL(10,2)" columnName="rate" tableName="transaction_body"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1327813121566-1">
        <addColumn tableName="item_detail">
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327813121566-2">
        <addColumn tableName="transaction_body">
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327813121566-3">
        <addColumn tableName="transaction_footer">
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327813121566-4">
        <addColumn tableName="transaction_header">
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327814261461-7">
        <addNotNullConstraint columnDataType="DATETIME" columnName="created_date" tableName="product_variant"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1328098059534-1">
        <createTable tableName="additional_power">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="additional_power" type="DECIMAL(10,2)"/>
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-2">
        <createTable tableName="cylindrical_power">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="cylindrical_power" type="DECIMAL(10,2)"/>
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-3">
        <createTable tableName="eye_axis">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="axis" type="INT"/>
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-4">
        <createTable tableName="eye_configuration">
            <column name="product_variant_configuration_id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="left_eye_power_id" type="INT"/>
            <column name="right_eye_power_id" type="INT"/>
            <column name="left_cylindrical_power_id" type="INT"/>
            <column name="right_cylindrical_power_id" type="INT"/>
            <column name="left_eye_axis_id" type="INT"/>
            <column name="right_eye_axis_id" type="INT"/>
            <column name="left_additional_power_id" type="INT"/>
            <column name="right_additional_power_id" type="INT"/>
            <column name="left_pupillary_distance_id" type="INT"/>
            <column name="right_pupillary_distance_id" type="INT"/>
            <column name="left_glass_thickness_id" type="INT"/>
            <column name="right_glass_thickness_id" type="INT"/>
            <column name="left_glass_coating_id" type="INT"/>
            <column name="right_glass_coating_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-5">
        <createTable tableName="eye_power">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="eye_power" type="DECIMAL(10,2)"/>
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-6">
        <createTable tableName="frame_type">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="frame_name" type="VARCHAR(45)"/>
            <column name="frame_price" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-7">
        <createTable tableName="glass_coating">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="glass_coating" type="VARCHAR(45)"/>
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-8">
        <createTable tableName="glass_thickness">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="glass_thickness" type="VARCHAR(45)"/>
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-9">
        <createTable tableName="product_variant_configuration">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="configuration_name" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-10">
        <createTable tableName="pupillary_distance">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="pupillary_distance" type="INT"/>
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-11">
        <addColumn tableName="line_item">
            <column name="product_variant_configuration_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-22">
        <addForeignKeyConstraint baseColumnNames="left_additional_power_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_additional_power1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="additional_power" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-23">
        <addForeignKeyConstraint baseColumnNames="left_cylindrical_power_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_cylindrical_power1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cylindrical_power" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-24">
        <addForeignKeyConstraint baseColumnNames="left_eye_axis_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_eye_axis1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="eye_axis" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-25">
        <addForeignKeyConstraint baseColumnNames="left_eye_power_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_eye_power1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="eye_power" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-26">
        <addForeignKeyConstraint baseColumnNames="left_glass_coating_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_glass_coating1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="glass_coating" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-27">
        <addForeignKeyConstraint baseColumnNames="left_glass_thickness_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_glass_thickness1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="glass_thickness" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-28">
        <addForeignKeyConstraint baseColumnNames="left_pupillary_distance_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_pupillary_distance1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pupillary_distance" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-29">
        <addForeignKeyConstraint baseColumnNames="product_variant_configuration_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_product_variant_configuration1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant_configuration" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-30">
        <addForeignKeyConstraint baseColumnNames="right_additional_power_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_additional_power2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="additional_power" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-31">
        <addForeignKeyConstraint baseColumnNames="right_cylindrical_power_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_cylindrical_power2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cylindrical_power" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-32">
        <addForeignKeyConstraint baseColumnNames="right_eye_axis_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_eye_axis2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="eye_axis" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-33">
        <addForeignKeyConstraint baseColumnNames="right_eye_power_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_eye_power2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="eye_power" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-34">
        <addForeignKeyConstraint baseColumnNames="right_glass_coating_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_glass_coating2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="glass_coating" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-35">
        <addForeignKeyConstraint baseColumnNames="right_glass_thickness_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_glass_thickness2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="glass_thickness" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-36">
        <addForeignKeyConstraint baseColumnNames="right_pupillary_distance_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_pupillary_distance2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pupillary_distance" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-39">
        <addForeignKeyConstraint baseColumnNames="product_variant_configuration_id" baseTableName="line_item" constraintName="fk_line_item_product_variant_configuration1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant_configuration" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="PRATHAM (generated)" id="1328107453156-9">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="category_has_heading" constraintName="fk_category_has_heading_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1328107453156-10">
        <addForeignKeyConstraint baseColumnNames="heading_id" baseTableName="category_has_heading" constraintName="fk_category_has_heading_heading1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="heading" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1328107453156-11">
        <addForeignKeyConstraint baseColumnNames="category" baseTableName="category_image" constraintName="fk_table1_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1328107453156-12">
        <addForeignKeyConstraint baseColumnNames="heading_id" baseTableName="heading_has_product" constraintName="fk_heading_has_product_heading1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="heading" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1328107453156-13">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="heading_has_product" constraintName="fk_heading_has_product_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1328118907352-1">
        <addColumn tableName="eye_configuration">
            <column name="frame_type_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328118907352-12">
        <addForeignKeyConstraint baseColumnNames="frame_type_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_frame_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="frame_type" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Ajeet (written)" id="20120202-01">
        <dropForeignKeyConstraint baseTableName="line_item" constraintName="fk_line_item_combo_instance1"/>
    </changeSet>
    <changeSet author="Ajeet (written)" id="20120202-03">
      <dropForeignKeyConstraint baseTableName="combo" constraintName="fk_combo_combo_image1"/>
    </changeSet>
    <changeSet author="Ajeet (written)" id="20120202-02">
      <sql>
        drop table combo_product_allowed_variant;
        drop table combo_has_product;
        drop table combo_instance_has_product_variant;
        alter table line_item drop column combo_instance_id;
        drop table combo_instance;
        drop table category_has_combo;
        drop table combo_image;
        drop table combo;
      </sql>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1328204238791-1">
        <createTable tableName="combo">
            <column name="product_combo_id" type="VARCHAR(20)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="tag_line" type="VARCHAR(100)"/>
            <column name="marked_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="discount_percentage" type="DECIMAL(7,4)">
                <constraints nullable="false"/>
            </column>
            <column name="hk_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_base_qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_base_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_add_qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_add_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-2">
        <createTable tableName="combo_has_product">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="combo_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="product_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="1" name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-3">
        <createTable tableName="combo_instance">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="combo_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-4">
        <createTable tableName="combo_instance_has_product_variant">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="combo_instance_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="1" name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-5">
        <createTable tableName="combo_product_allowed_variant">
            <column name="combo_has_product_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-6">
        <addColumn tableName="line_item">
            <column name="combo_instance_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-9">
        <addForeignKeyConstraint baseColumnNames="product_combo_id" baseTableName="combo" constraintName="fk_combo_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-10">
        <addForeignKeyConstraint baseColumnNames="combo_id" baseTableName="combo_has_product" constraintName="fk_combo_has_product_combo1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="product_combo_id" referencedTableName="combo" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-11">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="combo_has_product" constraintName="fk_combo_has_product_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-12">
        <addForeignKeyConstraint baseColumnNames="combo_id" baseTableName="combo_instance" constraintName="fk_combo_instance_combo1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="product_combo_id" referencedTableName="combo" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-13">
        <addForeignKeyConstraint baseColumnNames="combo_instance_id" baseTableName="combo_instance_has_product_variant" constraintName="fk_product_variant_of_combo_instance_combo_instance1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo_instance" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-14">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="combo_instance_has_product_variant" constraintName="fk_product_variant_of_combo_instance_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-15">
        <addForeignKeyConstraint baseColumnNames="combo_has_product_id" baseTableName="combo_product_allowed_variant" constraintName="fk_combo_has_product_has_product_variant_combo_has_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo_has_product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-16">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="combo_product_allowed_variant" constraintName="fk_combo_has_product_has_product_variant_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-17">
        <addForeignKeyConstraint baseColumnNames="combo_instance_id" baseTableName="line_item" constraintName="fk_line_item_combo_instance1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo_instance" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1328258212933-1">
        <addColumn tableName="base_order">
            <column name="basket_category" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1328258212933-2">
        <addColumn tableName="base_order">
            <column name="is_priority_order" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1328258212933-4">
        <addNotNullConstraint columnDataType="VARCHAR(45)" columnName="rack" tableName="bin"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1328258212933-5">
        <modifyDataType columnName="id" newDataType="VARCHAR(20)" tableName="product"/>
    </changeSet>
      <changeSet author="PRATHAM (written)" id="1328258212933-6">
        <sql>update line_item set line_item_status_id=13 where line_item_status_id=20;</sql>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328528228171-1">
        <createTable tableName="primary_category_heading">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="display_name" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column name="link" type="TEXT"/>
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328528228171-2">
        <dropForeignKeyConstraint baseTableName="category_has_heading" constraintName="fk_category_has_heading_category1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328528228171-3">
        <dropForeignKeyConstraint baseTableName="category_has_heading"  constraintName="fk_category_has_heading_heading1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328528228171-4">
        <dropForeignKeyConstraint baseTableName="heading_has_product"  constraintName="fk_heading_has_product_heading1"/>
    </changeSet>
	<changeSet author="Rahul (generated)" id="1328528228171-5">
      <sql>
        delete from heading_has_product;
      </sql>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1328528228171-6">
        <addForeignKeyConstraint baseColumnNames="heading_id" baseTableName="heading_has_product" constraintName="fk_heading_has_product_heading1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="primary_category_heading" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328528228171-7">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="primary_category_heading" constraintName="fk_primary_category_heading_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328528228171-8">
        <dropTable tableName="category_has_heading"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328528228171-14">
        <dropTable tableName="heading"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-1">
        <createTable tableName="line_item_config">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValueBoolean="false" name="is_left" type="BIT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-2">
        <createTable tableName="line_item_config_values">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="value" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="variant_config_option_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0.00" name="additional_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="line_item_config_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-3">
        <createTable tableName="variant_config">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-4">
        <createTable tableName="variant_config_option">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="variant_config_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-5">
        <createTable tableName="variant_config_values">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="value" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0.00" name="additonal_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="variant_config_option_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="variant_config_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-6">
        <addColumn tableName="line_item">
            <column name="line_item_config_id" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1328612286936-7">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_frame_type1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-8">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_additional_power1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-9">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_cylindrical_power1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-10">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_eye_axis1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-11">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_eye_power1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-12">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_glass_coating1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-13">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_glass_thickness1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-14">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_pupillary_distance1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-15">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_product_variant_configuration1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-16">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_additional_power2"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-17">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_cylindrical_power2"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-18">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_eye_axis2"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-19">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_eye_power2"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-20">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_glass_coating2"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-21">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_glass_thickness2"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-22">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_pupillary_distance2"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-23">
        <dropForeignKeyConstraint baseTableName="line_item" constraintName="fk_line_item_product_variant_configuration1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-25">
        <addForeignKeyConstraint baseColumnNames="line_item_config_id" baseTableName="line_item" constraintName="fk_line_item_line_item_config1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="line_item_config" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-26">
        <addForeignKeyConstraint baseColumnNames="line_item_config_id" baseTableName="line_item_config_values" constraintName="fk_line_item_config_values_line_item_config1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="line_item_config" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-27">
        <addForeignKeyConstraint baseColumnNames="variant_config_option_id" baseTableName="line_item_config_values" constraintName="fk_line_item_config_values_variant_config_option1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="variant_config_option" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-28">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="variant_config" constraintName="fk_product_variant_configuration_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-29">
        <addForeignKeyConstraint baseColumnNames="variant_config_id" baseTableName="variant_config_option" constraintName="fk_variant_config_option_variant_config1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="variant_config" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-30">
        <addForeignKeyConstraint baseColumnNames="variant_config_id" baseTableName="variant_config_values" constraintName="fk_variant_config_values_variant_config1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="variant_config" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-31">
        <addForeignKeyConstraint baseColumnNames="variant_config_option_id" baseTableName="variant_config_values" constraintName="fk_variant_config_values_variant_config_option1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="variant_config_option" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-32">
        <dropColumn columnName="product_variant_configuration_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-33">
        <dropTable tableName="additional_power"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-34">
        <dropTable tableName="cylindrical_power"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-38">
        <dropTable tableName="eye_axis"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-39">
        <dropTable tableName="eye_configuration"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-40">
        <dropTable tableName="eye_power"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1328612286936-42">
        <dropTable tableName="frame_type"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-43">
        <dropTable tableName="glass_coating"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-44">
        <dropTable tableName="glass_thickness"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-46">
        <dropTable tableName="product_variant_configuration"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-47">
        <dropTable tableName="pupillary_distance"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-1">
        <addColumn tableName="category_image">
            <column name="link" type="VARCHAR(450)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-2">
        <addColumn tableName="product_variant">
            <column name="free_product_variant_id" type="VARCHAR(12)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-3">
        <addColumn tableName="product_variant">
            <column name="variant_config_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-4">
        <modifyDataType columnName="is_left" newDataType="BIT" tableName="line_item_config"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-5">
        <dropForeignKeyConstraint baseTableName="variant_config" constraintName="fk_product_variant_configuration_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-6">
        <dropForeignKeyConstraint baseTableName="variant_config_values" constraintName="fk_variant_config_values_variant_config1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-7">
        <addForeignKeyConstraint baseColumnNames="free_product_variant_id" baseTableName="product_variant" constraintName="fk_product_variant_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-8">
        <addForeignKeyConstraint baseColumnNames="variant_config_id" baseTableName="product_variant" constraintName="fk_product_variant_variant_config1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="variant_config" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-9">
        <dropColumn columnName="product_variant_id" tableName="variant_config"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-10">
        <dropColumn columnName="variant_config_id" tableName="variant_config_values"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1328776980942-1">
        <createTable tableName="lu_time">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="date_column" type="DATETIME"/>
            <column name="day_column" type="VARCHAR(75)"/>
            <column name="week_column" type="VARCHAR(45)"/>
            <column name="month_column" type="VARCHAR(45)"/>
            <column name="quarter_column" type="VARCHAR(45)"/>
            <column name="year_column" type="VARCHAR(45)"/>
            <column name="month_sort" type="VARCHAR(45)"/>
            <column name="quarter_sort" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328776980942-2">
        <modifyDataType columnName="is_left" newDataType="BIT" tableName="line_item_config"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328776980942-3">
        <addNotNullConstraint columnDataType="BIT" columnName="is_left" tableName="line_item_config"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328776980942-4">
      <sql>

        CREATE TABLE `date_temp` (
        `date` datetime NOT NULL
        ) ENGINE=InnoDB DEFAULT CHARSET=latin1;


        CREATE TABLE num (i int);
        INSERT INTO num (i) VALUES (0), (1), (2), (3), (4), (5), (6), (7), (8), (9);

        insert into date_temp (date) (select adddate('2011-01-01', numlist.id) as `date` from
        (SELECT n1.i + n10.i*10 + n100.i*100 + n1000.i*1000 AS id
        FROM num n1 cross join num as n10 cross join num as n100 cross join num as n1000) as numlist
        where adddate('2011-01-01', numlist.id)
        &lt;
        '2021-01-02');


        insert into lu_time
        (date_column,day_column,week_column,month_column,quarter_column,year_column,month_sort,quarter_sort)

        (select date(dt.date) as date_column,
        dayname(dt.date) as day_column,
        concat("WEEK ",DATE_FORMAT((dt.date),'%x %v')) as week_column,
        concat(DATE_FORMAT((dt.date),'%M %Y')) as month_column,
        concat("Q",quarter(dt.date)," ",year(dt.date)) as quarter_column,
        concat("YEAR ",year(dt.date)) as year_column,
        concat(DATE_FORMAT((dt.date),'%Y-%m')) as month_sort,
        concat(year(dt.date)," ","Q",quarter(dt.date)) as quarter_sort
        from date_temp dt );


        drop table `date_temp`;
        drop table num;

      </sql>
    </changeSet>

    <changeSet author="Rimal (generated)" id="1328889586046-1">
        <addColumn tableName="primary_category_heading">
            <column name="ranking" type="INT"/>
        </addColumn>
    </changeSet>

  <!--<changeSet author="Rahul (generated)" id="1329156268769-2">
    <createView viewName="vw_product_variant_product_options">
      select `pv`.`id` AS `product_variant_id`,
      substr(group_concat(concat(`po`.`name`,':',`po`.`value`) separator '|'),1,100) AS `product_options`
      from ((`product_variant` `pv` left join
            `product_variant_has_product_option` `pvpo`
            on((`pv`.`id` = `pvpo`.`product_variant_id`))) left join
            `product_option` `po` on((`po`.`id` = `pvpo`.`product_option_id`)))
      group by `pv`.`id`
    </createView>
  </changeSet>-->


    <changeSet author="Rahul (generated)" id="1329205227438-1">
        <createTable tableName="purchase_invoice">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="create_date" type="DATETIME"/>
            <column name="purchase_invoice_status_id" type="INT"/>
            <column name="supplier_id" type="INT"/>
            <column name="created_by" type="INT"/>
            <column name="payment_details" type="VARCHAR(100)"/>
            <column name="payment_date" type="DATETIME"/>
            <column name="taxable" type="DECIMAL(12,2)"/>
            <column name="tax" type="DECIMAL(12,2)"/>
            <column name="surcharge" type="DECIMAL(12,2)"/>
            <column name="payable" type="DECIMAL(12,2)"/>
            <column name="discount" type="DECIMAL(12,2)"/>
            <column name="reconciled" type="TINYINT"/>
            <column name="comments" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-2">
        <createTable tableName="purchase_invoice_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="purchase_invoice_id" type="INT"/>
            <column name="product_variant_id" type="VARCHAR(12)"/>
            <column name="qty" type="DECIMAL(12,2)"/>
            <column name="cost_price" type="DECIMAL(12,2)"/>
            <column name="mrp" type="DECIMAL(12,2)"/>
            <column name="taxable" type="DECIMAL(12,2)"/>
            <column name="tax" type="DECIMAL(12,2)"/>
            <column name="surcharge" type="DECIMAL(12,2)"/>
            <column name="payable" type="DECIMAL(12,2)"/>
            <column name="discount_percent" type="DECIMAL(12,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-3">
        <createTable tableName="purchase_invoice_status">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-4">
        <addColumn tableName="goods_received_note">
            <column name="purchase_invoice_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-6">
        <addForeignKeyConstraint baseColumnNames="purchase_invoice_id" baseTableName="goods_received_note" constraintName="fk_goods_received_note_purchase_invoice1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_invoice" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-7">
        <addForeignKeyConstraint baseColumnNames="created_by" baseTableName="purchase_invoice" constraintName="fk_purchase_invoice_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-8">
        <addForeignKeyConstraint baseColumnNames="purchase_invoice_status_id" baseTableName="purchase_invoice" constraintName="fk_purchase_invoice_purchase_invoice_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_invoice_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-9">
        <addForeignKeyConstraint baseColumnNames="supplier_id" baseTableName="purchase_invoice" constraintName="fk_purchase_invoice_supplier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="supplier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-10">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="purchase_invoice_line_item" constraintName="fk_purchase_invoice_line_item_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-11">
        <addForeignKeyConstraint baseColumnNames="purchase_invoice_id" baseTableName="purchase_invoice_line_item" constraintName="fk_purchase_invoice_line_item_purchase_invoice1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_invoice" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="kani (generated)" id="1329309777276-1">
        <addColumn tableName="offer">
            <column name="terms" type="TEXT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1329309777276-2">
        <modifyDataType columnName="is_left" newDataType="TINYINT" tableName="line_item_config"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1329309777276-3">
        <modifyDataType columnName="qty" newDataType="INT" tableName="purchase_invoice_line_item"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1329309821187-1">
        <addNotNullConstraint columnDataType="TINYINT" columnName="is_left" tableName="line_item_config"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1329362992102-1">
        <addColumn tableName="purchase_invoice">
            <column name="invoice_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329362992102-2">
        <addColumn tableName="purchase_invoice">
            <column name="invoice_number" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1329364755145-1">
        <addColumn tableName="purchase_invoice">
            <column name="final_payable" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>

    <changeSet author="PRATHAM (generated)" id="1329398170668-16">
        <addColumn tableName="amazon_feed">
            <column name="batteries_included" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1329398170668-17">
        <addColumn tableName="amazon_feed">
            <column name="colour_name" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1329398170668-18">
        <addColumn tableName="amazon_feed">
            <column name="gender" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1329398170668-19">
        <addColumn tableName="amazon_feed">
            <column name="item_package_quantity" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1329398170668-20">
        <addColumn tableName="amazon_feed">
            <column name="warranty" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1329398170668-23">
        <addColumn tableName="product">
            <column name="is_amazon_product" type="TINYINT"/>
        </addColumn>
    </changeSet>
  <changeSet author="Rahul (generated)" id="1329485179201-1">
        <createTable tableName="purchase_invoice_has_grn">
            <column name="purchase_invoice_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="goods_received_note_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329485179201-2">
        <addPrimaryKey columnNames="purchase_invoice_id, goods_received_note_id" tableName="purchase_invoice_has_grn"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329485179201-3">
        <addForeignKeyConstraint baseColumnNames="goods_received_note_id" baseTableName="purchase_invoice_has_grn" constraintName="fk_purchase_invoice_has_grn_goods_received_note1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="goods_received_note" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329485179201-4">
        <addForeignKeyConstraint baseColumnNames="purchase_invoice_id" baseTableName="purchase_invoice_has_grn" constraintName="fk_purchase_invoice_has_grn_purchase_invoice1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_invoice" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329485789849-1">
        <dropForeignKeyConstraint baseTableName="goods_received_note" constraintName="fk_goods_received_note_purchase_invoice1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329485789849-2">
        <dropColumn columnName="purchase_invoice_id" tableName="goods_received_note"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1329571274985-1">
        <createTable tableName="surcharge">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="DECIMAL(12,2)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329571274985-2">
        <addColumn tableName="purchase_invoice">
            <column name="freight_forwarding_charges" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329571274985-3">
        <addColumn tableName="purchase_invoice">
            <column name="route_permit_number" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329571274985-4">
        <addColumn tableName="purchase_invoice">
            <column name="surcharge_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329571274985-5">
        <addColumn tableName="purchase_invoice_line_item">
            <column name="tax_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329571274985-6">
        <addForeignKeyConstraint baseColumnNames="surcharge_id" baseTableName="purchase_invoice" constraintName="fk_purchase_invoice_surcharge1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="surcharge" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329571274985-7">
        <addForeignKeyConstraint baseColumnNames="tax_id" baseTableName="purchase_invoice_line_item" constraintName="fk_purchase_invoice_line_item_tax1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="tax" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329571630410-5">
        <addColumn tableName="purchase_invoice_line_item">
            <column name="tax_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1329571630410-9">
        <dropColumn columnName="tax" tableName="purchase_invoice_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-1">
        <addColumn tableName="purchase_invoice">
            <column name="final_payable_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-2">
        <addColumn tableName="purchase_invoice">
            <column name="payable_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-3">
        <addColumn tableName="purchase_invoice">
            <column name="surcharge_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-4">
        <addColumn tableName="purchase_invoice">
            <column name="tax_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-5">
        <addColumn tableName="purchase_invoice">
            <column name="taxable_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-6">
        <addColumn tableName="purchase_invoice_line_item">
            <column name="payable_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-7">
        <addColumn tableName="purchase_invoice_line_item">
            <column name="surcharge_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-8">
        <addColumn tableName="purchase_invoice_line_item">
            <column name="taxable_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-9">
        <dropNotNullConstraint columnDataType="INT" columnName="tax_id" tableName="purchase_invoice_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-10">
        <dropColumn columnName="final_payable" tableName="purchase_invoice"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-11">
        <dropColumn columnName="payable" tableName="purchase_invoice"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-12">
        <dropColumn columnName="surcharge" tableName="purchase_invoice"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-13">
        <dropColumn columnName="tax" tableName="purchase_invoice"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-14">
        <dropColumn columnName="taxable" tableName="purchase_invoice"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-15">
        <dropColumn columnName="payable" tableName="purchase_invoice_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-16">
        <dropColumn columnName="surcharge" tableName="purchase_invoice_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-17">
        <dropColumn columnName="taxable" tableName="purchase_invoice_line_item"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1329575929575-1">
        <addColumn tableName="purchase_invoice_line_item">
            <column name="surcharge_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329575929575-2">
        <addForeignKeyConstraint baseColumnNames="surcharge_id" baseTableName="purchase_invoice_line_item" constraintName="fk_purchase_invoice_line_item_surcharge1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="surcharge" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1329684070770-1">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="amazon_feed"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-2">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="combo_instance_has_product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-3">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="combo_product_allowed_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-4">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="debit_note_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-5">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="grn_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-6">
        <modifyDataType columnName="product_id" newDataType="VARCHAR(20)" tableName="heading_has_product"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-7">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-8">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="low_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-9">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="notify_me"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-10">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="po_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-11">
        <modifyDataType columnName="product_id" newDataType="VARCHAR(20)" tableName="product_count"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-12">
        <modifyDataType columnName="product_id" newDataType="VARCHAR(20)" tableName="product_feature"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-13">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="product_group_has_product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-14">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="product_group_not_has_product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-15">
        <modifyDataType columnName="product_id" newDataType="VARCHAR(20)" tableName="product_has_related_product"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-16">
        <modifyDataType columnName="related_product_id" newDataType="VARCHAR(20)" tableName="product_has_related_product"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-17">
        <modifyDataType columnName="product_id" newDataType="VARCHAR(20)" tableName="product_image"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-18">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="product_image"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-19">
        <modifyDataType columnName="id" newDataType="VARCHAR(20)" tableName="product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-20">
        <modifyDataType columnName="product_id" newDataType="VARCHAR(20)" tableName="product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-21">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="product_variant_damage_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-22">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="product_variant_has_product_extra_option"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-23">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="product_variant_has_product_option"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-24">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="product_variant_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-25">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="purchase_invoice_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-26">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="rv_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-27">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="sku_group"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-28">
        <modifyDataType columnName="item_code" newDataType="VARCHAR(20)" tableName="transaction_body"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-29">
        <modifyDataType columnName="product_id" newDataType="VARCHAR(20)" tableName="user_cart"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-30">
        <modifyDataType columnName="product_id" newDataType="VARCHAR(20)" tableName="user_product_history"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1329686070991-1">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="amazon_feed"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-2">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="combo_instance_has_product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-3">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="combo_product_allowed_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-4">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="debit_note_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-5">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="grn_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-6">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="low_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-7">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="notify_me"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-8">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="po_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-9">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_id" tableName="product_count"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-10">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_id" tableName="product_feature"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-11">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_id" tableName="product_image"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-12">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_id" tableName="product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-13">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="product_variant_damage_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-14">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="product_variant_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-15">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="rv_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-16">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="sku_group"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-17">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="item_code" tableName="transaction_body"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-18">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_id" tableName="user_cart"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-19">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_id" tableName="user_product_history"/>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1329402445283-1">
        <addColumn tableName="variant_config_option">
            <column name="additional_param" type="VARCHAR(20)"/>
        </addColumn>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1329402445283-2">
        <addColumn tableName="variant_config_option">
            <column name="display_name" type="VARCHAR(250)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1329402445283-3">
        <addColumn tableName="variant_config_option">
            <column name="display_order" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1329402445283-4">
        <addColumn tableName="variant_config_values">
            <column name="display_order" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
  <changeSet author="PRATHAM (generated)" id="1329933652918-12">
      <createTable tableName="product_thumb_tag">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="name" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="PRATHAM (generated)" id="1329933652918-14">
      <addColumn tableName="user_product_history">
          <column name="out_of_stock" type="TINYINT"/>
      </addColumn>
  </changeSet>
  <changeSet author="PRATHAM (generated)" id="1329933652918-16">
      <modifyDataType columnName="value" newDataType="DECIMAL(12,5)" tableName="surcharge"/>
  </changeSet>
  <changeSet author="PRATHAM (generated)" id="1329936848159-13">
      <addColumn tableName="user_product_history">
          <column name="product_thumb_tag_id" type="INT"/>
      </addColumn>
  </changeSet>
    <changeSet author="PRATHAM (generated)" id="1329936848159-35">
        <addForeignKeyConstraint baseColumnNames="product_thumb_tag_id" baseTableName="user_product_history" constraintName="fk_user_product_history_product_thumb_tag1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_thumb_tag" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1330048713965-1">
        <addNotNullConstraint columnDataType="DECIMAL(12,5)" columnName="value" tableName="surcharge"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1330752991166-1">
        <addColumn tableName="product_variant">
            <column name="clearance_sale" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1330754965732-1">
        <createTable tableName="b2b_user_details">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="tin" type="VARCHAR(45)"/>
            <column name="dl_number" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1330754965732-2">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="b2b_user_details" constraintName="fk_b2b_details_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1330766818333-1">
        <addColumn tableName="pincode">
            <column name="default_courier_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1330766818333-2">
        <addColumn tableName="product">
            <column name="secondary_category" type="VARCHAR(80)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1330766818333-3">
        <addColumn tableName="retail_line_item">
            <column name="estimated_collection_by_courier" type="DECIMAL(10,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1330766818333-4">
        <addColumn tableName="retail_line_item">
            <column name="estimated_shipping_by_courier" type="DECIMAL(10,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1330766818333-5">
        <addColumn tableName="retail_line_item">
            <column name="extra_charges" type="DECIMAL(10,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1330766818333-7">
        <addForeignKeyConstraint baseColumnNames="default_courier_id" baseTableName="pincode" constraintName="fk_pincode_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1330766818333-8">
        <addForeignKeyConstraint baseColumnNames="secondary_category" baseTableName="product" constraintName="fk_product_category2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1330950533631-13">
        <createTable tableName="reconciliation_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1330950533631-14">
        <addColumn tableName="reconciliation_voucher">
            <column name="reconciliation_type_id" type="INT"/>
        </addColumn>
    </changeSet>

  <changeSet author="Rimal (written)" id="1330950533631-15">
      <sql>
        update primary_category_heading set ranking = id;
      </sql>
    </changeSet>
    <changeSet author="Praveen (generated)" id="1331040872256-1">
        <createTable tableName="ad_networks">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(80)"/>
        </createTable>
    </changeSet>
    <changeSet author="Praveen (generated)" id="1331040872256-2">
        <createTable tableName="marketing_expense">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="category" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="impression" type="INT"/>
            <column name="click" type="INT"/>
            <column name="amount_spend" type="DECIMAL(10,2)"/>
            <column name="conversion" type="INT"/>
            <column name="cost_of_conversion" type="DECIMAL(10,2)"/>
            <column name="date" type="DATE"/>
            <column name="ad_networks_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Praveen (generated)" id="1331040872256-48">
        <createIndex indexName="date_UNIQUE" tableName="marketing_expense" unique="true">
            <column name="date"/>
            <column name="category"/>
            <column name="ad_networks_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Praveen (generated)" id="1331040872256-50">
        <addForeignKeyConstraint baseColumnNames="ad_networks_id" baseTableName="marketing_expense" constraintName="fk_marketing_expense_ad_networks1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="ad_networks" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Praveen (generated)" id="1331040872256-51">
        <addForeignKeyConstraint baseColumnNames="category" baseTableName="marketing_expense" constraintName="fk_marketing_expense_category10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1331394140179-79">
        <dropColumn columnName="value" tableName="reconciliation_type"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1331395353005-61">
        <dropColumn columnName="reconciliation_type_id" tableName="reconciliation_voucher"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1331395353005-1">
        <addColumn tableName="rv_line_item">
            <column name="reconciliation_type_id" type="INT"/>
       </addColumn>
    </changeSet>
     <changeSet author="PRATHAM (generated)" id="1331395353005-48">
      <addForeignKeyConstraint baseColumnNames="reconciliation_type_id" baseTableName="rv_line_item" constraintName="fk_rv_line_item_reconciliation_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="reconciliation_type" referencesUniqueColumn="false"/>
     </changeSet>
    <changeSet author="PRATHAM (written)" id="10032012-01">
      <sql>
          UPDATE rv_line_item SET reconciliation_type_id = 10 WHERE qty &gt; 0;
      </sql>
    </changeSet>
    <changeSet author="PRATHAM (written)" id="10032012-02">
      <sql>
          UPDATE rv_line_item SET qty = qty * -1, reconciliation_type_id = 20 WHERE qty &lt; 0;
      </sql>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1331798247774-1">
        <addColumn tableName="low_inventory">
            <column name="out_of_stock" type="TINYINT"/>
        </addColumn>
    </changeSet>

    <changeSet author="rahul" id="1332342105236-159">
      <sql>
        insert into warehouse values (1,'badshahpur','gurgaon','HARYANA','123456789');
      </sql>
    </changeSet>


    <changeSet author="Rahul (generated)" id="1332342105236-1">
        <createTable tableName="base_order_category">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="base_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="is_primary" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-2">
        <createTable tableName="cart_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(20)"/>
            <column name="marked_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="hk_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="line_item_type_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="combo_instance_id" type="INT"/>
            <column name="cart_line_item_config_id" type="INT"/>
            <column defaultValueNumeric="0.00" name="discount_on_hk_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="version" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

  <changeSet author="rahul" id="1332342105236-200">
    <sql>

      insert into category values ('nutrition','Nutrition') on duplicate key update display_name = 'Nutrition';
      insert into category values ('home','Home') on duplicate key update display_name = 'Home' ;

      INSERT INTO tax (id, name, value) VALUES (1, 'Service Tax @ 10.3%', 0.10300) on duplicate key update
      value=0.10300;
      INSERT INTO tax (id, name, value) VALUES (2, 'VAT @ 5.25%', 0.05250) on duplicate key update value=0.05250;
      INSERT INTO tax (id, name, value) VALUES (3, 'VAT @ 13.125%', 0.13125) on duplicate key update value=0.13125;
      INSERT INTO tax (id, name, value) VALUES (5, 'VAT - 5.25%', 0.05250) on duplicate key update value=0.05250;
      INSERT INTO tax (id, name, value) VALUES (6, '0.0', 0.00000) on duplicate key update value=0.00000;
      INSERT INTO tax (id, name, value) VALUES (7, '0.125', 0.12500) on duplicate key update value=0.12500;
      INSERT INTO tax (id, name, value) VALUES (8, '0.05', 0.05000) on duplicate key update value=0.05000;
      INSERT INTO tax (id, name, value) VALUES (32, '0.103', 0.10300) on duplicate key update value=0.10300;
      INSERT INTO tax (id, name, value) VALUES (51, 'NA', 0.00000) on duplicate key update value=0.00000;

      insert into order_status (id, name)  values (10,'In Cart') on duplicate key update name = 'In Cart';
      insert into line_item_type (id, name) values (10, 'Product') on duplicate key update name = 'Product';


    </sql>
  </changeSet>


    <changeSet author="rahul" id="1332342105236-160">
      <sql>

        insert into supplier
        (id, name, line1, line2, city, state, pincode, contact_person,
        contact_number, tin_number)
        values
        (-1, 'MIGRATE', 'line1', 'line2', 'city', 'state', 'pincode', 'contact_person',
        '12345', '12345');

        insert into product
        (id,name,thumb_url,order_ranking,brand,
        manufacturer_id,pack_type,overview,description,
        keywords,min_days,max_days,deleted,main_image_id,
        product_has_color_options,supplier_id,create_date,
        primary_category,is_service,is_google_ad_disallowed,
        video_embed_code,is_jit,hidden,is_amazon_product,secondary_category)
        values ('MIGRATE','Misc','no-image.jpg',0,'migrate',
        NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,
        0,-1,'2012-03-15 00:00:00','nutrition',0,0,NULL,0,0,NULL,NULL);

        insert into product_variant
        (id,marked_price,discount_percent,hk_price,tax_id,
        product_id,shipping_base_qty,shipping_base_price,shipping_add_qty,
        shipping_add_price,out_of_stock,variant_name,deleted,
        order_ranking,affiliate_category_name,main_image_id,color_hex,
        breadth,height,length,weight,upc,cut_off_inventory,main_product_image_id,
        payment_type_id,product_variant_service_type_id,postpaid_amount,created_date,b2b_price,
        free_product_variant_id,variant_config_id,clearance_sale)

        values ('MIGRATE-01','10.00','0.0000','10.00',5,'MIGRATE',1,'0.00',1,'0.00',0,'',
        0,1000,NULL,NULL,'',0,0,0,0,'890265322332',
        NULL,NULL,NULL,NULL,0,'2012-03-15 00:00:00',
        NULL,NULL,NULL,NULL);

        insert into user
        (
        id,
        login,
        password_checksum,
        create_date,
        update_date,
        last_login_date,
        user_hash
        )
        values
        (-1,
        'rahul@migration.com',
        'MD5baakipatanahi',
        '2012-03-17 00:00:00',
        '2012-03-17 00:00:00',
        '2012-03-17 00:00:00',
        'patanahi'
        );

        insert into base_order
        (id,
        user_id,
        order_status_id,
        create_date,
        update_date,
        reconciliation_status_id
        )
        values
        (-1,-1,10,
        '2012-03-16 00:00:00',
        '2012-03-16 00:00:00',
        10
        );

        insert into cart_line_item
        (id, order_id, qty, product_variant_id, marked_price,
        hk_price, line_item_type_id,
        discount_on_hk_price, version)
        values
        (-1, -1, 1, 'MIGRATE-01', 1,
        1, 10,
        1, 0);
      </sql>
    </changeSet>


  <changeSet author="Rahul (generated)" id="1332342105236-3">
        <createTable tableName="cart_line_item_config">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValueNumeric="0" name="is_left" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-4">
        <createTable tableName="cart_line_item_config_values">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="value" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="variant_config_option_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0.00" name="additional_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="cart_line_item_config_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-5">
        <createTable tableName="cart_line_item_extra_option">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="cart_line_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-6">
        <createTable tableName="seek_invoice_num">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="invoice_num" type="INT"/>
            <column name="prefix" type="VARCHAR(45)"/>
            <column name="description" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-7">
        <createTable tableName="shipment">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValue="MIGRATE" name="tracking_id" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="-1" name="courier_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="ship_date" type="DATETIME"/>
            <column name="delivery_date" type="DATETIME"/>
            <column defaultValueNumeric="-1" name="box_size_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0.0000" name="box_weight" type="DECIMAL(8,4)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-8">
        <createTable tableName="shipping_order">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="base_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="amount" type="DECIMAL(11,2)">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="update_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="shipment_id" type="INT"/>
            <column name="gateway_order_id" type="VARCHAR(30)"/>
            <column name="shipping_order_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="10" name="reconciliation_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="cancellation_type_id" type="INT"/>
            <column name="cancellation_remark" type="TEXT"/>
            <column name="accounting_invoice_number_id" type="INT"/>
            <column name="basket_category" type="VARCHAR(45)"/>
            <column defaultValueNumeric="0" name="is_service_order" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="version" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-9">
        <createTable tableName="shipping_order_lifecycle">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="shipping_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_order_lifecycle_activity_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="activity_by_user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="comments" type="TEXT"/>
            <column name="activity_date" type="DATETIME"/>
        </createTable>
    </changeSet>



    <changeSet author="Rahul (generated)" id="1332342105236-10">
        <createTable tableName="shipping_order_lifecycle_activity">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-11">
        <createTable tableName="shipping_order_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="rahul" id="1332342105236-161">
      <sql>

        insert into shipping_order_status
        (id, name)
        values
        (-1, 'MIGRATE');

        insert into shipping_order
        (id, shipping_order_status_id, amount, create_date, update_date,
        gateway_order_id, reconciliation_status_id,
        base_order_id, warehouse_id, is_service_order, version)
        values
        (-1, -1, 1, '2012-03-16 00:00:00', '2012-03-16 00:00:00',
        '123', 10,
        -1, 1, 0, 0);

      </sql>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1332342105236-12">
        <createTable tableName="sku">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="cut_off_inventory" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="forecasted_quantity" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="tax_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="rahul" id="1332342105236-162">
      <sql>
        insert into sku values (-1,'MIGRATE-01',1,0,0,0,1);
      </sql>
    </changeSet>


  <changeSet author="Rahul (generated)" id="1332342105236-13">
        <addColumn tableName="accounting_invoice">
            <column name="shipping_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-14">
        <addColumn tableName="base_order">
            <column name="version" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-15">
        <addColumn tableName="bin">
            <column defaultValue="1" name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-16">
        <addColumn tableName="goods_received_note">
            <column defaultValue="1" name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-17">
        <addColumn tableName="grn_line_item">
            <column defaultValue="-1" name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-18">
        <addColumn tableName="line_item">
            <column name="cart_line_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-19">
        <addColumn tableName="line_item">
            <column name="cod_charge" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-20">
        <addColumn tableName="line_item">
            <column defaultValue="0" name="deleted" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-21">
        <addColumn tableName="line_item">
            <column name="order_level_discount" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-22">
        <addColumn tableName="line_item">
            <column name="reward_point_discount" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-23">
        <addColumn tableName="line_item">
            <column name="shipping_charge" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-24">
        <addColumn tableName="line_item">
            <column defaultValue="-1" name="shipping_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-25">
        <addColumn tableName="line_item">
            <column defaultValue="-1" name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-26">
        <addColumn tableName="line_item">
            <column defaultValue="0" name="version" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-27">
        <addColumn tableName="po_line_item">
            <column defaultValue="-1" name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-28">
        <addColumn tableName="product_variant_damage_inventory">
            <column defaultValue="-1" name="shipping_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-29">
        <addColumn tableName="product_variant_damage_inventory">
            <column defaultValue="-1" name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-30">
        <addColumn tableName="product_variant_inventory">
            <column name="shipping_order_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-31">
        <addColumn tableName="product_variant_inventory">
            <column defaultValue="-1" name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-32">
        <addColumn tableName="purchase_invoice">
            <column defaultValue="1" name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-33">
        <addColumn tableName="purchase_invoice_line_item">
            <column defaultValue="-1" name="sku_id" type="INT">
              <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-34">
        <addColumn tableName="purchase_order">
            <column defaultValue="1" name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-35">
        <addColumn tableName="reconciliation_voucher">
            <column defaultValue="1" name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-36">
        <addColumn tableName="rv_line_item">
            <column defaultValue="-1" name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-37">
        <addColumn tableName="sku_group">
            <column defaultValue="-1" name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-38">
        <addColumn tableName="warehouse">
            <column name="line1" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-39">
        <addColumn tableName="warehouse">
            <column name="line2" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-40">
        <addColumn tableName="warehouse">
            <column defaultValue="Gurgaon Warehouse" name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-41">
        <addColumn tableName="warehouse">
            <column defaultValue="122101" name="pincode" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-42">
        <addColumn tableName="warehouse">
            <column defaultValue="06101832327" name="tin" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="rahul" id="1332342105236-163">
      <sql>
        update line_item set cost_price = 0.0 where cost_price is null;
        update line_item set tax_id = 51 where tax_id is null;
        update po_line_item set cost_price = 0.0 where cost_price is null;
        update po_line_item set mrp = 0.0 where mrp is null;
        update product_variant_inventory set user_id = 1 where user_id is null;
        update line_item set cart_line_item_id = -1;
      </sql>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1332342105236-43">
        <addNotNullConstraint columnDataType="DECIMAL(10,2)" columnName="cost_price" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-44">
        <addNotNullConstraint columnDataType="INT" columnName="tax_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-45">
        <addNotNullConstraint columnDataType="DECIMAL(8,2)" columnName="cost_price" tableName="po_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-46">
        <addNotNullConstraint columnDataType="DECIMAL(8,2)" columnName="mrp" tableName="po_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-47">
        <modifyDataType columnName="free_product_variant_id" newDataType="VARCHAR(20)" tableName="product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-48">
        <addNotNullConstraint columnDataType="INT" columnName="user_id" tableName="product_variant_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-49">
        <addNotNullConstraint columnDataType="INT" columnName="reconciliation_type_id" tableName="rv_line_item"/>
    </changeSet>


    <changeSet author="Rahul (generated)" id="1332342105236-50">
        <dropForeignKeyConstraint baseTableName="accounting_invoice"  constraintName="fk_table1_base_order1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-51">
        <dropForeignKeyConstraint baseTableName="base_order"  constraintName="fk_base_order_reconciliation_status1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-52">
        <dropForeignKeyConstraint baseTableName="grn_line_item"  constraintName="fk_grn_line_item_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-53">
        <dropForeignKeyConstraint baseTableName="line_item"  constraintName="fk_line_item_box_size1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-54">
        <dropForeignKeyConstraint baseTableName="line_item"  constraintName="fk_line_item_courier1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-55">
        <dropForeignKeyConstraint baseTableName="line_item"  constraintName="fk_line_item_line_item_config1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-56">
        <dropForeignKeyConstraint baseTableName="line_item"  constraintName="fk_line_item_line_item_status1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-57">
        <dropForeignKeyConstraint baseTableName="line_item"  constraintName="fk_line_item_line_item_type1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-58">
        <dropForeignKeyConstraint baseTableName="line_item"  constraintName="fk_line_item_base_order1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-59">
        <dropForeignKeyConstraint baseTableName="line_item"  constraintName="fk_line_item_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-60">
        <dropForeignKeyConstraint baseTableName="line_item_config_values"  constraintName="fk_line_item_config_values_line_item_config1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-61">
        <dropForeignKeyConstraint baseTableName="line_item_config_values"  constraintName="fk_line_item_config_values_variant_config_option1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-62">
        <dropForeignKeyConstraint baseTableName="line_item_extra_option"  constraintName="fk_extra_option_line_item1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-63">
        <dropForeignKeyConstraint baseTableName="po_line_item"  constraintName="fk_po_line_item_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-64">
        <dropForeignKeyConstraint baseTableName="product_variant"  constraintName="fk_product_variant_tax1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-65">
        <dropForeignKeyConstraint baseTableName="product_variant_damage_inventory"  constraintName="fk_product_variant_inventory_base_order10"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-66">
        <dropForeignKeyConstraint baseTableName="product_variant_damage_inventory"  constraintName="fk_variant_inventory_product_variant10"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-67">
        <dropForeignKeyConstraint baseTableName="product_variant_inventory"  constraintName="fk_product_variant_inventory_base_order1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-68">
        <dropForeignKeyConstraint baseTableName="product_variant_inventory"  constraintName="fk_variant_inventory_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-69">
        <dropForeignKeyConstraint baseTableName="purchase_invoice_line_item"  constraintName="fk_purchase_invoice_line_item_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-70">
        <dropForeignKeyConstraint baseTableName="rv_line_item"  constraintName="fk_rv_line_item_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-71">
        <dropForeignKeyConstraint baseTableName="sku_group"  constraintName="fk_group_barcode_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-72">
        <dropForeignKeyConstraint baseTableName="sku_group"  constraintName="fk_sku_group_purchase_order1"/>
    </changeSet>

<!--    <changeSet author="Rahul (generated)" id="1332342105236-76">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="accounting_invoice" constraintName="fk_accounting_invoice_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order"  referencesUniqueColumn="false"/>
    </changeSet>-->
    <changeSet author="Rahul (generated)" id="1332342105236-77">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="base_order_category" constraintName="fk_base_order_category_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-78">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="base_order_category" constraintName="fk_base_order_category_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-79">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="bin" constraintName="fk_bin_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-80">
        <addForeignKeyConstraint baseColumnNames="cart_line_item_config_id" baseTableName="cart_line_item" constraintName="fk_cart_line_item_cart_line_item_config1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cart_line_item_config"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-81">
        <addForeignKeyConstraint baseColumnNames="combo_instance_id" baseTableName="cart_line_item" constraintName="fk_cart_line_item_combo_instance1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo_instance"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-82">
        <addForeignKeyConstraint baseColumnNames="line_item_type_id" baseTableName="cart_line_item" constraintName="fk_cart_line_item_line_item_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="line_item_type"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-83">
        <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="cart_line_item" constraintName="fk_cart_line_item_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-84">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="cart_line_item" constraintName="fk_cart_line_item_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-85">
        <addForeignKeyConstraint baseColumnNames="cart_line_item_config_id" baseTableName="cart_line_item_config_values" constraintName="fk_line_item_config_values_line_item_config1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cart_line_item_config"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-86">
        <addForeignKeyConstraint baseColumnNames="variant_config_option_id" baseTableName="cart_line_item_config_values" constraintName="fk_line_item_config_values_variant_config_option1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="variant_config_option"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-87">
        <addForeignKeyConstraint baseColumnNames="cart_line_item_id" baseTableName="cart_line_item_extra_option" constraintName="fk_cart_line_item_extra_option_cart_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cart_line_item"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-88">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="goods_received_note" constraintName="fk_goods_received_note_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-89">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="grn_line_item" constraintName="fk_grn_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-90">
        <addForeignKeyConstraint baseColumnNames="cart_line_item_id" baseTableName="line_item" constraintName="fk_line_item_cart_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cart_line_item"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-91">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="line_item" constraintName="fk_line_item_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-92">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="line_item" constraintName="fk_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-93">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="po_line_item" constraintName="fk_po_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-94">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="product_variant_damage_inventory" constraintName="fk_product_variant_damage_inventory_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-95">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="product_variant_damage_inventory" constraintName="fk_product_variant_damage_inventory_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-96">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-97">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-98">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="purchase_invoice" constraintName="fk_purchase_invoice_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-99">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="purchase_invoice_line_item" constraintName="fk_purchase_invoice_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-100">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="purchase_order" constraintName="fk_purchase_order_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-101">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="reconciliation_voucher" constraintName="fk_reconciliation_voucher_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-102">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="rv_line_item" constraintName="fk_rv_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-103">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="seek_invoice_num" constraintName="fk_seek_invoice_num_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-104">
        <addForeignKeyConstraint baseColumnNames="box_size_id" baseTableName="shipment" constraintName="fk_package_box_size1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="box_size"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-105">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="shipment" constraintName="fk_package_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-106">
        <addForeignKeyConstraint baseColumnNames="accounting_invoice_number_id" baseTableName="shipping_order" constraintName="fk_base_order_accounting_invoice_number10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="accounting_invoice_number"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-107">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="shipping_order" constraintName="fk_shipping_order_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-108">
        <addForeignKeyConstraint baseColumnNames="cancellation_type_id" baseTableName="shipping_order" constraintName="fk_base_order_cancellation_type10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cancellation_type"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-109">
        <addForeignKeyConstraint baseColumnNames="reconciliation_status_id" baseTableName="shipping_order" constraintName="fk_base_order_reconciliation_status10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="reconciliation_status"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-110">
        <addForeignKeyConstraint baseColumnNames="shipment_id" baseTableName="shipping_order" constraintName="fk_shipping_order_shipment1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipment"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-111">
        <addForeignKeyConstraint baseColumnNames="shipping_order_status_id" baseTableName="shipping_order" constraintName="fk_shipping_order_shipping_order_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order_status"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-112">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="shipping_order" constraintName="fk_shipping_order_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-113">
        <addForeignKeyConstraint baseColumnNames="activity_by_user_id" baseTableName="shipping_order_lifecycle" constraintName="fk_shipping_order_lifecycle_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-114">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="shipping_order_lifecycle" constraintName="fk_shipping_order_lifecycle_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-115">
        <addForeignKeyConstraint baseColumnNames="shipping_order_lifecycle_activity_id" baseTableName="shipping_order_lifecycle" constraintName="fk_shipping_order_lifecycle_shipping_order_lifecycle_activity1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order_lifecycle_activity"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-116">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="sku" constraintName="fk_sku_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-117">
        <addForeignKeyConstraint baseColumnNames="tax_id" baseTableName="sku" constraintName="fk_sku_tax1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="tax"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-118">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="sku" constraintName="fk_sku_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-119">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="sku_group" constraintName="fk_sku_group_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>


  <changeSet author="rahul" id="1332342105236-201">
    <sql>
      alter table po_line_item drop key fk_po_line_item_product_variant1;
      alter table po_line_item drop foreign key fk_po_line_item_purchase_order1;
      alter table shipping_order drop foreign key fk_base_order_accounting_invoice_number10;
    </sql>
  </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-120">
      <dropIndex indexName="po_pv_key" tableName="po_line_item"/>
    </changeSet>

    <changeSet author="rahul" id="1332342105236-202">
        <addForeignKeyConstraint baseColumnNames="purchase_order_id" baseTableName="po_line_item" constraintName="fk_po_line_item_purchase_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="rahul" id="1332342105236-203">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="accounting_invoice" constraintName="fk_accounting_invoice_shipping_order10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="rahul" id="1332342105236-164">
      <sql>
        <!--alter table base_order drop foreign key fk_base_order_accounting_invoice_number1;-->
        alter table base_order drop key fk_base_order_reconciliation_status1;
      </sql>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1332342105236-75">
        <createIndex indexName="variant_id_warehouse_UNIQUE" tableName="sku" unique="true">
            <column name="product_variant_id"/>
            <column name="warehouse_id"/>
        </createIndex>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1332342105236-74">
      <createIndex indexName="po_pv_key" tableName="po_line_item" unique="true">
        <column name="purchase_order_id"/>
        <column name="sku_id"/>
      </createIndex>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1332342105236-73">
      <createIndex indexName="grn_sku" tableName="grn_line_item" unique="true">
        <column name="goods_received_note_id"/>
        <column name="sku_id"/>
      </createIndex>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1332342105236-121">
        <dropColumn columnName="order_id" tableName="accounting_invoice"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-122">
        <dropColumn columnName="accounting_invoice_number_id" tableName="base_order"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-123">
        <dropColumn columnName="basket_category" tableName="base_order"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-124">
        <dropColumn columnName="reconciliation_status_id" tableName="base_order"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-125">
        <dropColumn columnName="area" tableName="bin"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-126">
        <dropColumn columnName="city" tableName="bin"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-127">
        <dropColumn columnName="country" tableName="bin"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-128">
        <dropColumn columnName="state" tableName="bin"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-129">
        <dropColumn columnName="product_variant_id" tableName="grn_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-130">
        <dropColumn columnName="box_size_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-131">
        <dropColumn columnName="box_weight" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-132">
        <dropColumn columnName="courier_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-133">
        <dropColumn columnName="delivery_date" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-134">
        <dropColumn columnName="line_item_config_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-135">
        <dropColumn columnName="line_item_status_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-136">
        <dropColumn columnName="line_item_type_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-137">
        <dropColumn columnName="order_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-138">
        <dropColumn columnName="product_variant_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-139">
        <dropColumn columnName="ship_date" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-140">
        <dropColumn columnName="shipped_email_sent" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-141">
        <dropColumn columnName="tracking_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-142">
        <dropColumn columnName="product_variant_id" tableName="po_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-143">
        <dropColumn columnName="cost_price" tableName="product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-144">
        <dropColumn columnName="tax_id" tableName="product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-145">
        <dropColumn columnName="order_id" tableName="product_variant_damage_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-146">
        <dropColumn columnName="product_variant_id" tableName="product_variant_damage_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-147">
        <dropColumn columnName="order_id" tableName="product_variant_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-148">
        <dropColumn columnName="product_variant_id" tableName="product_variant_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-149">
        <dropColumn columnName="product_variant_id" tableName="purchase_invoice_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-150">
        <dropColumn columnName="product_variant_id" tableName="rv_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-151">
        <dropColumn columnName="product_variant_id" tableName="sku_group"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-152">
        <dropColumn columnName="purchase_order_id" tableName="sku_group"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-153">
        <dropColumn columnName="address" tableName="warehouse"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1332342105236-155">
        <dropTable tableName="line_item_config"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-156">
        <dropTable tableName="line_item_config_values"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-157">
        <dropTable tableName="line_item_extra_option"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-158">
        <dropTable tableName="line_item_status"/>
    </changeSet>
  <changeSet author="PRATHAM (generated)" id="1332788122250-4">
      <createTable tableName="pincode_default_courier">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="pincode_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="warehouse_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="courier_id" type="INT"/>
          <column name="cod" type="TINYINT"/>
      </createTable>
  </changeSet>
  <changeSet author="PRATHAM (generated)" id="1332788122250-10">
      <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="pincode_default_courier" constraintName="fk_pincode_default_courier_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="PRATHAM (generated)" id="1332788122250-11">
      <addForeignKeyConstraint baseColumnNames="pincode_id" baseTableName="pincode_default_courier" constraintName="fk_pincode_default_courier_pincode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pincode" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="PRATHAM (generated)" id="1332788122250-12">
      <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="pincode_default_courier" constraintName="fk_pincode_default_courier_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
  </changeSet>

    <changeSet author="Rahul (generated)" id="1333359844542-1">
        <addColumn tableName="shipment">
            <column defaultValue="0" name="email_sent" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333359844542-2">
        <addColumn tableName="shipment">
            <column name="return_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333359844542-3">
        <addColumn tableName="sku">
            <column name="lead_time" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="rahul" id="1333359844542-30">
      <sql>
        update shipping_order set basket_category = 'nutrition' where id = -1;
      </sql>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333359844542-4">
        <addNotNullConstraint columnDataType="VARCHAR(45)" columnName="basket_category" tableName="shipping_order"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333359844542-6">
        <dropIndex indexName="bin_barcode_UNIQUE" tableName="bin"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333359844542-5">
        <createIndex indexName="bin_barcode_UNIQUE" tableName="bin" unique="true">
            <column name="barcode"/>
            <column name="warehouse_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333359844542-7">
        <dropIndex indexName="fk_base_order_accounting_invoice_number10" tableName="shipping_order"/>
    </changeSet>

    <changeSet author="vaibhav" id="1333359844542-8">
      <sql>
        insert into `warehouse` (`id`,`city`,`state`,`wh_phone`,`line1`,`line2`,`name`,`pincode`,`tin`) values (999,'Gurgaon','HARYANA','123456789','Khasra No. 146/25/2/1','Jail Road, Dhumaspur, Badshahpur ','Corporate Office','122101','06101832327');
        update sku, product_variant pv, product p set warehouse_id = 999 where sku.product_variant_id = pv.id and pv.product_id = p.id and p.is_service = 1;
      </sql>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1333446286312-1">
        <dropNotNullConstraint columnDataType="INT" columnName="shipping_order_id" tableName="product_variant_damage_inventory"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1333446286312-2">
        <addNotNullConstraint columnDataType="INT" columnName="sku_item_id" tableName="product_variant_damage_inventory"/>
    </changeSet>

     <changeSet author="Tarun (written)" id="20120402-1">
        <sql>
            CREATE TABLE pincode_default_courier_backup AS (SELECT * FROM pincode_default_courier)
        </sql>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1333365841878-1">
        <addColumn tableName="pincode_default_courier">
            <column name="courier_id_cod" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1333365841878-2">
        <addColumn tableName="pincode_default_courier">
            <column name="courier_id_non_cod" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1333365841878-3">
        <dropForeignKeyConstraint baseTableName="pincode_default_courier" constraintName="fk_pincode_default_courier_courier1"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1333365841878-4">
        <addForeignKeyConstraint baseColumnNames="courier_id_cod" baseTableName="pincode_default_courier" constraintName="fk_pincode_default_courier_cod" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1333365841878-5">
        <addForeignKeyConstraint baseColumnNames="courier_id_non_cod" baseTableName="pincode_default_courier" constraintName="fk_pincode_default_courier_non_cod" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1333365841878-6">
        <dropColumn columnName="courier_id" tableName="pincode_default_courier"/>
    </changeSet>
    <changeSet author="Tarun (written)"   id="20120402-2">
        <sql>
            UPDATE  `pincode_default_courier` SET  `courier_id_cod` =  (SELECT `courier_id` FROM `pincode_default_courier_backup` WHERE `pincode_default_courier_backup`.`cod` = 1 AND `pincode_default_courier_backup`.`pincode_id`=`pincode_default_courier`.`pincode_id`), `courier_id_non_cod` =  (SELECT `courier_id` FROM `pincode_default_courier_backup` WHERE `pincode_default_courier_backup`.`cod` = 0 AND `pincode_default_courier_backup`.`pincode_id`=`pincode_default_courier`.`pincode_id`);
        </sql>
    </changeSet>
    <changeSet author="Tarun (written)"   id="20120402-3">
        <sql>
            DROP TABLE `pincode_default_courier_backup`;
        </sql>
    </changeSet>
    <changeSet author="Tarun (written)"   id="20120402-4">
        <sql>
            delete from `pincode_default_courier` USING `pincode_default_courier`, `pincode_default_courier` AS vtable WHERE (`pincode_default_courier`.`id` > vtable.`id`) AND (`pincode_default_courier`.`pincode_id`=vtable.`pincode_id`);
        </sql>
    </changeSet>

    <changeSet author="Abhay (generated)" id="1333706483689-1">
        <addColumn tableName="shipment">
            <column name="collection_charge" type="DECIMAL(10,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1333706483689-2">
        <addColumn tableName="shipment">
            <column name="estm_collection_charge" type="DECIMAL(10,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1333706483689-3">
        <addColumn tableName="shipment">
            <column name="estm_shipment_charge" type="DECIMAL(10,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1333706483689-4">
        <addColumn tableName="shipment">
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1333706483689-5">
        <addColumn tableName="shipment">
            <column name="shipment_charge" type="DECIMAL(10,2)"/>
        </addColumn>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1333715842775-1">
        <createTable tableName="wh_report_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="line_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipment_charge" type="DECIMAL(10,2)"/>
            <column name="collection_charge" type="DECIMAL(10,2)"/>
            <column name="estm_shipment_charge" type="DECIMAL(10,2)"/>
            <column name="estm_collection_charge" type="DECIMAL(10,2)"/>
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333715842775-2">
        <addColumn tableName="debit_note_line_item">
            <column name="remarks" type="TEXT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333715842775-3">
        <addColumn tableName="debit_note_line_item">
            <column name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333715842775-4">
        <dropForeignKeyConstraint baseTableName="debit_note_line_item" constraintName="fk_debit_note_line_item_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333715842775-5">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="debit_note_line_item" constraintName="fk_debit_note_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333715842775-6">
        <addForeignKeyConstraint baseColumnNames="line_item_id" baseTableName="wh_report_line_item" constraintName="fk_wh_report_line_item_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="line_item"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333715842775-7">
        <dropColumn columnName="product_variant_id" tableName="debit_note_line_item"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1333781139071-1">
        <addColumn tableName="product_variant">
            <column name="cost_price" type="DECIMAL(8,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1333781139071-2">
        <addColumn tableName="product_variant">
            <column name="lead_time" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1333781139071-3">
        <dropNotNullConstraint columnDataType="DECIMAL(10,2)" columnName="cost_price" tableName="sku"/>
    </changeSet>
   <changeSet author="Ajeet (written)" id="1333781139071-4">
     <sql>
       update product_variant set cost_price = 0;
       update product_variant pv, sku sku set pv.cost_price = sku.cost_price where sku.warehouse_id = 1 and sku.product_variant_id = pv.id;
       update product_variant pv, sku sku set pv.cost_price = sku.cost_price where sku.warehouse_id = 2 and sku.product_variant_id = pv.id and sku.cost_price > pv.cost_price;
       update product_variant pv, sku sku set pv.cost_price = sku.cost_price where sku.warehouse_id = 999 and sku.product_variant_id = pv.id and sku.cost_price > pv.cost_price;
     </sql>
   </changeSet>
    <changeSet author="Ajeet (generated)" id="1333781139071-5">
        <dropNotNullConstraint columnDataType="INT" columnName="goods_received_note_id" tableName="debit_note"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1333781139071-6">
        <addColumn tableName="debit_note">
            <column defaultValue="1" name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1333781139071-7">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="debit_note" constraintName="fk_debit_note_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1333781139071-8">
        <addColumn tableName="debit_note">
            <column name="supplier_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1333781139071-9">
        <addForeignKeyConstraint baseColumnNames="supplier_id" baseTableName="debit_note" constraintName="fk_debit_note_supplier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="supplier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333873396169-1">
        <addNotNullConstraint columnDataType="DECIMAL(8,2)" columnName="cost_price" tableName="product_variant"/>
    </changeSet>

  <changeSet author="Vaibhav (written)" id="20120410-01">
    <sql>

      insert into `warehouse` (`id`,`city`,`state`,`wh_phone`,`line1`,`line2`,`name`,`pincode`,`tin`) values
        (2,'Mumbai','MAHARASHTRA','123456789','Bhiwandi','Nerul Road','Mumbai Warehouse','400101','A/F') on duplicate key update city='Mumbai';
      insert into `warehouse` (`id`,`city`,`state`,`wh_phone`,`line1`,`line2`,`name`,`pincode`,`tin`) values
        (999,'Gurgaon Corporate','HARYANA','123456789','Khasra No. 146/25/2/1','Jail Road, Dhumaspur, Badshahpur ','Corporate Office','122101','06101832327') on duplicate key update city='Gurgaon Corporate';

      insert into seek_invoice_num (id,warehouse_id,invoice_num,prefix,description) values (1,1,1,'R','Retail Invoice 2012');
      insert into seek_invoice_num (id,warehouse_id,invoice_num,prefix,description) values (2,1,1,'S','Service Invoice 2012');
      insert into seek_invoice_num (id,warehouse_id,invoice_num,prefix,description) values (3,1,1,'T','B2B Invoice 2012');
      insert into seek_invoice_num (id,warehouse_id,invoice_num,prefix,description) values (4,2,1,'R','Retail Invoice 2012');
      insert into seek_invoice_num (id,warehouse_id,invoice_num,prefix,description) values (5,2,1,'S','Service Invoice 2012');
      insert into seek_invoice_num (id,warehouse_id,invoice_num,prefix,description) values (6,2,1,'T','B2B Invoice 2012');
      insert into seek_invoice_num (id,warehouse_id,invoice_num,prefix,description) values (7,999,1,'T','Service Invoice 2012');


    </sql>
  </changeSet>

  <changeSet author="RajniHooda" id="20120412-01">
    <sql>

      insert into category values ('hk-brand','HK Brand');
    </sql>
  </changeSet>


  <changeSet author="Seema (generated)" id="1334241904480-1">
    <addColumn tableName="sku">
      <column name="create_date" type="DATETIME"/>
    </addColumn>
  </changeSet>
  <changeSet author="Seema (generated)" id="1334241904480-2">
    <addColumn tableName="sku">
      <column name="update_date" type="DATETIME"/>
    </addColumn>
  </changeSet>
  <changeSet author="Seema (written)" id="20120412-001">
    <sql>
      update sku set create_date = '2012-05-02 10:00:00', update_date = '2012-05-02 10:00:00';
    </sql>
  </changeSet>
  <changeSet author="Seema (generated)" id="1334242265176-1">
    <addNotNullConstraint columnDataType="DATETIME" columnName="create_date" tableName="sku"/>
  </changeSet>
  <changeSet author="Seema (generated)" id="1334242265176-2">
    <addNotNullConstraint columnDataType="DATETIME" columnName="update_date" tableName="sku"/>
  </changeSet>

    <changeSet author="Tarun (generated)" id="1334912510831-1">
        <createTable tableName="payment_history">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="purchase_invoice_id" type="INT"/>
            <column name="purchase_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="amount" type="DECIMAL(2,0)"/>
            <column name="mode_of_payment" type="VARCHAR(45)"/>
            <column name="scheduled_payment_date" type="DATE"/>
            <column name="actual_payment_date" type="DATE"/>
            <column name="remarks" type="VARCHAR(100)"/>
        </createTable>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1334917876974-5">
        <addForeignKeyConstraint baseColumnNames="purchase_invoice_id" baseTableName="payment_history" constraintName="fk_payment_history_purchase_invoice1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_invoice" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1334917876974-6">
        <addForeignKeyConstraint baseColumnNames="purchase_order_id" baseTableName="payment_history" constraintName="fk_payment_history_purchase_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_order" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1334917876974-1">
         <addColumn tableName="pincode_default_courier">
             <column name="estimated_shipping_cost_cod" type="DECIMAL(10,2)"/>
         </addColumn>
     </changeSet>
     <changeSet author="Tarun (generated)" id="1334917876974-2">
         <addColumn tableName="pincode_default_courier">
             <column name="estimated_shipping_cost_non_cod" type="DECIMAL(10,2)"/>
         </addColumn>
     </changeSet>
    <changeSet author="Tarun (generated)" id="1334917876974-8">
        <dropColumn columnName="cod" tableName="pincode_default_courier"/>
    </changeSet>



   <changeSet author="Ajeet (generated)" id="1335525883323-1">
        <createTable tableName="courier_pricing_engine">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="courier_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="region_type_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="first_base_wt" type="DECIMAL(6,2)">
                <constraints nullable="false"/>
            </column>
            <column name="first_base_cost" type="DECIMAL(6,2)">
                <constraints nullable="false"/>
            </column>
            <column name="second_base_wt" type="DECIMAL(6,2)"/>
            <column name="second_base_cost" type="DECIMAL(6,2)"/>
            <column name="additional_wt" type="DECIMAL(6,2)">
                <constraints nullable="false"/>
            </column>
            <column name="additional_cost" type="DECIMAL(6,2)">
                <constraints nullable="false"/>
            </column>
            <column name="fuel_surcharge" type="DECIMAL(5,4)"/>
            <column name="min_cod_charges" type="DECIMAL(6,2)"/>
            <column name="cod_cutoff_amount" type="DECIMAL(5,2)"/>
            <column name="variable_cod_charges" type="DECIMAL(5,4)"/>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-2">
        <createTable tableName="last_stockout">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="CURRENT_TIMESTAMP" name="stockout_date" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="unit_sales" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0.00" name="growth_factor" type="DECIMAL(6,2)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-3">
        <createTable tableName="pincode_region_zone">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="pincode_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="courier_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="region_type_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-4">
        <createTable tableName="region_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-5">
        <createTable tableName="review_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-6">
        <createTable tableName="review_vote">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_review_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="vote_type" remarks="0 = Negative&#10;1 = Positive&#10;999 = Spam" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-7">
        <createTable tableName="user_review">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="title" type="VARCHAR(45)"/>
            <column defaultValueNumeric="2.50" name="star_rating" remarks="Out of 5" type="DECIMAL(4,2)">
                <constraints nullable="false"/>
            </column>
            <column name="review" type="TEXT"/>
            <column name="mood" type="VARCHAR(45)"/>
            <column name="review_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="CURRENT_TIMESTAMP" name="review_date" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="publish_date" type="TIMESTAMP"/>
            <column name="publisher" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-8">
        <addColumn tableName="product_variant">
            <column name="buffer_time" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-9">
        <addColumn tableName="product_variant">
            <column name="consumption_time" remarks="Supply will last within x days" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-10">
        <addColumn tableName="product_variant">
            <column name="following_available_date" type="DATE"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-11">
        <addColumn tableName="product_variant">
            <column name="lead_time_factor" type="DECIMAL(4,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-12">
        <addColumn tableName="product_variant">
            <column name="next_available_date" type="DATE"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-13">
        <modifyDataType columnName="email" newDataType="VARCHAR(200)" tableName="email_recepient"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-14">
        <modifyDataType columnName="name" newDataType="VARCHAR(200)" tableName="email_recepient"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-15">
        <modifyDataType columnName="unsubscribe_token" newDataType="VARCHAR(100)" tableName="email_recepient"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-16">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="courier_pricing_engine" constraintName="fk_courier_pricing_engine_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-17">
        <addForeignKeyConstraint baseColumnNames="region_type_id" baseTableName="courier_pricing_engine" constraintName="fk_courier_pricing_engine_region_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="region_type" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-18">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="courier_pricing_engine" constraintName="fk_courier_pricing_engine_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-19">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="last_stockout" constraintName="fk_last_stockout_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-20">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-21">
        <addForeignKeyConstraint baseColumnNames="pincode_id" baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_pincode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pincode" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-22">
        <addForeignKeyConstraint baseColumnNames="region_type_id" baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_region_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="region_type" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-23">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-24">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="review_vote" constraintName="fk_review_vote_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-25">
        <addForeignKeyConstraint baseColumnNames="user_review_id" baseTableName="review_vote" constraintName="fk_review_vote_user_review1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user_review" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-26">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="user_review" constraintName="fk_user_review_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-27">
        <addForeignKeyConstraint baseColumnNames="publisher" baseTableName="user_review" constraintName="fk_user_review_user2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-28">
        <addForeignKeyConstraint baseColumnNames="review_status_id" baseTableName="user_review" constraintName="fk_user_review_review_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="review_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-29">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_review" constraintName="fk_user_review_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>

  <changeSet author="Rimal (generated)" id="1334046628464-1">
    <addColumn tableName="user">
      <column name="birth_date" type="DATETIME"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1334046628464-2">
    <addColumn tableName="user">
      <column name="gender" type="VARCHAR(6)"/>
    </addColumn>
  </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-1">
        <createTable tableName="stock_transfer">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="checkout_date" type="DATETIME"/>
            <column name="checkin_date" type="DATETIME"/>
            <column name="remarks" type="TEXT"/>
            <column name="from_warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="to_warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="received_by" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-2">
        <createTable tableName="stock_transfer_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="checkedout_qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="checkedin_qty" type="INT"/>
            <column name="cost_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="mrp" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="stock_transfer_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="batch_number" type="VARCHAR(45)"/>
            <column name="mfg_date" type="DATETIME"/>
            <column name="expiry_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-3">
        <addColumn tableName="product_variant_inventory">
            <column name="stock_transfer_line_item_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-4">
        <addColumn tableName="sku_group">
            <column name="stock_transfer_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-5">
        <addNotNullConstraint columnDataType="VARCHAR(200)" columnName="email" tableName="email_recepient"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-6">
        <dropNotNullConstraint columnDataType="TIMESTAMP" columnName="publish_date" tableName="user_review"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-7">
        <addForeignKeyConstraint baseColumnNames="stock_transfer_line_item_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_stock_transfer_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="stock_transfer_line_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-8">
        <addForeignKeyConstraint baseColumnNames="stock_transfer_id" baseTableName="sku_group" constraintName="fk_sku_group_stock_transfer1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="stock_transfer" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-9">
        <addForeignKeyConstraint baseColumnNames="created_by" baseTableName="stock_transfer" constraintName="fk_stock_transfer_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-10">
        <addForeignKeyConstraint baseColumnNames="from_warehouse_id" baseTableName="stock_transfer" constraintName="fk_stock_transfer_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-11">
        <addForeignKeyConstraint baseColumnNames="received_by" baseTableName="stock_transfer" constraintName="fk_stock_transfer_user2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-12">
        <addForeignKeyConstraint baseColumnNames="to_warehouse_id" baseTableName="stock_transfer" constraintName="fk_stock_transfer_warehouse2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-13">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="stock_transfer_line_item" constraintName="fk_stock_transfer_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-14">
        <addForeignKeyConstraint baseColumnNames="stock_transfer_id" baseTableName="stock_transfer_line_item" constraintName="fk_stock_transfer_line_item_stock_transfer1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="stock_transfer" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335856733106-1">
        <createIndex indexName="stock_transfer_id_UNIQUE" tableName="stock_transfer_line_item" unique="true">
            <column name="stock_transfer_id"/>
            <column name="sku_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335862229851-1">
        <addColumn tableName="region_type">
            <column name="priority" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335869417054-1">
        <addColumn tableName="discount_coupon_mailing_list">
            <column name="request_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335869417054-2">
        <addColumn tableName="product">
            <column defaultValue="0" name="drop_shipping" type="TINYINT"/>
        </addColumn>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1335937608708-1">
        <dropNotNullConstraint columnDataType="INT" columnName="purchase_order_id" tableName="payment_history"/>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1335956558038-1">
        <modifyDataType columnName="amount" newDataType="DECIMAL(10,2)" tableName="payment_history"/>
    </changeSet>

    <changeSet author="user (generated)" id="1336040367315-1">
        <addColumn tableName="supplier">
            <column name="create_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="user (generated)" id="1336040367315-2">
        <addColumn tableName="supplier">
            <column name="update_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
  <changeSet author="user (written)" id="1336040367315-3">
    <sql>
      update supplier set create_date = '2012-05-02 10:00:00', update_date = '2012-05-02 10:00:00';
    </sql>
  </changeSet>

  <changeSet author="user (generated)" id="1336040945149-2">
      <addNotNullConstraint columnDataType="DATETIME" columnName="create_date" tableName="supplier"/>
  </changeSet>
  <changeSet author="user (generated)" id="1336040945149-3">
      <addNotNullConstraint columnDataType="DATETIME" columnName="update_date" tableName="supplier"/>
  </changeSet>
 <changeSet author="RajniHooda" id="20120504-01">
    <sql>

      insert into tax values (10,'0.1236',0.12360)
    </sql>
  </changeSet>

    <changeSet author="Rahul (generated)" id="1336160116745-1">
        <createTable tableName="store">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="prefix" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1336160116745-2">
        <addColumn tableName="base_order">
            <column name="store_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1336160116745-3">
        <addColumn tableName="user">
            <column name="store_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1336160116745-4">
        <addForeignKeyConstraint baseColumnNames="store_id" baseTableName="base_order" constraintName="fk_base_order_store1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="store" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1336160116745-5">
        <addForeignKeyConstraint baseColumnNames="store_id" baseTableName="user" constraintName="fk_user_store1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="store" referencesUniqueColumn="false"/>
    </changeSet>
   <changeSet author="Rahul" id="20120405-01">
      <sql>
        insert into store values(1,'HealthKart','HK');
        update user set store_id = 1;
        update base_order set store_id = 1;
      </sql>
    </changeSet>

  <changeSet author="Tarun (generated)" id="1336118698201-1">
      <addColumn tableName="payment_history">
          <column name="payment_reference" type="VARCHAR(100)"/>
      </addColumn>
  </changeSet>

    <changeSet author="Rahul (generated)" id="1336160704165-1">
        <addNotNullConstraint columnDataType="INT" columnName="store_id" tableName="base_order"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1336160704165-2">
        <addNotNullConstraint columnDataType="INT" columnName="store_id" tableName="user"/>
    </changeSet>

  <changeSet author="Rimal (generated)" id="1336378786007-1">
    <addColumn tableName="email_campaign">
      <column name="email_type_id" type="INT"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336378786007-3">
    <addForeignKeyConstraint baseColumnNames="email_type_id" baseTableName="email_campaign"
                             constraintName="fk_email_campaign_email_type1"
                             deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                             referencedColumnNames="id" referencedTableName="email_type"
                             referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336472195312-1">
    <addColumn tableName="email_campaign">
      <column defaultValue="0" name="sent_count" type="INT"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336570361449-10">
    <createTable tableName="courier_group">
      <column name="id" type="INT">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="name" type="VARCHAR(45)"/>
      <column name="courier_id" type="INT"/>
    </createTable>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336570361449-20">
    <addColumn tableName="pincode_region_zone">
      <column name="courier_group_id" type="INT">
        <constraints nullable="false"/>
      </column>
    </addColumn>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336570361449-30">
    <dropForeignKeyConstraint baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_courier1"/>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336570361449-40">
    <createIndex indexName="pincode_region_index" tableName="pincode_region_zone" unique="false">
      <column name="pincode_id"/>
      <column name="warehouse_id"/>
      <column name="region_type_id"/>
      <column name="courier_group_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336570361449-50">
    <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="courier_group"
                             constraintName="fk_courier_group_courier1" deferrable="false" initiallyDeferred="false"
                             onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id"
                             referencedTableName="courier"
                             referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336570361449-60">
    <addForeignKeyConstraint baseColumnNames="courier_group_id" baseTableName="pincode_region_zone"
                             constraintName="fk_pincode_region_zone_courier_group1" deferrable="false"
                             initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                             referencedColumnNames="id" referencedTableName="courier_group"
                             referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336570361449-80">
    <dropColumn columnName="courier_id" tableName="pincode_region_zone"/>
  </changeSet>

    <changeSet author="Ajeet (generated)" id="1336994156706-1">
        <createTable tableName="courier_group_has_courier">
            <column name="courier_group_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="courier_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1336994156706-2">
        <addPrimaryKey columnNames="courier_group_id, courier_id" tableName="courier_group_has_courier"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1336994156706-3">
        <dropForeignKeyConstraint baseTableName="courier_group" constraintName="fk_courier_group_courier1"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1336994156706-4">
        <createIndex indexName="unique_user_login_store" tableName="user" unique="true">
            <column name="login"/>
            <column name="store_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1336994156706-5">
        <addForeignKeyConstraint baseColumnNames="courier_group_id" baseTableName="courier_group_has_courier" constraintName="fk_courier_group_has_courier_courier_group1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier_group" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1336994156706-6">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="courier_group_has_courier" constraintName="fk_courier_group_has_courier_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1336994156706-7">
        <dropIndex indexName="unique_user_login" tableName="user"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1336994156706-8">
        <dropColumn columnName="courier_id" tableName="courier_group"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1337252542825-1">
        <createTable tableName="demand_history">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="demand" type="INT"/>
            <column name="demand_date" type="DATE"/>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1337252542825-2">
        <modifyDataType columnName="cod_cutoff_amount" newDataType="DECIMAL(10,4)" tableName="courier_pricing_engine"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1337252542825-3">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="demand_history" constraintName="fk_demand_history_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1337252542825-4">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="demand_history" constraintName="fk_demand_history_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1337341226170-1">
        <createTable tableName="primary_referrer_for_order">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)"/>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1337341226170-3">
        <createTable tableName="secondary_referrer_for_order">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)"/>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1337341226170-4">
        <addColumn tableName="base_order">
            <column name="primary_referrer_for_order_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1337341226170-5">
        <addColumn tableName="base_order">
            <column name="secondary_referrer_for_order_id" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1337341226170-11">
        <addForeignKeyConstraint baseColumnNames="primary_referrer_for_order_id" baseTableName="base_order" constraintName="fk_base_order_primary_referrer_for_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="primary_referrer_for_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1337341226170-12">
        <addForeignKeyConstraint baseColumnNames="secondary_referrer_for_order_id" baseTableName="base_order" constraintName="fk_base_order_secondary_referrer_for_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="secondary_referrer_for_order" referencesUniqueColumn="false"/>
    </changeSet>

   <changeSet author="vaibhav (generated)" id="1337667700199-1">
        <createTable tableName="badge">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="min_score" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="max_score" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="badge_name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-2">
        <createTable tableName="karma_profile">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="activity_name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="points" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-3">
        <createTable tableName="base_order_badge">
            <column name="base_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="badge_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-4">
        <createTable tableName="user_karma_profile">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="karma_points" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-5">
        <addColumn tableName="base_order">
            <column  name="score" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-6">
        <addColumn tableName="pincode">
            <column name="region" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-7">
        <createIndex indexName="activity_name_UNIQUE" tableName="karma_profile" unique="true">
            <column name="activity_name"/>
        </createIndex>
    </changeSet>
     <changeSet author="vaibhav (generated)" id="1337667700199-8">
        <addForeignKeyConstraint baseColumnNames="badge_id" baseTableName="base_order_badge"  constraintName="fk_order_badge_badge1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="badge"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-9">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="base_order_badge"  constraintName="fk_order_badge_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-10">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_karma_profile"  constraintName="fk_user_karma_profile_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-11">
        <dropColumn columnName="is_priority_order" tableName="base_order"/>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1337683482005-2">
        <addColumn tableName="base_order">
            <column name="utm_campaign" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1337865338106-1">
        <addColumn tableName="demand_history">
            <column name="base_order_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1337865338106-4">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="demand_history" constraintName="fk_demand_history_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rajni (generated)" id="1338269352780-1">
        <addColumn tableName="purchase_invoice">
            <column name="reconcilation_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rajni (generated)" id="1338270017943-1">
        <createTable tableName="purchase_form_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rajni (generated)" id="1338279032126-1">
        <addColumn tableName="purchase_form_type">
            <column name="description" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rajni (generated)" id="1338295577580-1">
        <addColumn tableName="purchase_invoice">
            <column name="purchase_form_type_id" type="INT"/>
        </addColumn>
    </changeSet>
        <changeSet author="Rajni (generated)" id="1338295577580-4">
        <addForeignKeyConstraint baseColumnNames="purchase_form_type_id" baseTableName="purchase_invoice" constraintName="fk_purchase_invoice_purchase_form_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_form_type" referencesUniqueColumn="false"/>
    </changeSet>
     <changeSet author="Seema (generated)" id="1338892921767-1">
        <addColumn tableName="cart_line_item_config_values">
            <column name="cost_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1338892921767-2">
        <addColumn tableName="variant_config_values">
            <column name="cost_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
        </changeSet>
    <changeSet author="Seema (generated)" id="1339056902031-4">
        <modifyDataType columnName="value" newDataType="VARCHAR(70)" tableName="variant_config_values"/>
    </changeSet>
       <changeSet author="vaibhav (generated)" id="1339582614718-1">
        <addNotNullConstraint columnDataType="VARCHAR(100)" columnName="name" tableName="secondary_referrer_for_order"/>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1339582614718-2">
        <addNotNullConstraint columnDataType="VARCHAR(70)" columnName="value" tableName="variant_config_values"/>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1339582614718-3">
      <createIndex indexName="user_id_UNIQUE" tableName="user_karma_profile" unique="true">
          <column name="user_id"/>
      </createIndex>
  </changeSet>
  <changeSet author="Seema (generated)" id="1338816774783-1">
         <createTable tableName="city_courier_tat">
             <column autoIncrement="true" name="id" type="INT">
                 <constraints nullable="false" primaryKey="true"/>
             </column>
             <column name="city" type="VARCHAR(45)">
                 <constraints nullable="false"/>
             </column>
           <column name="courier_id" type="INT">
                 <constraints nullable="false"/>
             </column>
             <column name="turnaround_time" type="DECIMAL(10,2)">
                 <constraints nullable="false"/>
             </column>
         </createTable>
     </changeSet>
     <changeSet author="Seema (generated)" id="1338816774783-2">
         <addColumn tableName="awb">
             <column name="cod" type="TINYINT">
 <constraints nullable="false"/>
             </column>
         </addColumn>
     </changeSet>
     <changeSet author="Seema (generated)" id="1338816774783-3">
         <addColumn tableName="state_courier_service">
             <column name="preference" type="INT">
                 <constraints nullable="false"/>
             </column>
         </addColumn>
     </changeSet>
     <changeSet author="Seema (generated)" id="1338816774783-8">
         <createIndex indexName="fk_pincode_city" tableName="pincode" unique="false">
             <column name="city"/>
         </createIndex>
     </changeSet>
     <changeSet author="Seema (generated)" id="1338816774783-9">
         <createIndex indexName="fk_pincode_state" tableName="pincode" unique="false">
             <column name="state"/>
         </createIndex>
     </changeSet>
     <changeSet author="Seema (generated)" id="1338816774783-10">
         <addForeignKeyConstraint baseColumnNames="city" baseTableName="city_courier_tat"  constraintName="city_fk" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="city" referencedTableName="pincode"  referencesUniqueColumn="false"/>
     </changeSet>
     <changeSet author="Seema (generated)" id="1338816774783-11">
         <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="city_courier_tat"  constraintName="fk_city_courier_tat_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier"  referencesUniqueColumn="false"/>
     </changeSet>
     <changeSet author="Seema (generated)" id="1338816774783-12">
         <addForeignKeyConstraint baseColumnNames="state" baseTableName="state_courier_service" constraintName="fk_state_pincode" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="state" referencedTableName="pincode"  referencesUniqueColumn="false"/>
     </changeSet>
    <changeSet author="Tarun (generated)" id="1340010134657-3">
        <modifyDataType columnName="created_date" newDataType="DATE" tableName="notify_me"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1340010134657-4">
        <modifyDataType columnName="name" newDataType="VARCHAR(40)" tableName="permission"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1340010134657-5">
        <modifyDataType columnName="permission_name" newDataType="VARCHAR(40)" tableName="role_has_permission"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1340010134657-8">
        <createIndex indexName="notify_me_unique_request" tableName="notify_me" unique="true">
            <column name="email"/>
            <column name="created_date"/>
            <column name="product_variant_id"/>
        </createIndex>
    </changeSet>
          <changeSet author="Seema (generated)" id="1340352635898-1">
        <createTable tableName="city">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-2">
        <createTable tableName="state">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-3">
        <addColumn tableName="city_courier_tat">
            <column name="city_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-4">
        <addColumn tableName="pincode">
            <column name="city_id" type="INT">
                <constraints nullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-5">
        <addColumn tableName="pincode">
            <column name="state_id" type="INT">
                <constraints nullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-6">
        <addColumn tableName="state_courier_service">
            <column name="state_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-7">
        <dropNotNullConstraint columnDataType="DECIMAL(10,2)" columnName="turnaround_time" tableName="city_courier_tat"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-10">
        <addNotNullConstraint columnDataType="INT" columnName="courier_id" tableName="state_courier_service"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-11">
        <dropNotNullConstraint columnDataType="INT" columnName="preference" tableName="state_courier_service"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-12">
        <dropForeignKeyConstraint baseTableName="city_courier_tat" constraintName="city_fk"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-13">
        <dropForeignKeyConstraint baseTableName="state_courier_service" constraintName="fk_state_pincode"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-14">
        <addForeignKeyConstraint baseColumnNames="city_id" baseTableName="city_courier_tat" constraintName="fk_city_courier_tat_city1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="city" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-15">
        <addForeignKeyConstraint baseColumnNames="city_id" baseTableName="pincode" constraintName="fk_pincode_city1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="city" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-16">
        <addForeignKeyConstraint baseColumnNames="state_id" baseTableName="pincode" constraintName="fk_pincode_state1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="state" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-17">
        <addForeignKeyConstraint baseColumnNames="state_id" baseTableName="state_courier_service" constraintName="fk_state_courier_service_state1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="state" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-18">
        <dropIndex indexName="fk_pincode_city" tableName="pincode"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-19">
        <dropIndex indexName="fk_pincode_state" tableName="pincode"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-20">
        <dropColumn columnName="city" tableName="city_courier_tat"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-21">
        <dropColumn columnName="city" tableName="pincode"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-22">
        <dropColumn columnName="state" tableName="pincode"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-23">
        <dropColumn columnName="state" tableName="state_courier_service"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340372396933-2">
        <addNotNullConstraint columnDataType="INT" columnName="city_id" tableName="pincode"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340372396933-3">
        <addNotNullConstraint columnDataType="INT" columnName="state_id" tableName="pincode"/>
    </changeSet>

    <changeSet author="Pradeep (generated)" id="1340643537129-4">
        <createTable tableName="user_cat_karma_profile">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="cat_karma_points" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1340279900902-1">
        <createTable tableName="store_product">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="store_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="store_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="hidden" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="Pradeep (generated)" id="1340643537129-19">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="user_cat_karma_profile"  constraintName="fk_user_cat_karma_profile_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1340643537129-20">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_cat_karma_profile"  constraintName="fk_user_cat_karma_profile_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1340279900902-3">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="store_product"  constraintName="fk_store_product_price_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1340279900902-4">
        <addForeignKeyConstraint baseColumnNames="store_id" baseTableName="store_product"  constraintName="fk_store_product_price_store1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="store"  referencesUniqueColumn="false"/>
    </changeSet>

  <changeSet author="Rimal (generated)" id="1340180519838-1">
    <addColumn tableName="email_campaign">
      <column name="html_path" type="VARCHAR(400)"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1340180519838-2">
    <addColumn tableName="email_campaign">
      <column name="subject" type="VARCHAR(250)"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1340180519838-3">
    <addColumn tableName="email_campaign">
      <column name="template_ftl" type="TEXT"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1340180519838-4">
    <dropNotNullConstraint columnDataType="VARCHAR(80)" columnName="template" tableName="email_campaign"/>
  </changeSet>
    <changeSet author="Rahul (generated)" id="1340900951137-1">
        <createTable tableName="replacement_order">
            <column name="so_ro_id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValueNumeric="0" name="is_rto" type="TINYINT"/>
            <column name="ref_shipping_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1340900951137-2">
        <addColumn tableName="discount_coupon_mailing_list">
            <column name="paid" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1340900951137-3">
        <addColumn tableName="product">
            <column defaultValue="0" name="adv_active" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1340900951137-4">
        <addColumn tableName="product">
            <column defaultValue="1" name="cod_allowed" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1340900951137-5">
        <addColumn tableName="product_variant">
            <column name="other_remark" type="VARCHAR(90)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1340900951137-6">
        <addColumn tableName="product_variant">
            <column name="standard_margin" type="DECIMAL(8,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1340900951137-7">
        <addColumn tableName="product_variant">
            <column name="supplier_code" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1340900951137-10">
        <addForeignKeyConstraint baseColumnNames="ref_shipping_order_id" baseTableName="replacement_order" constraintName="fk_replacement_order_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1340949623064-1">
        <addNotNullConstraint columnDataType="DATE" columnName="created_date" tableName="notify_me"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1340949623064-2">
        <modifyDataType columnName="role_name" newDataType="VARCHAR(40)" tableName="role_has_permission"/>
    </changeSet>
    <changeSet author="Tarun" id="1340949623064-3">
      <sql>
        UPDATE `purchase_invoice` pi SET pi.`reconcilation_date`= DATE_ADD(pi.`create_date`, INTERVAL 3 DAY) WHERE `reconciled`=1 AND `reconcilation_date` IS NULL
      </sql>
    </changeSet>    
    <changeSet author="Rimal (generated)" id="1341381517333-1">
        <addColumn tableName="category_image">
            <column name="position" type="VARCHAR(20)"/>
        </addColumn>
    </changeSet>    
    <changeSet author="Ajeet (generated)" id="1341923692621-1">
        <createTable tableName="brands_to_audit">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="auditor_user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="brand" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="audit_date" type="DATE">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="audit_status" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1341923692621-2">
        <addColumn tableName="offer">
            <column name="payment_type" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1341923692621-3">
        <addForeignKeyConstraint baseColumnNames="auditor_user_id" baseTableName="brands_to_audit" constraintName="fk_brands_to_audit_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1341941781264-1">
        <addColumn tableName="brands_to_audit">
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1341941781264-2">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="brands_to_audit" constraintName="fk_brands_to_audit_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1342099712051-1">
        <modifyDataType columnName="value" newDataType="VARCHAR(70)" tableName="cart_line_item_config_values"/>
    </changeSet>

    <changeSet author="Shrey (generated)" id="1342445419109-1">
        <addColumn tableName="supplier">
            <column name="brands" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>

    <changeSet author="Shrey (generated)" id="1342445419109-3">
        <addColumn tableName="supplier">
            <column name="dam_exp_cond" type="VARCHAR(500)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1342445419109-4">
        <addColumn tableName="supplier">
            <column name="email_id" type="VARCHAR(50)"/>
        </addColumn>
    </changeSet>
<changeSet author="Shrey (generated)" id="1342445419109-6">
        <addColumn tableName="supplier">
            <column name="terms_of_trade" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
     <changeSet author="Shrey (generated)" id="1342533458649-3">
        <addColumn tableName="supplier">
            <column name="credit_period" type="VARCHAR(10)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1342533458649-4">
               <addColumn tableName="supplier">
            <column name="margins" type="VARCHAR(20)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1342505244718-1">
        <addColumn tableName="shipment">
            <column name="packer" type="VARCHAR(5)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1342505244718-2">
        <addColumn tableName="shipment">
            <column name="picker" type="VARCHAR(5)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1342505244718-3">
        <addColumn tableName="sku_group">
            <column name="cost_price" type="DECIMAL(8,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1342505244718-4">
        <addColumn tableName="sku_group">
            <column name="mrp" type="DECIMAL(8,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-1">
        <createTable tableName="subscription">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="base_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="address_id" type="INT"/>
            <column name="subscription_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="qty_per_delivery" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="qty_delivered" type="INT"/>
            <column name="subscription_period_days" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="frequency_days" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="subscription_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="subscription_discount_percent" type="DECIMAL(7,4)">
                <constraints nullable="false"/>
            </column>
            <column name="hk_discount_at_subscription" type="DECIMAL(7,4)">
                <constraints nullable="false"/>
            </column>
            <column name="hk_price_at_subscription" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price_at_subscription" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="marked_price_at_subscription" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="update_date" type="DATETIME"/>
            <column name="start_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="next_shipment_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-2">
        <createTable tableName="subscription_lifecycle">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="subscription_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="subscription_lifecycle_activity_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="comments" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-3">
        <createTable tableName="subscription_lifecycle_activity">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-4">
        <createTable tableName="subscription_order">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="subscription_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="base_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="subscription_order_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="hk_price_now" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="hk_discount_now" type="DECIMAL(7,4)">
                <constraints nullable="false"/>
            </column>
            <column name="marked_price_now" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price_now" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="update_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-5">
        <createTable tableName="subscription_order_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <!--<changeSet author="Ajeet (generated)" id="1342505244718-5">-->
        <!--<addNotNullConstraint columnDataType="VARCHAR(70)" columnName="value" tableName="cart_line_item_config_values"/>-->
    <!--&lt;!&ndash;</changeSet>->-->
    <changeSet author="Seema (generated)" id="1342273389422-100">
        <createTable tableName="awb_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="status" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-6">
        <createTable tableName="subscription_product">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="max_qty_per_delivery" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="min_frequency_days" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="max_frequency_days" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="subscription_discount_180days" type="DECIMAL(7,4)">
                <constraints nullable="false"/>
            </column>
            <column name="subscription_discount_360days" type="DECIMAL(7,4)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-7">
        <createTable tableName="subscription_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-8">
        <addColumn tableName="base_order">
            <column defaultValue="0" name="is_subscription_order" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-9">
        <addColumn tableName="product">
            <column defaultValue="0" name="is_subscribable" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-11">
        <addForeignKeyConstraint baseColumnNames="address_id" baseTableName="subscription"  constraintName="fk_subscription_address1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="address"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-12">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="subscription"  constraintName="fk_subscription_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-13">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="subscription"  constraintName="fk_subscription_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-14">
        <addForeignKeyConstraint baseColumnNames="subscription_status_id" baseTableName="subscription"  constraintName="fk_subscription_subscription_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="subscription_status"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-15">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="subscription"  constraintName="fk_subscription_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-16">
        <addForeignKeyConstraint baseColumnNames="subscription_id" baseTableName="subscription_lifecycle"  constraintName="fk_subscription_lifecycle_subscription1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="subscription"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-17">
        <addForeignKeyConstraint baseColumnNames="subscription_lifecycle_activity_id" baseTableName="subscription_lifecycle"  constraintName="fk_subscription_lifecycle_subscription_lifecycle_activity1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="subscription_lifecycle_activity"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-18">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="subscription_lifecycle"  constraintName="fk_subscription_lifecycle_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-19">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="subscription_order"  constraintName="fk_subscription_order_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-20">
        <addForeignKeyConstraint baseColumnNames="subscription_id" baseTableName="subscription_order"  constraintName="fk_subscription_order_subscription1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="subscription"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-21">
        <addForeignKeyConstraint baseColumnNames="subscription_order_status_id" baseTableName="subscription_order"  constraintName="fk_subscription_order_subscription_order_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="subscription_order_status"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-22">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="subscription_product"  constraintName="fk_subscription_product_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342273389422-200">
        <addColumn tableName="awb">
            <column name="awb_status_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342273389422-300">
        <addColumn tableName="shipment">
            <column name="awb_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342274075684-4">
        <sql>
            truncate `awb`;
        </sql>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342273389422-4">
        <addForeignKeyConstraint baseColumnNames="awb_status_id" baseTableName="awb" constraintName="fk_awb_awb_status1"
                                 deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="awb_status"
                                 referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342273389422-5">
        <addForeignKeyConstraint baseColumnNames="awb_id" baseTableName="shipment" constraintName="fk_shipment_awb1"
                                 deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="awb" referencesUniqueColumn="false"/>
    </changeSet>
    <!-- delete shipment which are not present in shipping order -->
    <changeSet author="Seema (generated)" id="1342274075684-3">
        <sql>
            delete s.* from `shipment` s left join `shipping_order` so on s.id=so.shipment_id where so.id is null;
        </sql>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342274075684-14">
        <sql>
            update `shipment` set tracking_id = '' WHERE length(tracking_id) &gt; 17 or length(tracking_id) &lt; 9;
        </sql>
    </changeSet>
    <!-- change all redundant tracking id in shipment to unique values -->
    <changeSet author="Seema (generated)" id="1342274075684-5">
        <sql>
            update `shipment`
            set `tracking_id` = ''
            where `tracking_id` in(
            select v1.id from(
            (select st.tracking_id as id from `shipment` st
            group by st.tracking_id having count(st.id) > 1 )v1
            ));
        </sql>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342274075684-10">
        <sql>
            update `shipment` s inner join shipping_order so on s.id=so.shipment_id
            set s.tracking_id = so.gateway_order_id where s.tracking_id = '';

        </sql>
    </changeSet>
    <!-- populate awb from shipment -->
    <changeSet author="Seema (generated)" id="1342274075684-30">
        <sql>
            insert into awb_status(`id`,`status`) values (10,'Unused'),(20,'Attach'),(30,'Authorization Pending'),(40,'Used');
        </sql>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342274075684-6">
        <sql>
            insert into `awb` (`courier_id`,`awb_number`,`awb_bar_code`,`used`,`warehouse_id`,`cod`,`awb_status_id`)
            select sp.courier_id , sp.tracking_id,sp.tracking_id,1,so.warehouse_id, if (p.payment_mode_id=40,1,0),40
            from `shipment` sp inner join `shipping_order` so on so.shipment_id=sp.id
            inner join `base_order` bo on so.base_order_id=bo.id
            inner join `payment` p on bo.payment_id=p.id;
        </sql>
    </changeSet>
    <!-- populate  awb_id  in shipment -->
    <changeSet author="Seema (generated)" id="1342274075684-7">
        <sql>
            update `shipment` s inner join `awb` a
            set s.awb_id=a.id
            where s.tracking_id = a.awb_number and s.courier_id=a.courier_id;
        </sql>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342290147965-1">
        <addNotNullConstraint columnDataType="INT" columnName="awb_status_id" tableName="awb"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342290147965-2">
        <addNotNullConstraint columnDataType="INT" columnName="awb_id" tableName="shipment"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342290147965-3">
        <dropColumn columnName="tracking_id" tableName="shipment"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342469193763-1">
        <addColumn tableName="shipment">
            <column name="shipping_order_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342469193763-2">
        <sql>
            update `shipment` s inner join `shipping_order` so
            set s.shipping_order_id=so.id
            where s.id = so.shipment_id;
        </sql>
    </changeSet>
    <changeSet author="Rimal (generated)" id="1342741292282-1">
        <createTable tableName="super_saver_image">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="url" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="alt_text" type="VARCHAR(200)"/>
            <column defaultValueNumeric="0" name="hidden" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="checksum" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="uploaded" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="ranking" type="INT"/>
            <column defaultValueNumeric="0" name="is_main_image" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="product_id" type="VARCHAR(20)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rimal (generated)" id="1342741292282-7">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="super_saver_image"
                                 constraintName="fk_super_saver_image_product1" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="product"
                                 referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1342792751303-1">
        <addNotNullConstraint columnDataType="VARCHAR(70)" columnName="value" tableName="cart_line_item_config_values"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1343128834437-1">
        <addNotNullConstraint columnDataType="INT" columnName="shipping_order_id" tableName="shipment"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1343128834437-2">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="shipment" constraintName="fk_shipment_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1343128834437-3">
        <sql>
       delete from `demand_history` where `base_order_id` is null;
        </sql>
    </changeSet>
    
    <changeSet author="Seema (generated)" id="1343136104792-1">
        <dropForeignKeyConstraint baseTableName="demand_history"  constraintName="fk_demand_history_base_order1"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1343136104792-2">
        <dropColumn columnName="base_order_id" tableName="demand_history"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1343199117613-1">
        <modifyDataType columnName="awb_bar_code" newDataType="VARCHAR(70)" tableName="awb"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1343199117613-2">
        <modifyDataType columnName="awb_number" newDataType="VARCHAR(70)" tableName="awb"/>
    </changeSet>

     <changeSet author="Tarun (generated)" id="1342434630676-1">
        <createTable tableName="faq">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="question" type="MEDIUMTEXT">
                <constraints nullable="false"/>
            </column>
            <column name="answer" type="MEDIUMTEXT">
                <constraints nullable="false"/>
            </column>
            <column name="primary_category" type="VARCHAR(100)"/>
            <column name="secondary_category" type="VARCHAR(100)"/>
            <column name="keywords" type="VARCHAR(100)"/>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1342684181224-2">
        <addColumn tableName="faq">
            <column name="page_rank" type="INT"/>
        </addColumn>
    </changeSet>        
	<changeSet author="Rahul (generated)" id="1343129589883-1">
	    <dropForeignKeyConstraint baseTableName="stock_transfer_line_item" constraintName="fk_stock_transfer_line_item_sku1"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1343129589883-2">
	    <dropForeignKeyConstraint baseTableName="stock_transfer_line_item" constraintName="fk_stock_transfer_line_item_stock_transfer1"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1343129589883-3">
	    <dropIndex indexName="stock_transfer_id_UNIQUE" tableName="stock_transfer_line_item"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1343130936367-1">
	    <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="stock_transfer_line_item" constraintName="fk_stock_transfer_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku" referencesUniqueColumn="false"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1343130936367-2">
	    <addForeignKeyConstraint baseColumnNames="stock_transfer_id" baseTableName="stock_transfer_line_item" constraintName="fk_stock_transfer_line_item_stock_transfer1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="stock_transfer" referencesUniqueColumn="false"/>
	</changeSet>
    <changeSet author="Rahul (generated)" id="1343219588902-1">
        <addNotNullConstraint columnDataType="VARCHAR(70)" columnName="awb_bar_code" tableName="awb"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1343219588902-2">
        <addNotNullConstraint columnDataType="VARCHAR(70)" columnName="awb_number" tableName="awb"/>
    </changeSet>
	<changeSet author="RajniHooda" id="2012-07-25-01">
		<sql>
			update stock_transfer_line_item set batch_number = 'NOBATCH' where batch_number is null;
		</sql>
	</changeSet>
    <changeSet author="Rahul (generated)" id="1343219588902-3">
        <addNotNullConstraint columnDataType="VARCHAR(45)" columnName="batch_number" tableName="stock_transfer_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1343219588902-4">
        <createIndex indexName="stock_transfer_id_UNIQUE" tableName="stock_transfer_line_item" unique="true">
            <column name="stock_transfer_id"/>
            <column name="sku_id"/>
            <column name="batch_number"/>
        </createIndex>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1343223097728-1">
        <addColumn tableName="pincode">
            <column name="tier" type="VARCHAR(20)"/>
        </addColumn>
    </changeSet>    
    <changeSet author="Neha (generated)" id="1343293102089-1">
        <createTable tableName="demand_forecast">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="forecast_date" type="DATE">
                <constraints nullable="false"/>
            </column>
            <column name="forecast_value" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Neha (generated)" id="1343293102089-2">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="demand_forecast" constraintName="fk_demand_forecast_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Neha (generated)" id="1343293102089-3">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="demand_forecast"  constraintName="fk_demand_forecast_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="AdminUser (generated)" id="1343308646000-1">
        <createIndex indexName="variant_wh_date_unique" tableName="demand_forecast" unique="true">
            <column name="warehouse_id"/>
            <column name="product_variant_id"/>
            <column name="forecast_date"/>
        </createIndex>
    </changeSet>
    <changeSet author="Rimal (generated)" id="1343625966349-1">
        <addColumn tableName="super_saver_image">
            <column defaultValue="0" name="deleted" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1343989161150-1">
        <createTable tableName="subscription_cart_line_item">
            <column name="cart_line_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="subscription_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1343989161150-2">
        <addPrimaryKey columnNames="cart_line_item_id, subscription_id" tableName="subscription_cart_line_item"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1343989161150-4">
        <addForeignKeyConstraint baseColumnNames="cart_line_item_id" baseTableName="subscription_cart_line_item" constraintName="fk_subscription_cart_line_item_cart_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cart_line_item" referencesUniqueColumn="false"/>
       <!-- <sql>
            ALTER TABLE subscription_cart_line_item ADD FOREIGN KEY fk_subscription_cart_line_item_cart_line_item1 (cart_line_item_id) REFERENCES cart_line_item(id) ON DELETE CASCADE;
        </sql>-->
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1343989161150-5">
        <addForeignKeyConstraint baseColumnNames="subscription_id" baseTableName="subscription_cart_line_item" constraintName="fk_subscription_cart_line_item_subscription1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="subscription" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep" id="subscription-3-8-2012-01">
        <sql>
            UPDATE base_order SET is_subscription_order=0;
        </sql>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1339071974252-1">
      <createTable tableName="product_referrer">
        <column autoIncrement="true" name="id" type="INT">
          <constraints nullable="false" primaryKey="true"/>
        </column>
        <column name="name" type="VARCHAR(45)">
          <constraints nullable="false"/>
        </column>
      </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1339071974252-2">
      <addColumn tableName="cart_line_item">
        <column name="product_referrer_id" type="INT"/>
      </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1339071974252-3">
      <addColumn tableName="user_product_history">
        <column name="base_order_id" type="INT"/>
      </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1339071974252-6">
      <dropForeignKeyConstraint baseTableName="user_product_history"
                                constraintName="fk_user_product_history_product_thumb_tag1"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1339071974252-7">
      <addForeignKeyConstraint baseColumnNames="product_referrer_id" baseTableName="cart_line_item"
                               constraintName="fk_cart_line_item_product_referrer1" deferrable="false"
                               initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                               referencedColumnNames="id" referencedTableName="product_referrer"
                               referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1339071974252-8">
      <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="user_product_history"
                               constraintName="fk_user_product_history_base_order1" deferrable="false"
                               initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                               referencedColumnNames="id" referencedTableName="base_order"
                               referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1339071974252-9">
      <dropColumn columnName="product_thumb_tag_id" tableName="user_product_history"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1339071974252-10">
      <dropTable tableName="product_thumb_tag"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1344867984432-1">
        <addColumn tableName="debit_note">
            <column name="remarks" type="TEXT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1344867984432-2">
        <addColumn tableName="goods_received_note">
            <column name="remarks" type="TEXT"/>
        </addColumn>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1345107754347-1">
        <createTable tableName="similar_product">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="similar_product_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="relationship" type="VARCHAR(500)"/>
        </createTable>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1345107754347-4">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="similar_product"  constraintName="fk_similar_product_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1345107754347-5">
        <addForeignKeyConstraint baseColumnNames="similar_product_id" baseTableName="similar_product" constraintName="fk_similar_product_product2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product"  referencesUniqueColumn="false"/>
    </changeSet>
	
    <changeSet author="Ajeet (generated)" id="1345455498259-2">
        <addNotNullConstraint columnDataType="TINYINT" columnName="cod_allowed" defaultNullValue="1" tableName="product"/>
    </changeSet>
    <changeSet author="Neha (generated)" id="1346058956497-1">
        <createIndex indexName="unique_prod_simProd" tableName="similar_product" unique="true">
            <column name="product_id"/>
            <column name="similar_product_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-1">
        <createTable tableName="consignment">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="awb_number" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="cnn_number" type="VARCHAR(25)"/>
            <column name="amount" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column name="payment_mode" type="VARCHAR(15)">
                <constraints nullable="false"/>
            </column>
            <column name="runsheet_id" type="INT"/>
            <column name="consignment_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="hub_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="hkdelivery_payment_reconciliation_id" type="INT"/>
            <column name="address" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-2">
        <createTable tableName="consignment_lifecycle_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="status" type="VARCHAR(60)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-3">
        <createTable tableName="consignment_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="status" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-4">
        <createTable tableName="consignment_tracking">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="create_date" type="DATETIME"/>
            <column name="remarks" type="VARCHAR(45)"/>
            <column name="source_hub_id" type="INT"/>
            <column name="destination_hub_id" type="INT"/>
            <column name="consignment_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT"/>
            <column name="consignment_lifecycle_status_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-5">
        <createTable tableName="hkdelivery_payment_reconciliation">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="expected_amount" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME"/>
            <column name="update_date" type="DATETIME"/>
            <column name="user_id" type="INT"/>
            <column name="actual_amount" type="DOUBLE"/>
            <column name="remarks" type="MEDIUMTEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-6">
        <createTable tableName="hub">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
            <column name="address" type="VARCHAR(150)"/>
            <column name="country" type="VARCHAR(50)"/>
            <column name="pincode_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-7">
        <createTable tableName="runsheet">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="update_date" type="DATETIME"/>
            <column name="expected_collection" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column name="actual_collection" type="DOUBLE"/>
            <column name="cod_box_count" type="INT"/>
            <column name="prepaid_box_count" type="INT"/>
            <column name="remarks" type="MEDIUMTEXT"/>
            <column name="hub_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="agent" type="INT"/>
            <column name="runsheet_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="distance_traveled" type="DOUBLE"/>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-8">
        <createTable tableName="runsheet_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="status" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-9">
        <createIndex indexName="awb_number_UNIQUE" tableName="consignment" unique="true">
            <column name="awb_number"/>
        </createIndex>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-10">
        <addForeignKeyConstraint baseColumnNames="consignment_status_id" baseTableName="consignment" constraintName="fk_consignment_consignment_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="consignment_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-11">
        <addForeignKeyConstraint baseColumnNames="hkdelivery_payment_reconciliation_id" baseTableName="consignment" constraintName="fk_consignment_hkdelivery_payment_reconciliation1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="hkdelivery_payment_reconciliation" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-12">
        <addForeignKeyConstraint baseColumnNames="hub_id" baseTableName="consignment" constraintName="fk_consignment_hub1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="hub" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-13">
        <addForeignKeyConstraint baseColumnNames="runsheet_id" baseTableName="consignment" constraintName="fk_consignment_runsheet1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="runsheet" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-14">
        <addForeignKeyConstraint baseColumnNames="consignment_id" baseTableName="consignment_tracking" constraintName="fk_consignment_tracking_consignment1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="consignment" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-15">
        <addForeignKeyConstraint baseColumnNames="consignment_lifecycle_status_id" baseTableName="consignment_tracking" constraintName="fk_consignment_tracking_consignment_lifecycle_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="consignment_lifecycle_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-16">
        <addForeignKeyConstraint baseColumnNames="destination_hub_id" baseTableName="consignment_tracking" constraintName="fk_consignment_tracking_hub2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="hub" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-17">
        <addForeignKeyConstraint baseColumnNames="source_hub_id" baseTableName="consignment_tracking" constraintName="fk_consignment_tracking_hub1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="hub" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-18">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="consignment_tracking" constraintName="fk_consignment_tracking_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-19">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="hkdelivery_payment_reconciliation" constraintName="fk_payment_reconciliation_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-20">
        <addForeignKeyConstraint baseColumnNames="pincode_id" baseTableName="hub" constraintName="fk_hub_pincode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pincode" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-21">
        <addForeignKeyConstraint baseColumnNames="agent" baseTableName="runsheet" constraintName="fk_runsheet_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-22">
        <addForeignKeyConstraint baseColumnNames="hub_id" baseTableName="runsheet" constraintName="fk_runsheet_hub1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="hub" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-23">
        <addForeignKeyConstraint baseColumnNames="runsheet_status_id" baseTableName="runsheet" constraintName="fk_runsheet_runsheet_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="runsheet_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rajni" id="1346140043194-24">
        <sql>

            INSERT into `state` (`id`,`name`)
            values
            (6,'Haryana') ON DUPLICATE KEY UPDATE name = 'Haryana';

            INSERT into `city` (`id`,`name`)
            values
            (157,'GURGAON') ON DUPLICATE KEY UPDATE name = 'GURGAON';

	        INSERT into `courier` (`id`, `name`)
	        values
	        (500, 'HealthKart Delivery') ON DUPLICATE KEY UPDATE name = 'HealthKart Delivery';

            INSERT into `pincode`
            (`id`,`pincode`,`locality`,`default_courier_id`,`region`,`city_id`,`state_id`,`tier`)
            values
            (4925,'122001','.',500,'Delhi',157,6,'Metros')
            ON DUPLICATE KEY UPDATE pincode = '122001',locality = '.',default_courier_id = 500,region = 'Delhi',city_id = 157,state_id = 6 ,tier = 'Metros';

            INSERT into `hub` (`name`,`address`,`country`,`pincode_id`)
            values
            ('Source Hub','Dummy hub for source','India',4925),
            ('Delivered Hub','Dummy hub for delivered','India',4925);
        </sql>
    </changeSet>
      <changeSet author="Tarun (generated)" id="1346225918880-1">
        <createTable tableName="hub_has_user">
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="hub_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346225918880-2">
        <addForeignKeyConstraint baseColumnNames="hub_id" baseTableName="hub_has_user" constraintName="fk_hub_has_user_hub1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="hub" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346225918880-3">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="hub_has_user" constraintName="fk_hub_has_user_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
	<changeSet author="rahul" id="09-01-2012">
		<sql>
			INSERT INTO `warehouse` (`id`, `city`, `state`, `wh_phone`, `line1`, `line2`, `name`, `pincode`, `tin`)
			VALUES
			(101, 'Gurgaon Pharma', 'HARYANA', '123456789', 'Khasra No. 146/25/2/1', 'Jail Road, Dhumaspur, Badshahpur
			', 'Gurgaon Pharma Warehouse', '122101', '06101832327');
		</sql>
	</changeSet>
	<changeSet author="Tarun" id="09-05-2012">
		<sql>
			UPDATE shipment ship, shipping_order so
			SET ship.return_date = date_add(ship.ship_date, INTERVAL 20 DAY)
			WHERE ship.id = so.shipment_id
			AND ship.`return_date` is null
			AND so.shipping_order_status_id = 200
		</sql>
	</changeSet>
    <changeSet author="vaibhav (generated)" id="1347281819426-1">
        <addColumn tableName="base_order">
            <column name="target_dispatch_date" type="DATE"/>
        </addColumn>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1347281819426-2">
        <addColumn tableName="shipping_order">
            <column name="last_esc_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1347281819426-3">
        <addColumn tableName="shipping_order">
            <column name="target_dispatch_date" type="DATE"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1347345974710-1">
        <createTable tableName="feedback">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="base_order_id" type="INT"/>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="recommend_to_friends" type="INT"/>
            <column name="website_experience" type="INT"/>
            <column name="customer_care_experience" type="INT"/>
            <column name="comments" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1347345974710-2">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="feedback" constraintName="fk_feedback_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1347345974710-3">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="feedback" constraintName="fk_feedback_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Marut (generated)" id="1346223650206-1">
        <addColumn tableName="product">
            <column defaultValue="0" name="out_of_stock" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1347607171338-1">
        <createTable tableName="order_payment_reconciliation">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="base_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_order_id" type="INT"/>
            <column name="payment_mode_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="reconciled" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="reconciled_amount" type="DECIMAL(12,2)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0.00" name="reward_points_against_cancellation" type="DECIMAL(12,2)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1347607171338-2">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="order_payment_reconciliation" constraintName="fk_order_payment_reconciliation_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1347607171338-3">
        <addForeignKeyConstraint baseColumnNames="payment_mode_id" baseTableName="order_payment_reconciliation" constraintName="fk_order_payment_reconciliation_payment_mode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="payment_mode" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1347607171338-4">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="order_payment_reconciliation" constraintName="fk_order_payment_reconciliation_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order" referencesUniqueColumn="false"/>
    </changeSet>
</databaseChangeLog>
