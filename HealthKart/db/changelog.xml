<?xml version="1.0" encoding="UTF-8" standalone="no"?>
 <databaseChangeLog
     xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
     xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
    <changeSet author="kani (generated)" id="1304412710257-1">
        <createTable tableName="address">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
            <column name="line1" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column name="line2" type="VARCHAR(200)"/>
            <column name="city" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="state" type="VARCHAR(60)">
                <constraints nullable="false"/>
            </column>
            <column name="pin" type="VARCHAR(6)">
                <constraints nullable="false"/>
            </column>
            <column name="phone" type="VARCHAR(30)">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="default_courier_id" type="INT"/>
            <column name="deleted" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-2">
        <createTable tableName="base_order">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="order_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="payment_id" type="INT"/>
            <column name="amount" type="DECIMAL(11,2)"/>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="update_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="address_id" type="INT"/>
            <column name="gateway_order_id" type="VARCHAR(30)"/>
            <column name="offer_instance_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-3">
        <createTable tableName="category">
            <column name="name" type="VARCHAR(80)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="display_name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-4">
        <createTable tableName="category_has_product">
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="product_id" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-5">
        <createTable tableName="coupon">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="code" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="end_date" type="DATETIME"/>
            <column name="allowed_times" type="INT"/>
            <column name="already_used" type="INT"/>
            <column name="offer_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-6">
        <createTable tableName="courier">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-7">
        <createTable tableName="line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)"/>
            <column name="marked_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="hk_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="discount_on_hk_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price" type="DECIMAL(10,2)"/>
            <column name="tax_id" type="INT"/>
            <column name="line_item_type_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="line_item_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="tracking_id" type="VARCHAR(30)"/>
            <column name="courier_id" type="INT"/>
            <column name="ship_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-8">
        <createTable tableName="line_item_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-9">
        <createTable tableName="line_item_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-10">
        <createTable tableName="manufacturer">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="TEXT"/>
            <column name="website" type="VARCHAR(60)"/>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-11">
        <createTable tableName="offer">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="offer_trigger_id" type="INT"/>
            <column name="offer_action_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(200)"/>
            <column name="start_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="end_date" type="DATETIME"/>
            <column name="exclude_trigger_products" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-12">
        <createTable tableName="offer_action">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="description" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column name="discount_percent_on_marked_price" type="DECIMAL(6,4)"/>
            <column name="discount_percent_on_hk_price" type="DECIMAL(6,4)"/>
            <column name="qty" type="INT"/>
            <column name="order_level_discount_amount" type="DECIMAL(8,2)"/>
            <column name="discount_percent_on_shipping" type="DECIMAL(6,4)"/>
            <column name="product_group_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-13">
        <createTable tableName="offer_instance">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="end_date" type="DATETIME"/>
            <column name="active" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="offer_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="coupon_id" type="INT"/>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-14">
        <createTable tableName="offer_trigger">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="description" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column name="amount" type="DECIMAL(8,2)"/>
            <column name="qty" type="INT"/>
            <column name="product_group_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-15">
        <createTable tableName="order_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-16">
        <createTable tableName="payment">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="amount" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="gateway_order_id" type="VARCHAR(30)"/>
            <column name="payment_mode_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="payment_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="payment_date" type="DATETIME"/>
            <column name="gateway_reference_id" type="VARCHAR(45)"/>
            <column name="ip" type="VARCHAR(15)"/>
            <column name="payment_checksum" type="VARCHAR(45)"/>
            <column name="error_log" type="VARCHAR(45)"/>
            <column name="email" type="VARCHAR(80)"/>
            <column name="billing_address_actual" type="TEXT"/>
            <column name="contact_name" type="VARCHAR(80)"/>
            <column name="contact_number" type="VARCHAR(25)"/>
            <column name="bank_name" type="VARCHAR(45)"/>
            <column name="bank_branch" type="VARCHAR(45)"/>
            <column name="bank_city" type="VARCHAR(45)"/>
            <column name="cheque_number" type="VARCHAR(10)"/>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-17">
        <createTable tableName="payment_mode">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-18">
        <createTable tableName="payment_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-19">
        <createTable tableName="permission">
            <column name="name" type="VARCHAR(20)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-20">
        <createTable tableName="product">
            <column name="id" type="VARCHAR(12)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
            <column name="thumb_url" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="order_ranking" type="DOUBLE"/>
            <column name="brand" type="VARCHAR(45)"/>
            <column name="manufacturer_id" type="INT"/>
            <column name="pack_type" type="VARCHAR(45)"/>
            <column name="overview" type="TEXT"/>
            <column name="description" type="TEXT"/>
            <column name="keywords" type="VARCHAR(200)"/>
            <column name="min_days" type="INT"/>
            <column name="max_days" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-21">
        <createTable tableName="product_group">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-22">
        <createTable tableName="product_group_has_category">
            <column name="product_group_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-23">
        <createTable tableName="product_group_has_product">
            <column name="product_group_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-24">
        <createTable tableName="product_group_has_product_variant">
            <column name="product_group_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-25">
        <createTable tableName="product_group_not_has_product_variant">
            <column name="product_group_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-26">
        <createTable tableName="product_has_related_product">
            <column name="product_id" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="related_product_id" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-27">
        <createTable tableName="product_image">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="url" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="alt_text" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="height" type="INT"/>
            <column name="width" type="INT"/>
            <column name="product_id" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-28">
        <createTable tableName="product_option">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-29">
        <createTable tableName="product_variant">
            <column name="id" type="VARCHAR(12)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="marked_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="discount_percent" type="DECIMAL(7,4)">
                <constraints nullable="false"/>
            </column>
            <column name="hk_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price" type="DECIMAL(10,2)"/>
            <column name="product_id" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_base_qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_base_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_add_qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_add_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="tax_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="out_of_stock" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-30">
        <createTable tableName="product_variant_has_product_option">
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="product_option_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-31">
        <createTable tableName="role">
            <column name="name" type="VARCHAR(20)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-32">
        <createTable tableName="role_has_permission">
            <column name="role_name" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="permission_name" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-33">
        <createTable tableName="tax">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="DECIMAL(7,5)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-34">
        <createTable tableName="user">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="login" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(80)"/>
            <column name="name" type="VARCHAR(80)"/>
            <column name="password_checksum" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="update_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="last_login_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="user_hash" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="referred_by" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-35">
        <createTable tableName="user_has_role">
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="role_name" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-36">
        <addPrimaryKey columnNames="category_name, product_id" tableName="category_has_product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-37">
        <addPrimaryKey columnNames="product_group_id, category_name" tableName="product_group_has_category"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-38">
        <addPrimaryKey columnNames="product_group_id, product_id" tableName="product_group_has_product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-39">
        <addPrimaryKey columnNames="product_group_id, product_variant_id" tableName="product_group_has_product_variant"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-40">
        <addPrimaryKey columnNames="product_group_id, product_variant_id" tableName="product_group_not_has_product_variant"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-41">
        <addPrimaryKey columnNames="product_id, related_product_id" tableName="product_has_related_product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-42">
        <addPrimaryKey columnNames="product_variant_id, product_option_id" tableName="product_variant_has_product_option"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-43">
        <addPrimaryKey columnNames="role_name, permission_name" tableName="role_has_permission"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-44">
        <addPrimaryKey columnNames="user_id, role_name" tableName="user_has_role"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-45">
        <createIndex indexName="code_UNIQUE" tableName="coupon" unique="true">
            <column name="code"/>
        </createIndex>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-46">
        <addForeignKeyConstraint baseColumnNames="default_courier_id" baseTableName="address" constraintName="fk_address_courier1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="courier"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-47">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="address" constraintName="fk_address_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-48">
        <addForeignKeyConstraint baseColumnNames="address_id" baseTableName="base_order" constraintName="fk_base_order_address1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="address"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-49">
        <addForeignKeyConstraint baseColumnNames="offer_instance_id" baseTableName="base_order" constraintName="fk_base_order_offer_instance1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="offer_instance"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-50">
        <addForeignKeyConstraint baseColumnNames="order_status_id" baseTableName="base_order" constraintName="fk_base_order_order_status1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="order_status"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-51">
        <addForeignKeyConstraint baseColumnNames="payment_id" baseTableName="base_order" constraintName="fk_base_order_payment1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="payment"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-52">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="base_order" constraintName="fk_base_order_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-53">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="category_has_product" constraintName="fk_category_has_product_category1" deferrable="false" initiallyDeferred="false" referencedColumnNames="name" referencedTableName="category"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-54">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="category_has_product" constraintName="fk_category_has_product_product1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-55">
        <addForeignKeyConstraint baseColumnNames="offer_id" baseTableName="coupon" constraintName="fk_coupon_offer1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="offer"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-56">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="line_item" constraintName="fk_line_item_courier1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="courier"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-57">
        <addForeignKeyConstraint baseColumnNames="line_item_status_id" baseTableName="line_item" constraintName="fk_line_item_line_item_status1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="line_item_status"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-58">
        <addForeignKeyConstraint baseColumnNames="line_item_type_id" baseTableName="line_item" constraintName="fk_line_item_line_item_type1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="line_item_type"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-59">
        <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="line_item" constraintName="fk_line_item_base_order1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="base_order"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-60">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="line_item" constraintName="fk_line_item_product_variant1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_variant"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-61">
        <addForeignKeyConstraint baseColumnNames="tax_id" baseTableName="line_item" constraintName="fk_line_item_tax1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="tax"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-62">
        <addForeignKeyConstraint baseColumnNames="offer_action_id" baseTableName="offer" constraintName="fk_offer_offer_action1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="offer_action"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-63">
        <addForeignKeyConstraint baseColumnNames="offer_trigger_id" baseTableName="offer" constraintName="fk_offer_offer_trigger1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="offer_trigger"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-64">
        <addForeignKeyConstraint baseColumnNames="product_group_id" baseTableName="offer_action" constraintName="fk_offer_action_product_group1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_group"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-65">
        <addForeignKeyConstraint baseColumnNames="coupon_id" baseTableName="offer_instance" constraintName="fk_offer_instance_coupon1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="coupon"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-66">
        <addForeignKeyConstraint baseColumnNames="offer_id" baseTableName="offer_instance" constraintName="fk_offer_instance_offer1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="offer"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-67">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="offer_instance" constraintName="fk_offer_instance_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-68">
        <addForeignKeyConstraint baseColumnNames="product_group_id" baseTableName="offer_trigger" constraintName="fk_offer_trigger_product_group1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_group"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-69">
        <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="payment" constraintName="fk_payment_base_order1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="base_order"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-70">
        <addForeignKeyConstraint baseColumnNames="payment_mode_id" baseTableName="payment" constraintName="fk_payment_payment_mode1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="payment_mode"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-71">
        <addForeignKeyConstraint baseColumnNames="payment_status_id" baseTableName="payment" constraintName="fk_payment_payment_status1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="payment_status"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-72">
        <addForeignKeyConstraint baseColumnNames="manufacturer_id" baseTableName="product" constraintName="fk_product_manufacturer1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="manufacturer"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-73">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="product_group_has_category" constraintName="fk_product_group_has_category_category1" deferrable="false" initiallyDeferred="false" referencedColumnNames="name" referencedTableName="category"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-74">
        <addForeignKeyConstraint baseColumnNames="product_group_id" baseTableName="product_group_has_category" constraintName="fk_product_group_has_category_product_group1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_group"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-75">
        <addForeignKeyConstraint baseColumnNames="product_group_id" baseTableName="product_group_has_product" constraintName="fk_product_group_has_product_product_group1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_group"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-76">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_group_has_product" constraintName="fk_product_group_has_product_product1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-77">
        <addForeignKeyConstraint baseColumnNames="product_group_id" baseTableName="product_group_has_product_variant" constraintName="fk_product_group_has_product_variant_product_group1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_group"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-78">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="product_group_has_product_variant" constraintName="fk_product_group_has_product_variant_product_variant1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_variant"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-79">
        <addForeignKeyConstraint baseColumnNames="product_group_id" baseTableName="product_group_not_has_product_variant" constraintName="fk_product_group_has_product_variant1_product_group1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_group"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-80">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="product_group_not_has_product_variant" constraintName="fk_product_group_has_product_variant1_product_variant1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_variant"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-81">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_has_related_product" constraintName="fk_product_has_product_product1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-82">
        <addForeignKeyConstraint baseColumnNames="related_product_id" baseTableName="product_has_related_product" constraintName="fk_product_has_product_product2" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-83">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_image" constraintName="fk_product_image_product1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-84">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_variant" constraintName="fk_product_variant_product1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-85">
        <addForeignKeyConstraint baseColumnNames="tax_id" baseTableName="product_variant" constraintName="fk_product_variant_tax1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="tax"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-86">
        <addForeignKeyConstraint baseColumnNames="product_option_id" baseTableName="product_variant_has_product_option" constraintName="fk_product_variant_has_product_option_product_option1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_option"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-87">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="product_variant_has_product_option" constraintName="fk_product_variant_has_product_option_product_variant1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_variant"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-88">
        <addForeignKeyConstraint baseColumnNames="permission_name" baseTableName="role_has_permission" constraintName="fk_role_has_permission_permission1" deferrable="false" initiallyDeferred="false" referencedColumnNames="name" referencedTableName="permission"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-89">
        <addForeignKeyConstraint baseColumnNames="role_name" baseTableName="role_has_permission" constraintName="fk_role_has_permission_role1" deferrable="false" initiallyDeferred="false" referencedColumnNames="name" referencedTableName="role"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-90">
        <addForeignKeyConstraint baseColumnNames="referred_by" baseTableName="user" constraintName="fk_user_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-91">
        <addForeignKeyConstraint baseColumnNames="role_name" baseTableName="user_has_role" constraintName="fk_user_has_role_role1" deferrable="false" initiallyDeferred="false" referencedColumnNames="name" referencedTableName="role"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1304412710257-92">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_has_role" constraintName="fk_user_has_role_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>


    <changeSet author="kani (generated)" id="1305183976077-1">
        <addColumn tableName="line_item">
            <column name="shipped_email_sent" type="TINYINT"/>
        </addColumn>
    </changeSet>

    <changeSet author="kani (generated)" id="1305258241555-1">
        <createTable tableName="courier_service_info">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="pincode" type="VARCHAR(6)">
                <constraints nullable="false"/>
            </column>
            <column name="locality" type="VARCHAR(45)"/>
            <column name="city" type="VARCHAR(45)"/>
            <column name="state" type="VARCHAR(45)"/>
            <column name="cod_available" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="courier_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1305258241555-2">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="courier_service_info" constraintName="fk_courier_service_info_courier1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="courier"/>
    </changeSet>

    <changeSet author="USER (generated)" id="1305649517855-1">
        <addColumn tableName="product">
            <column defaultValue="0" name="deleted" type="TINYINT"/>
        </addColumn>
    </changeSet>

  <!-- Extra Options -->
    <changeSet author="USER (generated)" id="1306243889811-1">
        <createTable tableName="line_item_extra_option">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="line_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1306243889811-2">
        <createTable tableName="product_extra_option">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1306243889811-3">
        <createTable tableName="product_variant_has_product_extra_option">
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="product_extra_option_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1306243889811-4">
        <addColumn tableName="product_variant">
            <column name="variant_name" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1306243889811-5">
        <addPrimaryKey columnNames="product_variant_id, product_extra_option_id" tableName="product_variant_has_product_extra_option"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306243889811-6">
        <addForeignKeyConstraint baseColumnNames="line_item_id" baseTableName="line_item_extra_option" constraintName="fk_extra_option_line_item1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="line_item"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306243889811-7">
        <addForeignKeyConstraint baseColumnNames="product_extra_option_id" baseTableName="product_variant_has_product_extra_option" constraintName="fk_product_variant_has_product_extra_option_product_extra_opt1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_extra_option"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306243889811-8">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="product_variant_has_product_extra_option" constraintName="fk_product_variant_has_product_option_product_variant10" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product_variant"/>
    </changeSet>

    <changeSet author="USER (generated)" id="1306300798683-1">
        <ext:modifyColumn tableName="product_extra_option">
            <column name="value" type="varchar(1000)"/>
        </ext:modifyColumn>
    </changeSet>

    <!-- Referral Program -->
    <changeSet author="USER (generated)" id="1306948507433-1">
        <createTable tableName="reward_point">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="referred_user_id" type="INT"/>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="reward_point_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="DECIMAL(6,2)">
                <constraints nullable="false"/>
            </column>
            <column name="referred_order_id" type="INT"/>
            <column name="comment" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-2">
        <createTable tableName="reward_point_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-3">
        <createTable tableName="reward_point_txn">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="value" type="DECIMAL(6,2)">
                <constraints nullable="false"/>
            </column>
            <column name="txn_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="expiry_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="reward_point_txn_type_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="reward_point_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="redeemed_order_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-4">
        <createTable tableName="reward_point_txn_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-5">
        <createTable tableName="user_account_info">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="overused_reward_points" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="alternate_email" type="VARCHAR(100)"/>
            <column name="user_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-6">
        <addNotNullConstraint columnDataType="VARCHAR(1000)" columnName="value" defaultNullValue="" tableName="product_extra_option"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-7">
        <addForeignKeyConstraint baseColumnNames="referred_order_id" baseTableName="reward_point" constraintName="fk_reward_point_base_order1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="base_order"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-8">
        <addForeignKeyConstraint baseColumnNames="referred_user_id" baseTableName="reward_point" constraintName="fk_reward_point_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-9">
        <addForeignKeyConstraint baseColumnNames="reward_point_status_id" baseTableName="reward_point" constraintName="fk_reward_point_reward_point_status1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="reward_point_status"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-10">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="reward_point" constraintName="fk_reward_point_user2" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-11">
        <addForeignKeyConstraint baseColumnNames="redeemed_order_id" baseTableName="reward_point_txn" constraintName="fk_reward_point_txn_base_order1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="base_order"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-12">
        <addForeignKeyConstraint baseColumnNames="reward_point_id" baseTableName="reward_point_txn" constraintName="fk_reward_point_txn_reward_point1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="reward_point"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-13">
        <addForeignKeyConstraint baseColumnNames="reward_point_txn_type_id" baseTableName="reward_point_txn" constraintName="fk_reward_point_txn_reward_point_txn_type1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="reward_point_txn_type"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-14">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="reward_point_txn" constraintName="fk_reward_point_txn_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1306948507433-15">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_account_info" constraintName="fk_user_account_info_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1307086705846-1">
        <addColumn tableName="coupon">
            <column name="referrer_user_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1307086705846-2">
        <addForeignKeyConstraint baseColumnNames="referrer_user_id" baseTableName="coupon" constraintName="fk_coupon_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1307087031023-1">
        <addColumn tableName="offer">
            <column name="offer_identifier" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>

    <changeSet author="USER (generated)" id="1307104283066-1">
        <createTable tableName="email_recepient">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="email" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="subscribed" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
            <column name="email_type_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1307104283066-2">
        <createTable tableName="email_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1307104283066-3">
        <createTable tableName="emailer_history">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="sender_email" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="email_recepient_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="email_type_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="send_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="sender_name" type="VARCHAR(45)"/>
            <column name="custom_message" type="TEXT"/>
            <column name="sender_user_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1307104283066-4">
        <addForeignKeyConstraint baseColumnNames="email_type_id" baseTableName="email_recepient" constraintName="fk_email_recepient_email_type1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="email_type"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1307104283066-5">
        <addForeignKeyConstraint baseColumnNames="email_recepient_id" baseTableName="emailer_history" constraintName="fk_emailer_history_email_recepient1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="email_recepient"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1307104283066-6">
        <addForeignKeyConstraint baseColumnNames="email_type_id" baseTableName="emailer_history" constraintName="fk_emailer_history_email_type1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="email_type"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1307104283066-7">
        <addForeignKeyConstraint baseColumnNames="sender_user_id" baseTableName="emailer_history" constraintName="fk_emailer_history_user1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>

    <changeSet author="USER (generated)" id="1307436932442-1">
        <addColumn tableName="base_order">
            <column defaultValue="0" name="referred_order" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1307436932442-2">
        <addColumn tableName="base_order">
            <column name="reward_points_used" type="DECIMAL(6,0)"/>
        </addColumn>
    </changeSet>

  <changeSet author="USER (generated)" id="1307442237711-1">
    <addColumn tableName="product_variant">
        <column name="deleted" type="TINYINT">
            <constraints nullable="false"/>
        </column>
    </addColumn>
  </changeSet>
  <changeSet author="USER (generated)" id="1307442237711-2">
      <addColumn tableName="product_variant">
          <column name="order_ranking" type="DOUBLE"/>
      </addColumn>
  </changeSet>

  <!-- Product features and images -->
    <changeSet author="USER (generated)" id="1307428374361-1">
        <createTable tableName="product_feature">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="VARCHAR(45)"/>
            <column name="product_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1307428374361-2">
        <addColumn tableName="product">
            <column name="main_image_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1307428374361-3">
        <addColumn tableName="product_image">
            <column name="checksum" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1307428374361-4">
        <addColumn tableName="product_image">
            <column defaultValue="0" name="hidden" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1307428374361-5">
        <addColumn tableName="product_image">
            <column defaultValue="0" name="uploaded" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1307428374361-6">
        <addNotNullConstraint columnDataType="VARCHAR(1000)" columnName="value" defaultNullValue="" tableName="product_extra_option"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1307428374361-7">
        <createIndex indexName="checksum_UNIQUE" tableName="product_image" unique="true">
            <column name="checksum"/>
        </createIndex>
    </changeSet>
    <changeSet author="USER (generated)" id="1307428374361-8">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_feature" constraintName="fk_product_feature_product1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>

  <changeSet author="kani (generated)" id="1307856688643-1">
      <addAutoIncrement tableName="product_image" columnName="id" columnDataType="int"/>
  </changeSet>

    <changeSet author="nitin (generated)" id="1307520904495-1">
        <createTable tableName="seo_data">
            <column name="id" type="VARCHAR(45)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="h1" type="VARCHAR(250)"/>
            <column name="title" type="VARCHAR(250)"/>
            <column name="meta_keyword" type="TEXT"/>
            <column name="meta_description" type="TEXT"/>
            <column name="description" type="TEXT"/>
        </createTable>
    </changeSet>

  <changeSet author="nitin" id="20110613-01">
    <addDefaultValue tableName="product_variant" columnName="deleted" defaultValue="0"/>
    <addDefaultValue tableName="product_variant" columnName="out_of_stock" defaultValue="0"/>
  </changeSet>

  <changeSet author="USER (generated)" id="1308117179834-1">
      <createTable tableName="offer_has_role">
          <column name="offer_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="role_name" type="VARCHAR(20)">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="USER (generated)" id="1308117179834-2">
      <addPrimaryKey columnNames="offer_id, role_name" tableName="offer_has_role"/>
  </changeSet>
  <changeSet author="USER (generated)" id="1308117179834-3">
      <addForeignKeyConstraint baseColumnNames="offer_id" baseTableName="offer_has_role" constraintName="fk_offer_has_role_offer1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="offer" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="USER (generated)" id="1308117179834-4">
      <addForeignKeyConstraint baseColumnNames="role_name" baseTableName="offer_has_role" constraintName="fk_offer_has_role_role1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="role" referencesUniqueColumn="false"/>
  </changeSet>

  <changeSet author="USER (generated)" id="1308124564884-1">
      <createTable tableName="email_subscription">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="promotional" type="TINYINT"/>
          <column name="unsubscribe_token" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
          <column defaultValueNumeric="0" name="invalid" type="TINYINT"/>
          <column defaultValueNumeric="0" name="bounce" type="TINYINT"/>
          <column name="user_id" type="INT">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="USER (generated)" id="1308124564884-2">
      <createTable tableName="temp_token">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="token" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
          <column name="create_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
          <column name="expiry_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
          <column defaultValueNumeric="0" name="expired" type="TINYINT">
              <constraints nullable="false"/>
          </column>
          <column name="user_id" type="INT">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="USER (generated)" id="1308124564884-3">
      <addNotNullConstraint columnDataType="VARCHAR(1000)" columnName="value" tableName="product_extra_option"/>
  </changeSet>
  <changeSet author="USER (generated)" id="1308124564884-4">
      <createIndex indexName="token_UNIQUE" tableName="temp_token" unique="true">
          <column name="token"/>
      </createIndex>
  </changeSet>
  <changeSet author="USER (generated)" id="1308124564884-5">
      <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="email_subscription" constraintName="fk_email_subscription_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="USER (generated)" id="1308124564884-6">
      <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="temp_token" constraintName="fk_temp_token_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
  </changeSet>

  <changeSet author="USER (generated)" id="1309426870197-1">
      <createTable tableName="comment">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="name" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
          <column name="comment" type="TEXT">
              <constraints nullable="false"/>
          </column>
          <column name="date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
          <column name="order_id" type="INT">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="USER (generated)" id="1309426870197-2">
      <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="comment" constraintName="fk_comment_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
  </changeSet>

  <changeSet author="kani (generated)" id="1308923890579-1">
      <createTable tableName="ticket">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="short_description" type="VARCHAR(200)">
              <constraints nullable="false"/>
          </column>
          <column name="full_description" type="TEXT"/>
          <column name="create_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
          <column name="update_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
          <column name="associated_email" type="VARCHAR(100)"/>
          <column name="associated_phone" type="VARCHAR(25)"/>
          <column name="associated_tracking_id" type="VARCHAR(20)"/>
          <column name="ticket_status_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="ticket_type_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="owner" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="reporter" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="associated_user" type="INT"/>
          <column name="associated_order" type="INT"/>
          <column name="associated_courier" type="INT"/>
      </createTable>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-2">
      <createTable tableName="ticket_history">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="ticket_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="comment" type="TEXT"/>
          <column name="create_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
          <column name="short_description" type="VARCHAR(200)">
              <constraints nullable="false"/>
          </column>
          <column name="full_description_changed" type="TINYINT">
              <constraints nullable="false"/>
          </column>
          <column name="associated_email" type="VARCHAR(100)"/>
          <column name="associated_phone" type="VARCHAR(20)"/>
          <column name="associated_tracking_id" type="VARCHAR(20)"/>
          <column name="ticket_status_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="ticket_type_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="owner" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="changed_by" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="associated_user" type="INT"/>
          <column name="associated_order" type="INT"/>
          <column name="associated_courier" type="INT"/>
      </createTable>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-3">
      <createTable tableName="ticket_status">
          <column name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="name" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-4">
      <createTable tableName="ticket_type">
          <column name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="name" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
          <column name="description" type="VARCHAR(200)"/>
      </createTable>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-5">
      <addForeignKeyConstraint baseColumnNames="associated_courier" baseTableName="ticket" constraintName="fk_ticket_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-6">
      <addForeignKeyConstraint baseColumnNames="associated_order" baseTableName="ticket" constraintName="fk_ticket_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-7">
      <addForeignKeyConstraint baseColumnNames="associated_user" baseTableName="ticket" constraintName="fk_ticket_user3" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-8">
      <addForeignKeyConstraint baseColumnNames="owner" baseTableName="ticket" constraintName="fk_ticket_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-9">
      <addForeignKeyConstraint baseColumnNames="reporter" baseTableName="ticket" constraintName="fk_ticket_user2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-10">
      <addForeignKeyConstraint baseColumnNames="ticket_status_id" baseTableName="ticket" constraintName="fk_ticket_ticket_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="ticket_status" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-11">
      <addForeignKeyConstraint baseColumnNames="ticket_type_id" baseTableName="ticket" constraintName="fk_ticket_ticket_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="ticket_type" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-12">
      <addForeignKeyConstraint baseColumnNames="associated_courier" baseTableName="ticket_history" constraintName="fk_ticket_history_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-13">
      <addForeignKeyConstraint baseColumnNames="associated_order" baseTableName="ticket_history" constraintName="fk_ticket_history_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-14">
      <addForeignKeyConstraint baseColumnNames="associated_user" baseTableName="ticket_history" constraintName="fk_ticket_history_user3" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-15">
      <addForeignKeyConstraint baseColumnNames="changed_by" baseTableName="ticket_history" constraintName="fk_ticket_history_user2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-16">
      <addForeignKeyConstraint baseColumnNames="owner" baseTableName="ticket_history" constraintName="fk_ticket_history_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-17">
      <addForeignKeyConstraint baseColumnNames="ticket_id" baseTableName="ticket_history" constraintName="fk_ticket_history_ticket1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="ticket" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-18">
      <addForeignKeyConstraint baseColumnNames="ticket_status_id" baseTableName="ticket_history" constraintName="fk_ticket_history_ticket_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="ticket_status" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1308923890579-19">
      <addForeignKeyConstraint baseColumnNames="ticket_type_id" baseTableName="ticket_history" constraintName="fk_ticket_history_ticket_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="ticket_type" referencesUniqueColumn="false"/>
  </changeSet>

  <changeSet author="kani (generated)" id="1308925071841-1">
      <modifyDataType columnName="name" newDataType="VARCHAR(30)" tableName="permission"/>
  </changeSet>

  <changeSet author="kani (generated)" id="1308925184301-1">
      <modifyDataType columnName="permission_name" newDataType="VARCHAR(30)" tableName="role_has_permission"/>
  </changeSet>

  <changeSet author="kani (generated)" id="1309356157792-1">
      <createTable tableName="fbcoupon_campaign">
          <column name="code" type="VARCHAR(45)">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="name" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
          <column name="share_url" type="VARCHAR(200)"/>
          <column name="create_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="kani (generated)" id="1309356157792-2">
      <createTable tableName="fbcoupon_coupon">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="coupon" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
          <column name="bonus_coupon" type="VARCHAR(45)"/>
          <column name="coupon_use_count" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="bonus_coupon_use_count" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="fbcoupon_campaign_code" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
          <column name="create_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="kani (generated)" id="1309356157792-3">
      <createTable tableName="fbcoupon_user">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="fbuid" type="BIGINT">
              <constraints nullable="false"/>
          </column>
          <column name="email" type="VARCHAR(60)"/>
          <column name="name" type="VARCHAR(60)"/>
          <column name="create_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
          <column name="update_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="kani (generated)" id="1309356157792-4">
      <createTable tableName="fbcoupon_user_campaign">
          <column name="fbcoupon_user_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="fbcoupon_campaign_code" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
          <column name="fbcoupon_coupon_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="shared" type="TINYINT">
              <constraints nullable="false"/>
          </column>
          <column name="create_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="kani (generated)" id="1309356157792-7">
      <addPrimaryKey columnNames="fbcoupon_user_id, fbcoupon_campaign_code" tableName="fbcoupon_user_campaign"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1309356157792-8">
      <addForeignKeyConstraint baseColumnNames="fbcoupon_campaign_code" baseTableName="fbcoupon_coupon" constraintName="fk_fbcoupon_coupon_fbcoupon_campaign1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="code" referencedTableName="fbcoupon_campaign" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1309356157792-9">
      <addForeignKeyConstraint baseColumnNames="fbcoupon_campaign_code" baseTableName="fbcoupon_user_campaign" constraintName="fk_fbcoupon_user_campaign_fbcoupon_campaign1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="code" referencedTableName="fbcoupon_campaign" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1309356157792-10">
      <addForeignKeyConstraint baseColumnNames="fbcoupon_coupon_id" baseTableName="fbcoupon_user_campaign" constraintName="fk_fbcoupon_user_has_coupon_fbcoupon_coupon1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="fbcoupon_coupon" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="kani (generated)" id="1309356157792-11">
      <addForeignKeyConstraint baseColumnNames="fbcoupon_user_id" baseTableName="fbcoupon_user_campaign" constraintName="fk_fbcoupon_user_has_coupon_fbcoupon_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="fbcoupon_user" referencesUniqueColumn="false"/>
  </changeSet>

  <changeSet author="USER (generated)" id="1309536662140-1">
      <createTable tableName="product_variant_inventory">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="qty" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="product_variant_id" type="VARCHAR(12)">
              <constraints nullable="false"/>
          </column>
          <column name="line_item_id" type="INT"/>
          <column name="txn_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="USER (generated)" id="1309536662140-2">
      <addForeignKeyConstraint baseColumnNames="line_item_id" baseTableName="product_variant_inventory" constraintName="fk_variant_inventory_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="line_item" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="USER (generated)" id="1309536662140-3">
      <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="product_variant_inventory" constraintName="fk_variant_inventory_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
  </changeSet>

  <changeSet author="Pratham (generated)" id="1309853849696-1">
      <createTable tableName="reconciliation_status">
          <column name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="name" type="VARCHAR(45)"/>
      </createTable>
  </changeSet>
  <changeSet author="Pratham (generated)" id="1309853849696-2">
      <addColumn tableName="base_order">
          <column defaultValue="10" name="reconciliation_status_id" type="INT">
              <constraints nullable="false"/>
          </column>
      </addColumn>
  </changeSet>
  <changeSet author="Pratham (generated)" id="1309853849696-3">
      <addColumn tableName="line_item">
          <column name="delivery_date" type="DATETIME"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet" id="20110708-01">
    <sql>
      update base_order set reconciliation_status_id = 10;
    </sql>
  </changeSet>
  <changeSet author="ajeet" id="20110708-02">
    <sql>
      insert into reconciliation_status values (10, 'PENDING');
    </sql>
  </changeSet>
  <changeSet author="Pratham (generated)" id="1309853849696-4">
      <addForeignKeyConstraint baseColumnNames="reconciliation_status_id" baseTableName="base_order"  constraintName="fk_base_order_reconciliation_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="reconciliation_status"  referencesUniqueColumn="false"/>
  </changeSet>
    <changeSet author="Pratham (generated)" id="1310105022010-1">
        <addColumn tableName="base_order">
            <column name="user_comments" type="TEXT"/>
        </addColumn>
   </changeSet>

  <changeSet author="ajeet (generated)" id="1310486296355-1">
      <createTable tableName="cancellation_type">
          <column name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="name" type="VARCHAR(100)">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1310486296355-2">
      <addColumn tableName="base_order">
          <column name="cancellation_remark" type="TEXT"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1310486296355-3">
      <addColumn tableName="base_order">
          <column name="cancellation_type_id" type="INT"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1310486296355-4">
      <addNotNullConstraint columnDataType="VARCHAR(45)" columnName="name" tableName="reconciliation_status"/>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1310486296355-5">
      <addForeignKeyConstraint baseColumnNames="cancellation_type_id" baseTableName="base_order" constraintName="fk_base_order_cancellation_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cancellation_type" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1312990290509-1">
      <modifyDataType columnName="alt_text" newDataType="VARCHAR(200)" tableName="product_image"/>
  </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-1">
        <createTable tableName="affiliate">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="code" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="check_in_favour_of" type="VARCHAR(150)"/>
            <column name="main_address_id" type="INT"/>
            <column name="affiliate_expiry_date" type="DATE"/>
            <column name="affiliate_pan_no" type="VARCHAR(45)"/>
            <column name="affiliate_website" type="VARCHAR(80)"/>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-2">
        <createTable tableName="affiliate_account_details">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="account_no" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="affiliate_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-3">
        <createTable tableName="affiliate_category">
            <column name="affiliate_category_name" type="VARCHAR(80)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="overview" type="VARCHAR(100)"/>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-4">
        <createTable tableName="affiliate_category_commission">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="affiliate_category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="commission_first" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="commission_second" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column name="affiliate_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-5">
        <createTable tableName="affiliate_traffic_details">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="affiliate_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="target_url" type="VARCHAR(450)">
                <constraints nullable="false"/>
            </column>
            <column name="referral_url" type="VARCHAR(450)"/>
            <column name="user_timestamp" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-6">
        <createTable tableName="affiliate_txn">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="amount" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="affiliate_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="base_order_id" type="INT"/>
            <column name="affiliate_txn_type_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-7">
        <createTable tableName="affiliate_txn_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-8">
        <createTable tableName="check_details">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="check_no" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="issue_date" type="DATE">
                <constraints nullable="false"/>
            </column>
            <column name="bank_name" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="affiliate_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="affiliate_txn_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-9">
        <createTable tableName="default_category_commission">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValueNumeric="0" name="commission_first" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="commission_second" type="DOUBLE"/>
            <column name="affiliate_category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-10">
        <addColumn tableName="product_variant">
            <column name="affiliate_category_name" type="VARCHAR(80)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-11">
        <addNotNullConstraint columnDataType="TINYINT" columnName="deleted" defaultNullValue="0" tableName="product"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-12">
        <modifyDataType columnName="name" newDataType="VARCHAR(40)" tableName="role"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-13">
        <modifyDataType columnName="id" newDataType="VARCHAR(250)" tableName="seo_data"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-14">
        <modifyDataType columnName="role_name" newDataType="VARCHAR(40)" tableName="user_has_role"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-15">
        <createIndex indexName="check_no_UNIQUE" tableName="check_details" unique="true">
            <column name="check_no"/>
        </createIndex>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-16">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="affiliate" constraintName="fk_affiliate_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-17">
        <addForeignKeyConstraint baseColumnNames="affiliate_id" baseTableName="affiliate_account_details" constraintName="fk_affiliate_account_details_affiliate1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="affiliate" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-18">
        <addForeignKeyConstraint baseColumnNames="affiliate_category_name" baseTableName="affiliate_category_commission" constraintName="fk_category_commission_rank_affiliate_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="affiliate_category_name" referencedTableName="affiliate_category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-19">
        <addForeignKeyConstraint baseColumnNames="affiliate_id" baseTableName="affiliate_category_commission" constraintName="fk_affiliate_category_commission_affiliate1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="affiliate" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-20">
        <addForeignKeyConstraint baseColumnNames="affiliate_id" baseTableName="affiliate_traffic_details" constraintName="fk_affiliate_traffic_details_affiliate1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="affiliate" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-21">
        <addForeignKeyConstraint baseColumnNames="affiliate_id" baseTableName="affiliate_txn" constraintName="fk_affiliate_txn_affiliate1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="affiliate" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-22">
        <addForeignKeyConstraint baseColumnNames="affiliate_txn_type_id" baseTableName="affiliate_txn" constraintName="fk_affiliate_txn_affiliate_txn_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="affiliate_txn_type" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-23">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="affiliate_txn" constraintName="fk_affiliate_txn_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-24">
        <addForeignKeyConstraint baseColumnNames="affiliate_id" baseTableName="check_details" constraintName="fk_check_details_affiliate1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="affiliate" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-25">
        <addForeignKeyConstraint baseColumnNames="affiliate_txn_id" baseTableName="check_details" constraintName="fk_check_details_affiliate_txn1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="affiliate_txn" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-26">
        <addForeignKeyConstraint baseColumnNames="affiliate_category_name" baseTableName="default_category_commission" constraintName="fk_default_category_commissions_affiliate_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="affiliate_category_name" referencedTableName="affiliate_category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313514449776-27">
        <addForeignKeyConstraint baseColumnNames="affiliate_category_name" baseTableName="product_variant" constraintName="fk_product_variant_affiliate_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="affiliate_category_name" referencedTableName="affiliate_category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1312871859172-1">
      <addColumn tableName="product_variant">
          <column name="main_image_id" type="INT"/>
      </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1312882542214-1">
      <addColumn tableName="product_image">
          <column name="product_variant_id" type="VARCHAR(12)"/>
      </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1312882542214-2">
      <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="product_image" constraintName="fk_product_image_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1313669518603-1">
        <addColumn tableName="product">
            <column defaultValue="0" name="product_has_color_options" type="TINYINT"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1314071590968-1">
        <createTable tableName="discount_coupon_mailing_list">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
            <column name="mobile" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="src_url" type="VARCHAR(255)"/>
            <column name="category" type="VARCHAR(45)"/>
            <column name="coupon_code" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="kani (generated)" id="1314124722586-1">
        <addColumn tableName="discount_coupon_mailing_list">
            <column name="comments" type="TEXT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-2">
        <addColumn tableName="discount_coupon_mailing_list">
            <column name="subscribe_email" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-3">
        <addColumn tableName="discount_coupon_mailing_list">
            <column name="subscribe_mobile" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-4">
        <modifyDataType columnName="category" newDataType="VARCHAR(65)" tableName="discount_coupon_mailing_list"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-5">
        <dropNotNullConstraint columnDataType="VARCHAR(45)" columnName="coupon_code" tableName="discount_coupon_mailing_list"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-6">
        <dropNotNullConstraint columnDataType="VARCHAR(100)" columnName="email" tableName="discount_coupon_mailing_list"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-7">
        <modifyDataType columnName="mobile" newDataType="VARCHAR(25)" tableName="discount_coupon_mailing_list"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-8">
        <dropNotNullConstraint columnDataType="VARCHAR(25)" columnName="mobile" tableName="discount_coupon_mailing_list"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-9">
        <modifyDataType columnName="name" newDataType="VARCHAR(65)" tableName="discount_coupon_mailing_list"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1314124722586-10">
        <modifyDataType columnName="src_url" newDataType="TEXT" tableName="discount_coupon_mailing_list"/>
    </changeSet>

    <changeSet author="kani (generated)" id="1314201918277-1">
        <addColumn tableName="product_variant">
            <column name="color_hex" type="VARCHAR(10)"/>
        </addColumn>
    </changeSet>

    <changeSet author="USER (generated)" id="1314503758717-1">
        <createTable tableName="accounting_invoice_number">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1314503758717-2">
        <addColumn tableName="base_order">
            <column name="accounting_invoice_number_id" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1315032951811-1">
        <createTable tableName="supplier">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
            <column name="state" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1315032951811-2">
        <addColumn tableName="product">
            <column name="supplier_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1315032951811-3">
        <addForeignKeyConstraint baseColumnNames="supplier_id" baseTableName="product" constraintName="fk_product_supplier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="supplier" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1315245510742-1">
        <createTable tableName="order_lifecycle">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="activity_by_user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="order_lifecycle_activity_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="activity_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1315245510742-2">
        <createTable tableName="order_lifecycle_activity">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1315245510742-3">
        <addForeignKeyConstraint baseColumnNames="activity_by_user_id" baseTableName="order_lifecycle" constraintName="fk_order_lifecycle_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1315245510742-4">
        <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="order_lifecycle" constraintName="fk_order_lifecycle_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1315245510742-5">
        <addForeignKeyConstraint baseColumnNames="order_lifecycle_activity_id" baseTableName="order_lifecycle" constraintName="fk_order_lifecycle_order_lifecycle_activity1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="order_lifecycle_activity" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1315281322168-1">
        <addColumn tableName="order_lifecycle">
            <column name="comments" type="TEXT"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1316083010787-1">
        <createTable tableName="box_size">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1316083010787-2">
        <addColumn tableName="line_item">
            <column name="box_size_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1316083010787-3">
        <addForeignKeyConstraint baseColumnNames="box_size_id" baseTableName="line_item" constraintName="fk_line_item_box_size1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="box_size" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="USER (generated)" id="1316439142909-1">
        <addColumn tableName="user">
            <column name="affiliate_to" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1316439142909-3">
        <addForeignKeyConstraint baseColumnNames="affiliate_to" baseTableName="user" constraintName="fk_user_user2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1317030531518-1">
        <addColumn tableName="product_variant">
            <column name="breadth" type="DOUBLE"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1317030531518-2">
        <addColumn tableName="product_variant">
            <column name="height" type="DOUBLE"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1317030531518-3">
        <addColumn tableName="product_variant">
            <column name="length" type="DOUBLE"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1317030531518-4">
        <addColumn tableName="product_variant">
            <column name="weight" type="DOUBLE"/>
        </addColumn>
    </changeSet>


    <changeSet author="kani (generated)" id="1317197517914-1">
        <createIndex indexName="index_user_email" tableName="user" unique="false">
            <column name="email"/>
        </createIndex>
    </changeSet>
    <changeSet author="kani (generated)" id="1317197517914-2">
        <createIndex indexName="unique_user_login" tableName="user" unique="true">
            <column name="login"/>
        </createIndex>
    </changeSet>
    <changeSet author="kani (generated)" id="1317197517914-3">
        <createIndex indexName="unique_user_user_hash" tableName="user" unique="true">
            <column name="user_hash"/>
        </createIndex>
    </changeSet>

  <changeSet author="ajeet (generated)" id="1317209501067-1">
      <addColumn tableName="product_variant">
          <column name="upc" type="VARCHAR(45)"/>
      </addColumn>
  </changeSet>

     <changeSet author="kani (generated)" id="1317221160413-1">
        <createTable tableName="email_campaign">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="template" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="start_date" type="DATETIME"/>
            <column name="min_day_gap" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-2">
        <addColumn tableName="email_recepient">
            <column name="bounce" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-3">
        <addColumn tableName="email_recepient">
            <column name="email_count" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-4">
        <addColumn tableName="email_recepient">
            <column name="invalid" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-5">
        <addColumn tableName="email_recepient">
            <column name="last_email_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-6">
        <addColumn tableName="email_recepient">
            <column name="unsubscribe_token" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-7">
        <addColumn tableName="email_recepient">
            <column name="user_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-8">
        <addColumn tableName="emailer_history">
            <column name="email_campaign_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-9">
        <dropForeignKeyConstraint baseTableName="email_recepient" constraintName="fk_email_recepient_email_type1"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-10">
        <createIndex indexName="email_UNIQUE" tableName="email_recepient" unique="true">
            <column name="email"/>
        </createIndex>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-11">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="email_recepient" constraintName="fk_email_recepient_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-12">
        <addForeignKeyConstraint baseColumnNames="email_campaign_id" baseTableName="emailer_history" constraintName="fk_emailer_history_email_campaign1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="email_campaign" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1317221160413-13">
        <dropColumn columnName="email_type_id" tableName="email_recepient"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1317621409167-1">
        <addColumn tableName="line_item">
            <column name="box_weight" type="DECIMAL(8,4)"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1317874073914-1">
        <createTable tableName="bin">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="barcode" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="shelf" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="rack" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="aisle" type="VARCHAR(45)"/>
            <column name="room" type="VARCHAR(45)"/>
            <column name="floor" type="VARCHAR(45)"/>
            <column name="building" type="VARCHAR(45)"/>
            <column name="area" type="VARCHAR(45)"/>
            <column name="city" type="VARCHAR(45)"/>
            <column name="state" type="VARCHAR(45)"/>
            <column name="country" type="VARCHAR(45)"/>
            <column defaultValueNumeric="0" name="deleted" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-2">
        <createTable tableName="bin_has_sku_item">
            <column name="bin_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="sku_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-3">
        <createTable tableName="po_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price" type="DECIMAL(8,2)"/>
            <column name="tax" type="DECIMAL(6,4)"/>
            <column name="purchase_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-4">
        <createTable tableName="purchase_order">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="supplier_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="purchase_order_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-5">
        <createTable tableName="purchase_order_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-6">
        <createTable tableName="sku_group">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="barcode" type="VARCHAR(45)"/>
            <column name="purchase_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="batch_number" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="expiry_date" type="DATE"/>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="checkin_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-7">
        <createTable tableName="sku_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="barcode" type="VARCHAR(45)"/>
            <column name="sku_group_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="checkin_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-8">
        <addColumn tableName="product_variant_inventory">
            <column name="sku_item_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-9">
        <addPrimaryKey columnNames="bin_id, sku_item_id" tableName="bin_has_sku_item"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-10">
        <dropForeignKeyConstraint baseTableName="email_subscription" constraintName="fk_email_subscription_user1"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-11">
        <createIndex indexName="bin_barcode_UNIQUE" tableName="bin" unique="true">
            <column name="barcode"/>
        </createIndex>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1317874073914-13">
        <addForeignKeyConstraint baseColumnNames="bin_id" baseTableName="bin_has_sku_item" constraintName="fk_bin_has_sku_item_bin1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="bin" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-14">
        <addForeignKeyConstraint baseColumnNames="sku_item_id" baseTableName="bin_has_sku_item" constraintName="fk_bin_has_sku_item_sku_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-15">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="po_line_item" constraintName="fk_po_line_item_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-16">
        <addForeignKeyConstraint baseColumnNames="purchase_order_id" baseTableName="po_line_item" constraintName="fk_po_line_item_purchase_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-17">
        <addForeignKeyConstraint baseColumnNames="sku_item_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_sku_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-18">
        <addForeignKeyConstraint baseColumnNames="purchase_order_status_id" baseTableName="purchase_order" constraintName="fk_purchase_order_purchase_order_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_order_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-19">
        <addForeignKeyConstraint baseColumnNames="supplier_id" baseTableName="purchase_order" constraintName="fk_purchase_order_supplier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="supplier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-20">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="sku_group" constraintName="fk_group_barcode_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-21">
        <addForeignKeyConstraint baseColumnNames="purchase_order_id" baseTableName="sku_group" constraintName="fk_sku_group_purchase_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-22">
        <addForeignKeyConstraint baseColumnNames="sku_group_id" baseTableName="sku_item" constraintName="fk_item_barcode_group_barcode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku_group" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317874073914-23">
        <dropTable tableName="email_subscription"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317884326824-1">
        <addColumn tableName="sku_group">
            <column name="invoice_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317884326824-2">
        <addColumn tableName="sku_group">
            <column name="invoice_number" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317888055482-1">
        <addColumn tableName="purchase_order">
            <column name="update_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317888055482-2">
        <addColumn tableName="sku_group">
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317888055482-3">
        <addColumn tableName="sku_item">
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317888055482-4">
        <dropColumn columnName="checkin_date" tableName="sku_group"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317888055482-5">
        <dropColumn columnName="checkin_date" tableName="sku_item"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1317971268400-1">
        <addColumn tableName="purchase_order">
            <column name="comments" type="TEXT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-2">
        <addColumn tableName="purchase_order">
            <column name="created_by" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-3">
        <addColumn tableName="purchase_order">
            <column name="po_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-4">
        <addColumn tableName="purchase_order">
            <column name="po_number" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-5">
        <addColumn tableName="supplier">
            <column name="city" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-6">
        <addColumn tableName="supplier">
            <column name="contact_number" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-7">
        <addColumn tableName="supplier">
            <column name="contact_person" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-8">
        <addColumn tableName="supplier">
            <column name="line1" type="VARCHAR(200)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-9">
        <addColumn tableName="supplier">
            <column name="line2" type="VARCHAR(200)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-10">
        <addColumn tableName="supplier">
            <column name="tin_number" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1317971268400-11">
        <addForeignKeyConstraint baseColumnNames="created_by" baseTableName="purchase_order" constraintName="fk_purchase_order_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1318327245037-1">
        <addColumn tableName="product">
            <column name="create_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318327245037-2">
        <addColumn tableName="sku_group">
            <column name="mfg_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318327245037-3">
        <addColumn tableName="supplier">
            <column name="pincode" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318327245037-4">
        <createIndex indexName="tin_number_UNIQUE" tableName="supplier" unique="true">
            <column name="tin_number"/>
        </createIndex>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1318404447961-2">
        <dropNotNullConstraint columnDataType="DATETIME" columnName="invoice_date" tableName="sku_group"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318404447961-3">
        <dropNotNullConstraint columnDataType="VARCHAR(45)" columnName="invoice_number" tableName="sku_group"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1318502491718-1">
        <createTable tableName="category_has_combo">
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="combo_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-2">
        <createTable tableName="combo">
            <column name="id" type="VARCHAR(20)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="tag_line" type="VARCHAR(100)"/>
            <column name="overview" type="TEXT"/>
            <column name="description" type="TEXT"/>
            <column name="marked_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="discount_percentage" type="DECIMAL(7,4)">
                <constraints nullable="false"/>
            </column>
            <column name="hk_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_base_qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_base_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_add_qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_add_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="deleted" type="TINYINT"/>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-3">
        <createTable tableName="combo_has_product">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="combo_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="product_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="1" name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-4">
        <createTable tableName="combo_instance">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="combo_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-5">
        <createTable tableName="combo_instance_has_product_variant">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="combo_instance_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="1" name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-6">
        <createTable tableName="combo_product_allowed_variant">
            <column name="combo_has_product_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-7">
        <addColumn tableName="line_item">
            <column name="combo_instance_id" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1318502491718-9">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="category_has_combo" constraintName="fk_combo_has_category_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-10">
        <addForeignKeyConstraint baseColumnNames="combo_id" baseTableName="category_has_combo" constraintName="fk_combo_has_category_combo1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-11">
        <addForeignKeyConstraint baseColumnNames="combo_id" baseTableName="combo_has_product" constraintName="fk_combo_has_product_combo1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-12">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="combo_has_product" constraintName="fk_combo_has_product_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-13">
        <addForeignKeyConstraint baseColumnNames="combo_id" baseTableName="combo_instance" constraintName="fk_combo_instance_combo1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-14">
        <addForeignKeyConstraint baseColumnNames="combo_instance_id" baseTableName="combo_instance_has_product_variant" constraintName="fk_product_variant_of_combo_instance_combo_instance1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo_instance" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-15">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="combo_instance_has_product_variant" constraintName="fk_product_variant_of_combo_instance_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-16">
        <addForeignKeyConstraint baseColumnNames="combo_has_product_id" baseTableName="combo_product_allowed_variant" constraintName="fk_combo_has_product_has_product_variant_combo_has_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo_has_product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-17">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="combo_product_allowed_variant" constraintName="fk_combo_has_product_has_product_variant_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318502491718-18">
        <addForeignKeyConstraint baseColumnNames="combo_instance_id" baseTableName="line_item" constraintName="fk_line_item_combo_instance1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo_instance" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1318834648652-1">
        <createTable tableName="combo_image">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="url" type="VARCHAR(256)">
                <constraints nullable="false"/>
            </column>
            <column name="alt_text" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="height" type="INT"/>
            <column name="width" type="INT"/>
            <column name="checksum" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="hidden" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="uploaded" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318834648652-2">
        <addColumn tableName="combo">
            <column name="main_image_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1318834648652-3">
        <addForeignKeyConstraint baseColumnNames="main_image_id" baseTableName="combo" constraintName="fk_combo_combo_image1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo_image" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="kani (generated)" id="1319115034322-2">
        <addColumn tableName="fbcoupon_user">
            <column name="access_token" type="VARCHAR(256)"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1319115034322-3">
        <addColumn tableName="fbcoupon_user">
            <column name="app_id" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1319115034322-4">
        <addColumn tableName="fbcoupon_user">
            <column name="associated_user_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1319115034322-5">
        <addColumn tableName="fbcoupon_user">
            <column name="expires_seconds" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1319115034322-6">
        <addColumn tableName="fbcoupon_user">
            <column name="scope" type="VARCHAR(200)"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1319115034322-7">
        <addColumn tableName="fbcoupon_user">
            <column name="token_create_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1319115034322-8">
        <createIndex indexName="uq_fbcoupon_user_fbuid_app_id" tableName="fbcoupon_user" unique="true">
            <column name="fbuid"/>
            <column name="app_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="kani (generated)" id="1319115034322-10">
        <addForeignKeyConstraint baseColumnNames="associated_user_id" baseTableName="fbcoupon_user" constraintName="fk_fbcoupon_user_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="kani (generated)" id="1319117520114-1">
        <addColumn tableName="product_variant">
            <column name="cut_off_inventory" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="kani (generated)" id="1319149208664-1">
        <modifyDataType columnName="fbuid" newDataType="VARCHAR(30)" tableName="fbcoupon_user"/>
    </changeSet>

    <changeSet author="kani (generated)" id="1319149265031-1">
        <addNotNullConstraint columnDataType="VARCHAR(30)" columnName="fbuid" tableName="fbcoupon_user"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1319190488270-1">
        <createTable tableName="low_inventory">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="entry_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="alert_email_sent" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1319190488270-10">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="low_inventory" constraintName="fk_low_inventory_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="kani (generated)" id="1319281888043-1">
        <addColumn tableName="fbcoupon_user">
            <column name="dob" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1319281888043-2">
        <addColumn tableName="fbcoupon_user">
            <column name="gender" type="VARCHAR(10)"/>
        </addColumn>
    </changeSet>

    <changeSet author="USER (generated)" id="1319440327372-1">
        <addColumn tableName="product_variant">
            <column name="main_product_image_id" type="INT"/>
        </addColumn>
    </changeSet>
  <changeSet author="ajeet (generated)" id="1319702297197-1">
      <addColumn tableName="coupon">
          <column name="repetitive_usage" type="TINYINT"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1319702297197-2">
      <addColumn tableName="product">
          <column name="primary_category" type="VARCHAR(80)"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1319702297197-13">
      <addForeignKeyConstraint baseColumnNames="primary_category" baseTableName="product" constraintName="fk_product_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
  </changeSet>

  <changeSet author="ajeet" id="20111027-01">
    <sql>
      update coupon set repetitive_usage = false;
    </sql>
  </changeSet>

  <changeSet author="ajeet (generated)" id="1319707369862-1">
      <addNotNullConstraint columnDataType="TINYINT" columnName="repetitive_usage" tableName="coupon"/>
  </changeSet>

    <changeSet author="USER (generated)" id="1319535258887-2">
        <createTable tableName="manufacturer_has_address">
            <column name="manufacturer_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="address_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-3">
        <createTable tableName="map_india">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="city" type="VARCHAR(90)"/>
            <column name="state" type="VARCHAR(90)"/>
            <column name="lattitude" type="DECIMAL(9,6)"/>
            <column name="longitude" type="DECIMAL(9,6)"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-4">
        <createTable tableName="product_variant_payment_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-5">
        <createTable tableName="product_variant_service_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-6">
        <addColumn tableName="product">
            <column defaultValue="0" name="is_service" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-7">
        <addColumn tableName="product_variant">
            <column name="payment_type_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-8">
        <addColumn tableName="product_variant">
            <column name="product_variant_service_type_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-9">
        <dropNotNullConstraint columnDataType="INT" columnName="user_id" tableName="address"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-10">
        <addPrimaryKey columnNames="manufacturer_id, address_id" tableName="manufacturer_has_address"/>
    </changeSet>

    <changeSet author="USER (generated)" id="1319535258887-13">
        <addForeignKeyConstraint baseColumnNames="address_id" baseTableName="manufacturer_has_address" constraintName="fk_manufacturer_has_address_address1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="address" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-14">
        <addForeignKeyConstraint baseColumnNames="manufacturer_id" baseTableName="manufacturer_has_address" constraintName="fk_manufacturer_has_address_manufacturer1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="manufacturer" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-15">
        <addForeignKeyConstraint baseColumnNames="payment_type_id" baseTableName="product_variant" constraintName="fk_product_variant_product_variant_payment_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant_payment_type" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1319535258887-16">
        <addForeignKeyConstraint baseColumnNames="product_variant_service_type_id" baseTableName="product_variant" constraintName="fk_product_variant_product_variant_service_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant_service_type" referencesUniqueColumn="false"/>
    </changeSet>
  <changeSet author="ajeet (generated)" id="1320039307783-1">
      <addColumn tableName="product_variant_inventory">
          <column name="order_id" type="INT"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320039307783-2">
      <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320827431977-1">
      <addColumn tableName="po_line_item">
          <column name="mrp" type="DECIMAL(8,2)"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320827431977-2">
      <addColumn tableName="purchase_order">
          <column name="invoice_date" type="DATETIME"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320827431977-3">
      <addColumn tableName="purchase_order">
          <column name="invoice_number" type="VARCHAR(45)"/>
      </addColumn>
  </changeSet>

  <changeSet author="ajeet (generated)" id="1320933726703-1">
      <createTable tableName="aqua_accounting_invoice_number">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320933726703-2">
      <createTable tableName="reward_point_mode">
          <column name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="name" type="VARCHAR(45)"/>
      </createTable>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320933726703-3">
      <addColumn tableName="base_order">
          <column name="aqua_accounting_invoice_number_id" type="INT"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320933726703-6">
      <addForeignKeyConstraint baseColumnNames="aqua_accounting_invoice_number_id" baseTableName="base_order" constraintName="fk_base_order_aqua_accounting_invoice_number1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="aqua_accounting_invoice_number" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320951893087-1">
      <addColumn tableName="reward_point">
          <column name="reward_point_mode_id" type="INT"/>
      </addColumn>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320951893087-2">
      <addForeignKeyConstraint baseColumnNames="reward_point_mode_id" baseTableName="reward_point" constraintName="fk_reward_point_reward_point_mode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="reward_point_mode" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1320951893087-3">
      <dropColumn columnName="tax" tableName="po_line_item"/>
  </changeSet>
  <changeSet author="USER (generated)" id="1320664670530-1">
        <createTable tableName="locality_map">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="address_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="lattitude" type="DECIMAL(9,6)"/>
            <column name="longitude" type="DECIMAL(9,6)"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1320664670530-2">
        <createTable tableName="product_group_not_has_category">
            <column name="product_group_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1320664670530-4">
        <addPrimaryKey columnNames="product_group_id, category_name" tableName="product_group_not_has_category"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1320664670530-8">
        <addForeignKeyConstraint baseColumnNames="address_id" baseTableName="locality_map" constraintName="fk_locality_map_address1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="address" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1320664670530-9">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="product_group_not_has_category" constraintName="fk_product_group_has_category1_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1320664670530-10">
        <addForeignKeyConstraint baseColumnNames="product_group_id" baseTableName="product_group_not_has_category" constraintName="fk_product_group_has_category1_product_group1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_group" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1320908799766-1">
        <addColumn tableName="map_india">
            <column defaultValue="0" name="target_city" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1320993023588-1">
        <addColumn tableName="product_variant">
            <column name="postpaid_amount" type="DOUBLE"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1320993023588-3">
        <modifyDataType columnName="description" newDataType="LONGTEXT" tableName="product"/>
    </changeSet>
    <changeSet author="USER (generated)" id="20111115-01">
      <sql>update product set is_service = false;</sql>
    </changeSet>
    <changeSet author="USER (generated)" id="20111115-02">
      <sql>update map_india set target_city = false;</sql>
    </changeSet>
    <changeSet author="Pratham (generated)" id="20111115-04">
      <sql>update product_variant set postpaid_amount = 0.0;</sql>
    </changeSet>

  <changeSet author="ajeet (generated)" id="1321249399157-1">
      <createTable tableName="accounting_invoice">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="order_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="invoice_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="invoice_date" type="DATETIME">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1321249399157-2">
      <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="accounting_invoice" constraintName="fk_table1_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
  </changeSet>

  <changeSet author="ajeet (generated)" id="1321253999631-1">
      <createTable tableName="invoice_line_item">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="accounting_invoice_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="line_item_id" type="INT">
    <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>

    <changeSet author="ajeet (generated)" id="1321600992879-1">
        <addColumn tableName="product">
            <column defaultValue="0" name="is_google_ad_disallowed" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1321614488858-1">
        <createTable tableName="campaign_tracking">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="utm_source" type="VARCHAR(120)"/>
            <column name="utm_medium" type="VARCHAR(120)"/>
            <column name="utm_campaign" type="VARCHAR(120)"/>
            <column name="referral_url" type="VARCHAR(450)"/>
            <column name="target_url" type="VARCHAR(450)"/>
            <column name="time_stamp" type="DATETIME"/>
            <column name="params_string" type="VARCHAR(120)"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1321865852086-2">
        <addColumn tableName="manufacturer">
            <column name="email" type="VARCHAR(90)"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1321865852086-3">
        <addColumn tableName="manufacturer">
            <column name="main_address_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1321865852086-6">
        <modifyDataType columnName="name" newDataType="VARCHAR(250)" tableName="product_option"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1321865852086-7">
        <modifyDataType columnName="value" newDataType="VARCHAR(500)" tableName="product_option"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1321865550959-1">
        <addColumn tableName="accounting_invoice">
            <column name="retail_invoice_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1321865550959-2">
        <addColumn tableName="accounting_invoice">
            <column name="service_invoice_id" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1321865550959-3">
        <dropForeignKeyConstraint baseTableName="base_order" constraintName="fk_base_order_aqua_accounting_invoice_number1"/>
    </changeSet>

  <changeSet author="ajeet (generated)" id="1321865550959-4">
        <dropColumn columnName="aqua_accounting_invoice_number_id" tableName="base_order"/>
    </changeSet>

  <changeSet author="ajeet (generated)" id="1321865550959-5">
        <sql>update accounting_invoice set retail_invoice_id=invoice_id</sql>
  </changeSet>

  <changeSet author="ajeet (generated)" id="1321865550959-6">
      <dropColumn columnName="invoice_id" tableName="accounting_invoice"/>
  </changeSet>
  <changeSet author="ajeet (generated)" id="1321875338567-1">
      <dropTable tableName="aqua_accounting_invoice_number"/>
  </changeSet>
  <changeSet author="USER (generated)" id="1321946593782-2">
        <addColumn tableName="manufacturer">
            <column defaultValue="0" name="is_available_all_over_india" type="TINYINT"/>
        </addColumn>
  </changeSet>
  <changeSet author="USER (generated)" id="1321946593782-5">
        <modifyDataType columnName="referral_url" newDataType="VARCHAR(1000)" tableName="campaign_tracking"/>
  </changeSet>

    <changeSet author="rahul (generated)" id="1322032121242-1">
        <createTable tableName="notify_me">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="phone" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="rahul (generated)" id="1322032121242-2">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="notify_me" constraintName="fk_notify_me_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="rahul (generated)" id="1322462106501-1">
        <addColumn tableName="product_variant">
            <column name="created_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
  <changeSet author="rahul (generated)" id="1322462106501-2">
    <sql>update product_variant set created_date = '2011-11-26 00:00:00'</sql>
  </changeSet>

    <changeSet author="rahul (generated)" id="1322509144609-1">
        <addColumn tableName="notify_me">
            <column name="notified_by_user_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="rahul (generated)" id="1322509144609-2">
        <addColumn tableName="notify_me">
            <column name="notified_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="rahul (generated)" id="1322509144609-4">
        <addForeignKeyConstraint baseColumnNames="accounting_invoice_id" baseTableName="invoice_line_item" constraintName="fk_table1_accounting_invoice1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="accounting_invoice" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="rahul (generated)" id="1322509144609-5">
        <addForeignKeyConstraint baseColumnNames="line_item_id" baseTableName="invoice_line_item" constraintName="fk_table1_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="line_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="rahul (generated)" id="1322509144609-6">
        <addForeignKeyConstraint baseColumnNames="notified_by_user_id" baseTableName="notify_me" constraintName="fk_notify_me_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1322647809624-1">
        <createTable tableName="product_count">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="counter" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1322647809624-3">
        <modifyDataType columnName="referral_url" newDataType="TEXT" tableName="campaign_tracking"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1322647809624-4">
        <addNotNullConstraint columnDataType="VARCHAR(250)" columnName="name" tableName="product_option"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1322647809624-5">
        <addNotNullConstraint columnDataType="VARCHAR(500)" columnName="value" tableName="product_option"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1322647809624-7">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_count" constraintName="fk_product_count_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1322738252183-2">
        <addColumn tableName="purchase_order">
            <column name="payable" type="DECIMAL(8,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1322738252183-3">
        <addColumn tableName="purchase_order">
            <column name="payment_details" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1322738252183-4">
        <addColumn tableName="purchase_order">
            <column name="reconciled" type="TINYINT"/>
        </addColumn>
    </changeSet>

    <changeSet author="rahul (generated)" id="1322934570125-2">
        <modifyDataType columnName="payable" newDataType="DECIMAL(12,2)" tableName="purchase_order"/>
    </changeSet>

  <changeSet author="USER (generated)" id="1323339872645-2">
        <createTable tableName="user_cart">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="is_bought" type="TINYINT"/>
            <column name="create_date" type="DATETIME"/>
            <column name="last_date" type="DATETIME"/>
            <column name="counter" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1323339872645-3">
        <addColumn tableName="offer_action">
            <column name="is_cashback" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1323339872645-4">
        <addColumn tableName="offer_action">
            <column name="reward_point_cashback_limit" type="DECIMAL(8,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1323339872645-5">
        <addColumn tableName="offer_action">
            <column name="reward_point_discount_percent" type="DECIMAL(6,4)"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1323339872645-8">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="user_cart" constraintName="fk_user_cart_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1323339872645-9">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_cart" constraintName="fk_user_cart_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>


    <changeSet author="ajeet (generated)" id="1323414752303-1">
        <createTable tableName="product_variant_damage_inventory">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="sku_item_id" type="INT"/>
            <column name="order_id" type="INT"/>
            <column name="line_item_id" type="INT"/>
            <column name="txn_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323414752303-2">
        <addForeignKeyConstraint baseColumnNames="line_item_id" baseTableName="product_variant_damage_inventory" constraintName="fk_variant_inventory_line_item10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="line_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323414752303-3">
        <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="product_variant_damage_inventory" constraintName="fk_product_variant_inventory_base_order10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323414752303-4">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="product_variant_damage_inventory" constraintName="fk_variant_inventory_product_variant10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323414752303-5">
        <addForeignKeyConstraint baseColumnNames="sku_item_id" baseTableName="product_variant_damage_inventory" constraintName="fk_product_variant_inventory_sku_item10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku_item" referencesUniqueColumn="false"/>
    </changeSet>

   <changeSet author="USER (generated)" id="1323759341786-1">
        <addColumn tableName="campaign_tracking">
            <column name="user_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1323759341786-8">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="campaign_tracking" constraintName="fk_campaign_tracking_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1323771915300-1">
        <createTable tableName="user_product_history">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME"/>
            <column name="last_date" type="DATETIME"/>
            <column name="counter" type="INT"/>
            <column name="is_bought" type="TINYINT"/>
        </createTable>
    </changeSet>

    <changeSet author="USER (generated)" id="1323771915300-9">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="user_product_history" constraintName="fk_user_product_history_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1323771915300-10">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_product_history" constraintName="fk_user_product_history_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="USER (generated)" id="1323776259036-1">
        <addColumn tableName="coupon">
            <column name="complimentary_coupon" type="VARCHAR(20)"/>
        </addColumn>
    </changeSet>
    <changeSet author="USER (generated)" id="1323776259036-3">
        <addColumn tableName="offer">
            <column name="complimentary_coupon_description" type="TEXT"/>
        </addColumn>
    </changeSet>


   <changeSet author="ajeet (generated)" id="1323857008931-1">
        <createTable tableName="reconciliation_voucher">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="reconciliation_date" type="DATETIME"/>
            <column name="remarks" type="TEXT"/>
            <column name="created_by" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323857008931-2">
        <createTable tableName="rv_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="qty" type="INT"/>
            <column name="cost_price" type="DECIMAL(8,2)"/>
            <column name="mrp" type="DECIMAL(8,2)"/>
            <column name="reconciliation_voucher_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323857008931-3">
        <addColumn tableName="sku_group">
            <column name="reconciliation_voucher_id" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323857008931-4">
        <dropNotNullConstraint columnDataType="INT" columnName="purchase_order_id" tableName="sku_group"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323857008931-5">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="rv_line_item" constraintName="fk_rv_line_item_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323857008931-6">
        <addForeignKeyConstraint baseColumnNames="reconciliation_voucher_id" baseTableName="rv_line_item" constraintName="fk_rv_line_item_reconciliation_voucher1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="reconciliation_voucher" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323857008931-7">
        <addForeignKeyConstraint baseColumnNames="reconciliation_voucher_id" baseTableName="sku_group" constraintName="fk_sku_group_reconciliation_voucher1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="reconciliation_voucher" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323862730602-2">
        <addColumn tableName="rv_line_item">
            <column name="batch_number" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323862730602-3">
        <addColumn tableName="rv_line_item">
            <column name="expiry_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323862730602-4">
        <addColumn tableName="rv_line_item">
            <column name="mfg_date" type="DATETIME"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323936173018-2">
        <createTable tableName="goods_received_note">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="grn_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="grn_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="purchase_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="payable" type="DECIMAL(12,2)"/>
            <column name="payment_details" type="VARCHAR(100)"/>
            <column name="payment_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323936173018-3">
        <createTable tableName="grn_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323936173018-4">
        <createTable tableName="inv_txn_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323936173018-6">
        <addColumn tableName="product_variant_inventory">
            <column name="grn_line_item_id" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323936173018-7">
        <addColumn tableName="product_variant_inventory">
            <column name="inv_txn_type_id" type="INT">
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323936173018-8">
        <addColumn tableName="product_variant_inventory">
            <column name="rv_line_item_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323936173018-9">
        <addColumn tableName="product_variant_inventory">
            <column name="user_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323936173018-10">
        <addColumn tableName="purchase_order">
            <column name="adv_payment" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323936173018-12">
        <addColumn tableName="purchase_order">
            <column name="est_del_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323936173018-13">
        <addColumn tableName="purchase_order">
            <column name="est_payment_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323936173018-14">
        <addColumn tableName="purchase_order">
            <column name="po_place_date" type="DATETIME"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323936173018-29">
        <addForeignKeyConstraint baseColumnNames="grn_status_id" baseTableName="goods_received_note" constraintName="fk_goods_received_note_grn_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="grn_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323936173018-30">
        <addForeignKeyConstraint baseColumnNames="purchase_order_id" baseTableName="goods_received_note" constraintName="fk_goods_received_note_purchase_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_order" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323936173018-38">
        <addForeignKeyConstraint baseColumnNames="inv_txn_type_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_inv_txn_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="inv_txn_type" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323936173018-42">
        <addForeignKeyConstraint baseColumnNames="rv_line_item_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_rv_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="rv_line_item" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323936173018-44">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323938196917-1">
        <addColumn tableName="purchase_order">
            <column name="approved_by" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323938196917-2">
        <addForeignKeyConstraint baseColumnNames="approved_by" baseTableName="purchase_order" constraintName="fk_purchase_order_user2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323939350553-1">
        <createTable tableName="grn_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="mrp" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="goods_received_note_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323939350553-3">
        <addForeignKeyConstraint baseColumnNames="goods_received_note_id" baseTableName="grn_line_item" constraintName="fk_grn_line_item_goods_received_note1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="goods_received_note" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323948816958-1">
        <addColumn tableName="goods_received_note">
            <column name="invoice_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323948816958-2">
        <addColumn tableName="goods_received_note">
            <column name="invoice_number" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

  <changeSet author="ajeet (generated)" id="1322738252183-3">
        <addColumn tableName="goods_received_note">
            <column name="reconciled" type="TINYINT"/>
        </addColumn>
  </changeSet>

  <changeSet author="ajeet (generated)" id="1323954251838-1">
      <addColumn tableName="sku_group">
          <column name="goods_received_note_id" type="INT"/>
      </addColumn>
  </changeSet>

  <changeSet author="ajeet (generated)" id="1323954251838-2">
      <addForeignKeyConstraint baseColumnNames="goods_received_note_id" baseTableName="sku_group" constraintName="fk_sku_group_goods_received_note1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="goods_received_note" referencesUniqueColumn="false"/>
  </changeSet>

    <changeSet author="ajeet (generated)" id="1323963177773-1">
        <addColumn tableName="goods_received_note">
            <column name="received_by" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323963177773-2">
        <addColumn tableName="grn_line_item">
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="ajeet (generated)" id="1323963177773-3">
        <addForeignKeyConstraint baseColumnNames="received_by" baseTableName="goods_received_note" constraintName="fk_goods_received_note_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="ajeet (generated)" id="1323963177773-4">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="grn_line_item" constraintName="fk_grn_line_item_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="rahul (generated)" id="1324456633013-1">
        <createTable tableName="google_banned_word">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="banned_word" type="VARCHAR(100)"/>
        </createTable>
    </changeSet>

    <changeSet author="USER (generated)" id="1324626901470-1">
        <createTable tableName="amazon_feed">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="title" type="VARCHAR(45)"/>
            <column name="amazon_browse_node" type="VARCHAR(45)"/>
            <column name="description" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="USER (generated)" id="1324626901470-17">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="amazon_feed" constraintName="fk_amazon_feed_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1324627237554-2">
        <modifyDataType columnName="description" newDataType="VARCHAR(2000)" tableName="amazon_feed"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1324627237554-3">
        <modifyDataType columnName="title" newDataType="VARCHAR(500)" tableName="amazon_feed"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1325228710008-1">
        <createTable tableName="debit_note">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="goods_received_note_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="debit_note_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="is_debit_to_supplier" type="TINYINT"/>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325228710008-2">
        <createTable tableName="debit_note_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="mrp" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="debit_note_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325228710008-3">
        <createTable tableName="debit_note_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325228710008-4">
        <addColumn tableName="goods_received_note">
            <column name="payment_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1325228710008-6">
        <dropForeignKeyConstraint baseTableName="campaign_tracking" constraintName="fk_campaign_tracking_user1"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1325228710008-8">
        <addForeignKeyConstraint baseColumnNames="debit_note_status_id" baseTableName="debit_note" constraintName="fk_debit_note_debit_note_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="debit_note_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325228710008-9">
        <addForeignKeyConstraint baseColumnNames="goods_received_note_id" baseTableName="debit_note" constraintName="fk_debit_note_goods_received_note1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="goods_received_note" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325228710008-10">
        <addForeignKeyConstraint baseColumnNames="debit_note_id" baseTableName="debit_note_line_item" constraintName="fk_debit_note_line_item_debit_note1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="debit_note" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325228710008-11">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="debit_note_line_item" constraintName="fk_debit_note_line_item_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325228710008-12">
        <addForeignKeyConstraint baseColumnNames="grn_line_item_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_gnr_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="grn_line_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325228710008-13">
        <dropColumn columnName="user_id" tableName="campaign_tracking"/>
    </changeSet>

  <changeSet author="vikas (generated)" id="1325077007205-1">
        <createTable tableName="awb">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="courier_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="awb_number" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="awb_bar_code" type="VARCHAR(25)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="used" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="vikas (generated)" id="1325077007205-3">
        <createTable tableName="pincode">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="pincode" type="INT"/>
            <column name="city" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="state" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="locality" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>

    <changeSet author="vikas (generated)" id="1325077007205-4">
        <createTable tableName="warehouse">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="address" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column name="city" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="state" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="wh_manager" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="wh_phone" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="vikas (generated)" id="1325077007205-5">
        <addColumn tableName="courier_service_info">
            <column name="is_preferred" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325077007205-6">
        <addColumn tableName="courier_service_info">
            <column name="is_preferred_cod" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325077007205-7">
        <addColumn tableName="courier_service_info">
            <column name="pincode_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="vikas (generated)" id="1325077007205-9">
        <createIndex indexName="courier_awb_key" tableName="awb" unique="true">
            <column name="courier_id"/>
            <column name="awb_number"/>
        </createIndex>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325077007205-10">
        <createIndex indexName="pincode_UNIQUE" tableName="pincode" unique="true">
            <column name="pincode"/>
        </createIndex>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325077007205-11">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="awb" constraintName="fk_awb_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325077007205-12">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="awb" constraintName="fk_awb_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="vikas (generated)" id="1325077007205-13">
        <sql>
            insert into pincode(pincode, locality, city, state)
            select pincode, max(locality), max(city), max(state)
            from courier_service_info
            group by pincode;

            update courier_service_info c, pincode p
            set c.pincode_id = p.id
            where c.pincode = p.pincode;
        </sql>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325077007205-14">
        <addForeignKeyConstraint baseColumnNames="pincode_id" baseTableName="courier_service_info" constraintName="fk_courier_service_info_pincode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pincode" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="vikas (generated)" id="1325077007205-17">
        <addForeignKeyConstraint baseColumnNames="wh_manager" baseTableName="warehouse" constraintName="fk_warehouse_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="vikas (generated)" id="1325142120402-2">
        <addColumn tableName="courier_service_info">
            <column name="routing_code" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325155781486-2">
        <createTable tableName="warehouse_has_user">
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325155781486-4">
        <dropForeignKeyConstraint baseTableName="warehouse" constraintName="fk_warehouse_user1"/>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325155781486-5">
        <createIndex indexName="warehouse_user_key" tableName="warehouse_has_user" unique="true">
            <column name="user_id"/>
            <column name="warehouse_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325156430187-6">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="warehouse_has_user" constraintName="fk_warehouse_has_user_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325156430187-7">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="warehouse_has_user" constraintName="fk_warehouse_has_user_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325156430187-8">
        <dropIndex indexName="fk_warehouse_user1" tableName="warehouse"/>
    </changeSet>
    <changeSet author="vikas (generated)" id="1325156430187-11">
        <dropColumn columnName="wh_manager" tableName="warehouse"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1325583944221-1">
        <addColumn tableName="campaign_tracking">
            <column name="user_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325583944221-2">
        <addColumn tableName="grn_line_item">
            <column name="checkedin_qty" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1326129786856-1">
        <createTable tableName="retail_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="line_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="actual_discount_on_hk_price" type="DECIMAL(10,2)"/>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1326129786856-2">
        <addForeignKeyConstraint baseColumnNames="line_item_id" baseTableName="retail_line_item" constraintName="fk_retail_line_item_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="line_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1326129786856-3">
        <createIndex indexName="line_item_UNIQUE" tableName="retail_line_item" unique="true">
            <column name="line_item_id"/>
        </createIndex>
    </changeSet>

  <changeSet author="Vaibhav (generated)" id="1326176675933-1">
        <addColumn tableName="seo_data">
            <column name="description_title" type="VARCHAR(250)"/>
        </addColumn>
    </changeSet>

  <changeSet author="Ajeet (generated)" id="1326184553665-1">
        <addColumn tableName="product">
            <column name="video_embed_code" type="LONGTEXT"/>
        </addColumn>
  </changeSet>

  <changeSet author="Ajeet (generated)" id="1325749690480-1">
        <addColumn tableName="courier_service_info">
            <column name="is_deleted" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325749690480-2">
        <dropColumn columnName="city" tableName="courier_service_info"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325749690480-3">
        <dropColumn columnName="locality" tableName="courier_service_info"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325749690480-4">
        <dropColumn columnName="pincode" tableName="courier_service_info"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325749690480-5">
        <dropColumn columnName="state" tableName="courier_service_info"/>
    </changeSet>
  <changeSet author="Ajeet (generated)" id="1325749690480-6">
    <sql>
      update courier_service_info set is_deleted=0;
    </sql>
  </changeSet>
    <changeSet author="Ajeet (generated)" id="1325754511592-1">
        <createTable tableName="state_courier_service">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="state" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="courier_id" type="INT">
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325754511592-2">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="state_courier_service" constraintName="fk_state_courier_service_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1325756023057-1">
        <modifyDataType columnName="pincode" newDataType="VARCHAR(8)" tableName="pincode"/>
    </changeSet>
  <!--
  commenting this changeset as it is confilicting with changeset 1338816774783-12 when creating db from scratch
  <changeSet author="Ajeet (generated)" id="1325756023057-2">
    <sql>
      insert into state_courier_service(state) values('ANDAMAN AND NICOBAR ISLAND');
      insert into state_courier_service(state) values('ANDHRA PRADESH');
      insert into state_courier_service(state) values('ARUNACHAL PRADESH');
      insert into state_courier_service(state) values('ASSAM');
      insert into state_courier_service(state) values('BIHAR');
      insert into state_courier_service(state) values('CHANDIGARH');
      insert into state_courier_service(state) values('CHHATISGARH');
      insert into state_courier_service(state) values('DADRA AND NAGAR HAVELI');
      insert into state_courier_service(state) values('DAMAN AND DIU');
      insert into state_courier_service(state) values('DELHI');
      insert into state_courier_service(state) values('GOA');
      insert into state_courier_service(state) values('GUJARAT');
      insert into state_courier_service(state) values('HARYANA');
      insert into state_courier_service(state) values('HIMACHAL PRADESH');
      insert into state_courier_service(state) values('JAMMU AND KASHMIR');
      insert into state_courier_service(state) values('JHARKHAND');
      insert into state_courier_service(state) values('KARNATAKA');
      insert into state_courier_service(state) values('KERALA');
      insert into state_courier_service(state) values('LAKSHADWEEP');
      insert into state_courier_service(state) values('MADHYA PRADESH');
      insert into state_courier_service(state) values('MAHARASHTRA');
      insert into state_courier_service(state) values('MANIPUR');
      insert into state_courier_service(state) values('MEGHALAYA');
      insert into state_courier_service(state) values('MIZORAM');
      insert into state_courier_service(state) values('NAGALAND');
      insert into state_courier_service(state) values('ORRISA');
      insert into state_courier_service(state) values('PUDUCHERRY');
      insert into state_courier_service(state) values('PUNJAB');
      insert into state_courier_service(state) values('RAJASTHAN');
      insert into state_courier_service(state) values('SIKKIM');
      insert into state_courier_service(state) values('TAMIL NADU');
      insert into state_courier_service(state) values('TRIPURA');
      insert into state_courier_service(state) values('UTTAR PRADESH');
      insert into state_courier_service(state) values('UTTARAKHAND');
      insert into state_courier_service(state) values('WEST BENGAL');
    </sql>
  </changeSet>-->

  <changeSet author="Ajeet (generated)" id="1326471094500-1">
      <createIndex indexName="po_pv_key" tableName="po_line_item" unique="true">
          <column name="purchase_order_id"/>
          <column name="product_variant_id"/>
      </createIndex>
  </changeSet>

  <changeSet author="Rahul (generated)" id="1326569681430-1">
    <addColumn tableName="retail_line_item">
      <column name="cod_charge" type="DECIMAL(10,2)"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rahul (generated)" id="1326569681430-2">
    <addColumn tableName="retail_line_item">
      <column name="shipping_charge" type="DECIMAL(10,2)"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rahul (generated)" id="1326629578279-1">
    <addColumn tableName="retail_line_item">
      <column name="collection_charged_by_courier" type="DECIMAL(10,2)"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rahul (generated)" id="1326629578279-2">
    <addColumn tableName="retail_line_item">
      <column name="shipping_charged_by_courier" type="DECIMAL(10,2)"/>
    </addColumn>
  </changeSet>

  <changeSet author="Ajeet (generated)" id="1326793577242-2">
      <addColumn tableName="accounting_invoice">
          <column name="b2b_invoice_id" type="VARCHAR(45)"/>
      </addColumn>
  </changeSet>
  <changeSet author="Ajeet (generated)" id="1326793577242-3">
      <addColumn tableName="product_variant">
          <column name="b2b_price" type="DECIMAL(10,2)"/>
      </addColumn>
  </changeSet>

  <changeSet author="Ajeet (generated)" id="1326885204757-1">
      <addColumn tableName="base_order">
          <column name="is_b2b_order" type="TINYINT"/>
      </addColumn>
  </changeSet>
    <changeSet author="PRATHAM (generated)" id="1326966110028-1">
        <addNotNullConstraint columnDataType="VARCHAR(45)" columnName="aisle" tableName="bin"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1326966110028-2">
        <modifyDataType columnName="rack" newDataType="VARCHAR(45)" tableName="bin"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1326966110028-3">
        <modifyDataType columnName="shelf" newDataType="VARCHAR(45)" tableName="bin"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1326966110028-4">
        <dropNotNullConstraint columnDataType="VARCHAR(45)" columnName="shelf" tableName="bin"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327039135101-1">
        <createTable tableName="doom_day">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="upc_variant_id" type="VARCHAR(45)"/>
            <column name="time_stamp" type="DATETIME"/>
            <column name="qty" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327124721253-1">
        <addColumn tableName="bin">
            <column name="bin" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327480917684-1">
        <createTable tableName="preferred_bank_gateway">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="bank_name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="tpsl_bank_code" type="VARCHAR(45)"/>
            <column name="citrus_bank_code" type="VARCHAR(45)"/>
            <column name="preferred_gateway_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327480917684-3">
        <addColumn tableName="product">
            <column defaultValue="1" name="searchable" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327480917684-5">
        <addNotNullConstraint columnDataType="VARCHAR(45)" columnName="brand" tableName="product"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327480917684-6">
        <addNotNullConstraint columnDataType="VARCHAR(80)" columnName="primary_category" tableName="product"/>
    </changeSet>
  <changeSet author="Pratham (generated)" id="1327480917684-11">
    <sql>
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Allahabad Bank","280",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Axis Bank","50","ISS002",null);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Bank of Bahrain and Kuwait","340",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Bank of Baroda","310",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Bank of India","240",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Bank of Rajasthan","170",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Corporation Bank","120",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Deutsche Bank","330","ISS006",null);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Dhanlaxmi Bank","370",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Federal Bank","270",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("HDFC Bank","300","ISS003",null);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("ICICI Bank","10","ISS001",null);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("IDBI Bank","520",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Indian Overseas NetBanking","420",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Karnataka Bank","140",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Oriental Bank Of Commerce","160",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("South Indian Bank","180",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Standard Chartered Bank","450",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("State Bank of India",null,"ISS008",60);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Union Bank of India","190","ISS007",null);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Vijaya Bank","200",null,15);
      insert into preferred_bank_gateway(bank_name,tpsl_bank_code,citrus_bank_code,preferred_gateway_id) values ("Yes Bank","130","ISS004",null);
    </sql>
  </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327651614314-1">
        <addColumn tableName="product">
            <column defaultValue="0" name="is_jit" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327663168387-1">
        <addColumn tableName="payment">
            <column name="bank_code" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
  <changeSet author="PRATHAM (generated)" id="1327671351010-8">
      <dropColumn columnName="searchable" tableName="product"/>
  </changeSet>
    <changeSet author="PRATHAM (generated)" id="1327671351010-1">
        <addColumn tableName="product">
            <column defaultValue="0" name="hidden" type="TINYINT"/>
        </addColumn>
  </changeSet>
  <changeSet author="meenal (generated)" id="1326892461919-1">
        <createTable tableName="category_has_heading">
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="heading_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="meenal (generated)" id="1326892461919-2">
        <createTable tableName="category_image">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="category" type="VARCHAR(100)"/>
            <column name="url" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="alt_text" type="VARCHAR(45)"/>
            <column name="height" type="INT"/>
            <column name="width" type="INT"/>
            <column name="hidden" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="checksum" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="uploaded" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="ranking" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="meenal (generated)" id="1326892461919-3">
        <createTable tableName="heading">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="display_name" type="VARCHAR(100)"/>
            <column name="link" type="VARCHAR(100)"/>
        </createTable>
    </changeSet>
    <changeSet author="meenal (generated)" id="1326892461919-4">
        <createTable tableName="heading_has_product">
            <column name="heading_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="meenal (generated)" id="1326892461919-5">
        <addPrimaryKey columnNames="category_name, heading_id" tableName="category_has_heading"/>
    </changeSet>
    <changeSet author="meenal (generated)" id="1326892461919-6">
        <addPrimaryKey columnNames="heading_id, product_id" tableName="heading_has_product"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-1">
        <createTable tableName="item_detail">
            <column name="item_code" type="VARCHAR(12)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="item_name" type="VARCHAR(40)"/>
            <column name="alias" type="VARCHAR(40)"/>
            <column name="print_name" type="VARCHAR(40)"/>
            <column name="parent_group" type="VARCHAR(40)"/>
            <column name="unit" type="VARCHAR(40)"/>
            <column name="opening_stock" type="DECIMAL(10,2)"/>
            <column name="opening_stock_value" type="DECIMAL(10,2)"/>
            <column name="sale_price" type="DECIMAL(10,2)"/>
            <column name="purchase_price" type="DECIMAL(10,2)"/>
            <column name="mrp" type="DECIMAL(10,2)"/>
            <column name="self_value_price" type="DECIMAL(10,2)"/>
            <column name="sale_discount" type="DECIMAL(10,2)"/>
            <column name="purchase_discount" type="DECIMAL(10,2)"/>
            <column name="min_sale_price" type="DECIMAL(10,2)"/>
            <column name="tax_rate_local" type="DECIMAL(10,2)"/>
            <column name="tax_rate_central" type="DECIMAL(10,2)"/>
            <column name="tax_on_mrp" type="TINYINT"/>
            <column name="item_description_1" type="VARCHAR(40)"/>
            <column name="item_description_2" type="VARCHAR(40)"/>
            <column name="item_description_3" type="VARCHAR(40)"/>
            <column name="item_description_4" type="VARCHAR(40)"/>
            <column name="imported" type="TINYINT"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-2">
        <createTable tableName="transaction_body">
            <column name="vch_code" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="s_no" type="INT"/>
            <column name="item_code" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column name="qty" type="INT"/>
            <column name="unit" type="VARCHAR(40)"/>
            <column name="mrp" type="DECIMAL(10,2)"/>
            <column name="rate" type="DECIMAL(10,2)"/>
            <column name="discount" type="DECIMAL(10,2)"/>
            <column name="vat" type="DECIMAL(10,2)"/>
            <column name="amount" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-3">
        <createTable tableName="transaction_footer">
            <column name="vch_code" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="s_no" type="INT"/>
            <column name="type" type="TINYINT"/>
            <column name="bill_sundry_name" type="VARCHAR(40)"/>
            <column name="percent" type="INT"/>
            <column name="amount" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-4">
        <createTable tableName="transaction_header">
            <column autoIncrement="true" name="vch_code" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="series" type="VARCHAR(20)"/>
            <column name="date" type="DATETIME"/>
            <column name="vch_no" type="VARCHAR(25)"/>
            <column name="vch_type" type="INT"/>
            <column name="sale_type" type="VARCHAR(40)"/>
            <column name="account_name" type="VARCHAR(40)"/>
            <column name="address_1" type="VARCHAR(40)"/>
            <column name="address_2" type="VARCHAR(40)"/>
            <column name="address_3" type="VARCHAR(40)"/>
            <column name="address_4" type="VARCHAR(40)"/>
            <column name="tin_number" type="VARCHAR(30)"/>
            <column name="material_centre" type="VARCHAR(40)"/>
            <column name="narration" type="VARCHAR(90)"/>
            <column name="out_of_state" type="TINYINT"/>
            <column name="against_form" type="VARCHAR(30)"/>
            <column name="net_amount" type="DECIMAL(10,2)"/>
            <column name="imported" type="TINYINT"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-11">
        <createIndex indexName="transaction_header_vch_s_no_unique" tableName="transaction_body" unique="true">
            <column name="s_no"/>
            <column name="vch_code"/>
        </createIndex>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-12">
        <createIndex indexName="transaction_header_vch_code_s_no_unique" tableName="transaction_footer" unique="true">
            <column name="vch_code"/>
            <column name="s_no"/>
        </createIndex>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-14">
        <addForeignKeyConstraint baseColumnNames="item_code" baseTableName="item_detail" constraintName="fk_item_detail_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-15">
        <addForeignKeyConstraint baseColumnNames="item_code" baseTableName="transaction_body" constraintName="fk_transaction_2_item_detail1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="item_code" referencedTableName="item_detail" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-16">
        <addForeignKeyConstraint baseColumnNames="vch_code" baseTableName="transaction_body" constraintName="fk_transaction_body_transaction_header1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="vch_code" referencedTableName="transaction_header" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327736985698-17">
        <addForeignKeyConstraint baseColumnNames="vch_code" baseTableName="transaction_footer" constraintName="fk_transaction_footer_transaction_header1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="vch_code" referencedTableName="transaction_header" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1327741669957-7">
        <addNotNullConstraint columnDataType="INT" columnName="s_no" tableName="transaction_body"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327741669957-8">
        <addNotNullConstraint columnDataType="INT" columnName="s_no" tableName="transaction_footer"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327779675328-7">
        <addNotNullConstraint columnDataType="DECIMAL(10,2)" columnName="amount" tableName="transaction_body"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327779675328-8">
        <addNotNullConstraint columnDataType="INT" columnName="qty" tableName="transaction_body"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327779675328-9">
        <addNotNullConstraint columnDataType="DECIMAL(10,2)" columnName="rate" tableName="transaction_body"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1327813121566-1">
        <addColumn tableName="item_detail">
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327813121566-2">
        <addColumn tableName="transaction_body">
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327813121566-3">
        <addColumn tableName="transaction_footer">
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327813121566-4">
        <addColumn tableName="transaction_header">
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1327814261461-7">
        <addNotNullConstraint columnDataType="DATETIME" columnName="created_date" tableName="product_variant"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1328098059534-1">
        <createTable tableName="additional_power">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="additional_power" type="DECIMAL(10,2)"/>
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-2">
        <createTable tableName="cylindrical_power">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="cylindrical_power" type="DECIMAL(10,2)"/>
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-3">
        <createTable tableName="eye_axis">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="axis" type="INT"/>
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-4">
        <createTable tableName="eye_configuration">
            <column name="product_variant_configuration_id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="left_eye_power_id" type="INT"/>
            <column name="right_eye_power_id" type="INT"/>
            <column name="left_cylindrical_power_id" type="INT"/>
            <column name="right_cylindrical_power_id" type="INT"/>
            <column name="left_eye_axis_id" type="INT"/>
            <column name="right_eye_axis_id" type="INT"/>
            <column name="left_additional_power_id" type="INT"/>
            <column name="right_additional_power_id" type="INT"/>
            <column name="left_pupillary_distance_id" type="INT"/>
            <column name="right_pupillary_distance_id" type="INT"/>
            <column name="left_glass_thickness_id" type="INT"/>
            <column name="right_glass_thickness_id" type="INT"/>
            <column name="left_glass_coating_id" type="INT"/>
            <column name="right_glass_coating_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-5">
        <createTable tableName="eye_power">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="eye_power" type="DECIMAL(10,2)"/>
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-6">
        <createTable tableName="frame_type">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="frame_name" type="VARCHAR(45)"/>
            <column name="frame_price" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-7">
        <createTable tableName="glass_coating">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="glass_coating" type="VARCHAR(45)"/>
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-8">
        <createTable tableName="glass_thickness">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="glass_thickness" type="VARCHAR(45)"/>
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-9">
        <createTable tableName="product_variant_configuration">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="configuration_name" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-10">
        <createTable tableName="pupillary_distance">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="pupillary_distance" type="INT"/>
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-11">
        <addColumn tableName="line_item">
            <column name="product_variant_configuration_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-22">
        <addForeignKeyConstraint baseColumnNames="left_additional_power_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_additional_power1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="additional_power" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-23">
        <addForeignKeyConstraint baseColumnNames="left_cylindrical_power_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_cylindrical_power1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cylindrical_power" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-24">
        <addForeignKeyConstraint baseColumnNames="left_eye_axis_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_eye_axis1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="eye_axis" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-25">
        <addForeignKeyConstraint baseColumnNames="left_eye_power_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_eye_power1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="eye_power" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-26">
        <addForeignKeyConstraint baseColumnNames="left_glass_coating_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_glass_coating1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="glass_coating" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-27">
        <addForeignKeyConstraint baseColumnNames="left_glass_thickness_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_glass_thickness1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="glass_thickness" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-28">
        <addForeignKeyConstraint baseColumnNames="left_pupillary_distance_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_pupillary_distance1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pupillary_distance" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-29">
        <addForeignKeyConstraint baseColumnNames="product_variant_configuration_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_product_variant_configuration1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant_configuration" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-30">
        <addForeignKeyConstraint baseColumnNames="right_additional_power_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_additional_power2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="additional_power" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-31">
        <addForeignKeyConstraint baseColumnNames="right_cylindrical_power_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_cylindrical_power2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cylindrical_power" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-32">
        <addForeignKeyConstraint baseColumnNames="right_eye_axis_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_eye_axis2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="eye_axis" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-33">
        <addForeignKeyConstraint baseColumnNames="right_eye_power_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_eye_power2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="eye_power" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-34">
        <addForeignKeyConstraint baseColumnNames="right_glass_coating_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_glass_coating2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="glass_coating" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-35">
        <addForeignKeyConstraint baseColumnNames="right_glass_thickness_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_glass_thickness2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="glass_thickness" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-36">
        <addForeignKeyConstraint baseColumnNames="right_pupillary_distance_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_pupillary_distance2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pupillary_distance" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328098059534-39">
        <addForeignKeyConstraint baseColumnNames="product_variant_configuration_id" baseTableName="line_item" constraintName="fk_line_item_product_variant_configuration1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant_configuration" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="PRATHAM (generated)" id="1328107453156-9">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="category_has_heading" constraintName="fk_category_has_heading_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1328107453156-10">
        <addForeignKeyConstraint baseColumnNames="heading_id" baseTableName="category_has_heading" constraintName="fk_category_has_heading_heading1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="heading" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1328107453156-11">
        <addForeignKeyConstraint baseColumnNames="category" baseTableName="category_image" constraintName="fk_table1_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1328107453156-12">
        <addForeignKeyConstraint baseColumnNames="heading_id" baseTableName="heading_has_product" constraintName="fk_heading_has_product_heading1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="heading" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1328107453156-13">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="heading_has_product" constraintName="fk_heading_has_product_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1328118907352-1">
        <addColumn tableName="eye_configuration">
            <column name="frame_type_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328118907352-12">
        <addForeignKeyConstraint baseColumnNames="frame_type_id" baseTableName="eye_configuration" constraintName="fk_eye_configuration_frame_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="frame_type" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Ajeet (written)" id="20120202-01">
        <dropForeignKeyConstraint baseTableName="line_item" constraintName="fk_line_item_combo_instance1"/>
    </changeSet>
    <changeSet author="Ajeet (written)" id="20120202-03">
      <dropForeignKeyConstraint baseTableName="combo" constraintName="fk_combo_combo_image1"/>
    </changeSet>
    <changeSet author="Ajeet (written)" id="20120202-02">
      <sql>
        drop table combo_product_allowed_variant;
        drop table combo_has_product;
        drop table combo_instance_has_product_variant;
        alter table line_item drop column combo_instance_id;
        drop table combo_instance;
        drop table category_has_combo;
        drop table combo_image;
        drop table combo;
      </sql>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1328204238791-1">
        <createTable tableName="combo">
            <column name="product_combo_id" type="VARCHAR(20)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="tag_line" type="VARCHAR(100)"/>
            <column name="marked_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="discount_percentage" type="DECIMAL(7,4)">
                <constraints nullable="false"/>
            </column>
            <column name="hk_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_base_qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_base_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_add_qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_add_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-2">
        <createTable tableName="combo_has_product">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="combo_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="product_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="1" name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-3">
        <createTable tableName="combo_instance">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="combo_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-4">
        <createTable tableName="combo_instance_has_product_variant">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="combo_instance_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="1" name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-5">
        <createTable tableName="combo_product_allowed_variant">
            <column name="combo_has_product_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-6">
        <addColumn tableName="line_item">
            <column name="combo_instance_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-9">
        <addForeignKeyConstraint baseColumnNames="product_combo_id" baseTableName="combo" constraintName="fk_combo_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-10">
        <addForeignKeyConstraint baseColumnNames="combo_id" baseTableName="combo_has_product" constraintName="fk_combo_has_product_combo1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="product_combo_id" referencedTableName="combo" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-11">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="combo_has_product" constraintName="fk_combo_has_product_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-12">
        <addForeignKeyConstraint baseColumnNames="combo_id" baseTableName="combo_instance" constraintName="fk_combo_instance_combo1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="product_combo_id" referencedTableName="combo" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-13">
        <addForeignKeyConstraint baseColumnNames="combo_instance_id" baseTableName="combo_instance_has_product_variant" constraintName="fk_product_variant_of_combo_instance_combo_instance1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo_instance" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-14">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="combo_instance_has_product_variant" constraintName="fk_product_variant_of_combo_instance_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-15">
        <addForeignKeyConstraint baseColumnNames="combo_has_product_id" baseTableName="combo_product_allowed_variant" constraintName="fk_combo_has_product_has_product_variant_combo_has_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo_has_product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-16">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="combo_product_allowed_variant" constraintName="fk_combo_has_product_has_product_variant_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1328204238791-17">
        <addForeignKeyConstraint baseColumnNames="combo_instance_id" baseTableName="line_item" constraintName="fk_line_item_combo_instance1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo_instance" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1328258212933-1">
        <addColumn tableName="base_order">
            <column name="basket_category" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1328258212933-2">
        <addColumn tableName="base_order">
            <column name="is_priority_order" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1328258212933-4">
        <addNotNullConstraint columnDataType="VARCHAR(45)" columnName="rack" tableName="bin"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1328258212933-5">
        <modifyDataType columnName="id" newDataType="VARCHAR(20)" tableName="product"/>
    </changeSet>
      <changeSet author="PRATHAM (written)" id="1328258212933-6">
        <sql>update line_item set line_item_status_id=13 where line_item_status_id=20;</sql>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328528228171-1">
        <createTable tableName="primary_category_heading">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="display_name" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column name="link" type="TEXT"/>
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328528228171-2">
        <dropForeignKeyConstraint baseTableName="category_has_heading" constraintName="fk_category_has_heading_category1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328528228171-3">
        <dropForeignKeyConstraint baseTableName="category_has_heading"  constraintName="fk_category_has_heading_heading1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328528228171-4">
        <dropForeignKeyConstraint baseTableName="heading_has_product"  constraintName="fk_heading_has_product_heading1"/>
    </changeSet>
	<changeSet author="Rahul (generated)" id="1328528228171-5">
      <sql>
        delete from heading_has_product;
      </sql>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1328528228171-6">
        <addForeignKeyConstraint baseColumnNames="heading_id" baseTableName="heading_has_product" constraintName="fk_heading_has_product_heading1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="primary_category_heading" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328528228171-7">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="primary_category_heading" constraintName="fk_primary_category_heading_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328528228171-8">
        <dropTable tableName="category_has_heading"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328528228171-14">
        <dropTable tableName="heading"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-1">
        <createTable tableName="line_item_config">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValueBoolean="false" name="is_left" type="BIT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-2">
        <createTable tableName="line_item_config_values">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="value" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="variant_config_option_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0.00" name="additional_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="line_item_config_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-3">
        <createTable tableName="variant_config">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-4">
        <createTable tableName="variant_config_option">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="variant_config_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-5">
        <createTable tableName="variant_config_values">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="value" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0.00" name="additonal_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="variant_config_option_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="variant_config_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-6">
        <addColumn tableName="line_item">
            <column name="line_item_config_id" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1328612286936-7">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_frame_type1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-8">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_additional_power1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-9">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_cylindrical_power1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-10">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_eye_axis1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-11">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_eye_power1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-12">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_glass_coating1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-13">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_glass_thickness1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-14">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_pupillary_distance1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-15">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_product_variant_configuration1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-16">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_additional_power2"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-17">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_cylindrical_power2"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-18">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_eye_axis2"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-19">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_eye_power2"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-20">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_glass_coating2"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-21">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_glass_thickness2"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-22">
        <dropForeignKeyConstraint baseTableName="eye_configuration" constraintName="fk_eye_configuration_pupillary_distance2"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-23">
        <dropForeignKeyConstraint baseTableName="line_item" constraintName="fk_line_item_product_variant_configuration1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-25">
        <addForeignKeyConstraint baseColumnNames="line_item_config_id" baseTableName="line_item" constraintName="fk_line_item_line_item_config1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="line_item_config" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-26">
        <addForeignKeyConstraint baseColumnNames="line_item_config_id" baseTableName="line_item_config_values" constraintName="fk_line_item_config_values_line_item_config1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="line_item_config" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-27">
        <addForeignKeyConstraint baseColumnNames="variant_config_option_id" baseTableName="line_item_config_values" constraintName="fk_line_item_config_values_variant_config_option1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="variant_config_option" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-28">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="variant_config" constraintName="fk_product_variant_configuration_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-29">
        <addForeignKeyConstraint baseColumnNames="variant_config_id" baseTableName="variant_config_option" constraintName="fk_variant_config_option_variant_config1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="variant_config" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-30">
        <addForeignKeyConstraint baseColumnNames="variant_config_id" baseTableName="variant_config_values" constraintName="fk_variant_config_values_variant_config1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="variant_config" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-31">
        <addForeignKeyConstraint baseColumnNames="variant_config_option_id" baseTableName="variant_config_values" constraintName="fk_variant_config_values_variant_config_option1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="variant_config_option" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-32">
        <dropColumn columnName="product_variant_configuration_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-33">
        <dropTable tableName="additional_power"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-34">
        <dropTable tableName="cylindrical_power"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-38">
        <dropTable tableName="eye_axis"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-39">
        <dropTable tableName="eye_configuration"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-40">
        <dropTable tableName="eye_power"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1328612286936-42">
        <dropTable tableName="frame_type"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-43">
        <dropTable tableName="glass_coating"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-44">
        <dropTable tableName="glass_thickness"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-46">
        <dropTable tableName="product_variant_configuration"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328612286936-47">
        <dropTable tableName="pupillary_distance"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-1">
        <addColumn tableName="category_image">
            <column name="link" type="VARCHAR(450)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-2">
        <addColumn tableName="product_variant">
            <column name="free_product_variant_id" type="VARCHAR(12)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-3">
        <addColumn tableName="product_variant">
            <column name="variant_config_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-4">
        <modifyDataType columnName="is_left" newDataType="BIT" tableName="line_item_config"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-5">
        <dropForeignKeyConstraint baseTableName="variant_config" constraintName="fk_product_variant_configuration_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-6">
        <dropForeignKeyConstraint baseTableName="variant_config_values" constraintName="fk_variant_config_values_variant_config1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-7">
        <addForeignKeyConstraint baseColumnNames="free_product_variant_id" baseTableName="product_variant" constraintName="fk_product_variant_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-8">
        <addForeignKeyConstraint baseColumnNames="variant_config_id" baseTableName="product_variant" constraintName="fk_product_variant_variant_config1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="variant_config" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-9">
        <dropColumn columnName="product_variant_id" tableName="variant_config"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328681023749-10">
        <dropColumn columnName="variant_config_id" tableName="variant_config_values"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1328776980942-1">
        <createTable tableName="lu_time">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="date_column" type="DATETIME"/>
            <column name="day_column" type="VARCHAR(75)"/>
            <column name="week_column" type="VARCHAR(45)"/>
            <column name="month_column" type="VARCHAR(45)"/>
            <column name="quarter_column" type="VARCHAR(45)"/>
            <column name="year_column" type="VARCHAR(45)"/>
            <column name="month_sort" type="VARCHAR(45)"/>
            <column name="quarter_sort" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328776980942-2">
        <modifyDataType columnName="is_left" newDataType="BIT" tableName="line_item_config"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328776980942-3">
        <addNotNullConstraint columnDataType="BIT" columnName="is_left" tableName="line_item_config"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1328776980942-4">
      <sql>

        CREATE TABLE `date_temp` (
        `date` datetime NOT NULL
        ) ENGINE=InnoDB DEFAULT CHARSET=latin1;


        CREATE TABLE num (i int);
        INSERT INTO num (i) VALUES (0), (1), (2), (3), (4), (5), (6), (7), (8), (9);

        insert into date_temp (date) (select adddate('2011-01-01', numlist.id) as `date` from
        (SELECT n1.i + n10.i*10 + n100.i*100 + n1000.i*1000 AS id
        FROM num n1 cross join num as n10 cross join num as n100 cross join num as n1000) as numlist
        where adddate('2011-01-01', numlist.id)
        &lt;
        '2021-01-02');


        insert into lu_time
        (date_column,day_column,week_column,month_column,quarter_column,year_column,month_sort,quarter_sort)

        (select date(dt.date) as date_column,
        dayname(dt.date) as day_column,
        concat("WEEK ",DATE_FORMAT((dt.date),'%x %v')) as week_column,
        concat(DATE_FORMAT((dt.date),'%M %Y')) as month_column,
        concat("Q",quarter(dt.date)," ",year(dt.date)) as quarter_column,
        concat("YEAR ",year(dt.date)) as year_column,
        concat(DATE_FORMAT((dt.date),'%Y-%m')) as month_sort,
        concat(year(dt.date)," ","Q",quarter(dt.date)) as quarter_sort
        from date_temp dt );


        drop table `date_temp`;
        drop table num;

      </sql>
    </changeSet>

    <changeSet author="Rimal (generated)" id="1328889586046-1">
        <addColumn tableName="primary_category_heading">
            <column name="ranking" type="INT"/>
        </addColumn>
    </changeSet>

  <!--<changeSet author="Rahul (generated)" id="1329156268769-2">
    <createView viewName="vw_product_variant_product_options">
      select `pv`.`id` AS `product_variant_id`,
      substr(group_concat(concat(`po`.`name`,':',`po`.`value`) separator '|'),1,100) AS `product_options`
      from ((`product_variant` `pv` left join
            `product_variant_has_product_option` `pvpo`
            on((`pv`.`id` = `pvpo`.`product_variant_id`))) left join
            `product_option` `po` on((`po`.`id` = `pvpo`.`product_option_id`)))
      group by `pv`.`id`
    </createView>
  </changeSet>-->


    <changeSet author="Rahul (generated)" id="1329205227438-1">
        <createTable tableName="purchase_invoice">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="create_date" type="DATETIME"/>
            <column name="purchase_invoice_status_id" type="INT"/>
            <column name="supplier_id" type="INT"/>
            <column name="created_by" type="INT"/>
            <column name="payment_details" type="VARCHAR(100)"/>
            <column name="payment_date" type="DATETIME"/>
            <column name="taxable" type="DECIMAL(12,2)"/>
            <column name="tax" type="DECIMAL(12,2)"/>
            <column name="surcharge" type="DECIMAL(12,2)"/>
            <column name="payable" type="DECIMAL(12,2)"/>
            <column name="discount" type="DECIMAL(12,2)"/>
            <column name="reconciled" type="TINYINT"/>
            <column name="comments" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-2">
        <createTable tableName="purchase_invoice_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="purchase_invoice_id" type="INT"/>
            <column name="product_variant_id" type="VARCHAR(12)"/>
            <column name="qty" type="DECIMAL(12,2)"/>
            <column name="cost_price" type="DECIMAL(12,2)"/>
            <column name="mrp" type="DECIMAL(12,2)"/>
            <column name="taxable" type="DECIMAL(12,2)"/>
            <column name="tax" type="DECIMAL(12,2)"/>
            <column name="surcharge" type="DECIMAL(12,2)"/>
            <column name="payable" type="DECIMAL(12,2)"/>
            <column name="discount_percent" type="DECIMAL(12,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-3">
        <createTable tableName="purchase_invoice_status">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-4">
        <addColumn tableName="goods_received_note">
            <column name="purchase_invoice_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-6">
        <addForeignKeyConstraint baseColumnNames="purchase_invoice_id" baseTableName="goods_received_note" constraintName="fk_goods_received_note_purchase_invoice1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_invoice" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-7">
        <addForeignKeyConstraint baseColumnNames="created_by" baseTableName="purchase_invoice" constraintName="fk_purchase_invoice_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-8">
        <addForeignKeyConstraint baseColumnNames="purchase_invoice_status_id" baseTableName="purchase_invoice" constraintName="fk_purchase_invoice_purchase_invoice_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_invoice_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-9">
        <addForeignKeyConstraint baseColumnNames="supplier_id" baseTableName="purchase_invoice" constraintName="fk_purchase_invoice_supplier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="supplier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-10">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="purchase_invoice_line_item" constraintName="fk_purchase_invoice_line_item_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329205227438-11">
        <addForeignKeyConstraint baseColumnNames="purchase_invoice_id" baseTableName="purchase_invoice_line_item" constraintName="fk_purchase_invoice_line_item_purchase_invoice1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_invoice" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="kani (generated)" id="1329309777276-1">
        <addColumn tableName="offer">
            <column name="terms" type="TEXT"/>
        </addColumn>
    </changeSet>
    <changeSet author="kani (generated)" id="1329309777276-2">
        <modifyDataType columnName="is_left" newDataType="TINYINT" tableName="line_item_config"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1329309777276-3">
        <modifyDataType columnName="qty" newDataType="INT" tableName="purchase_invoice_line_item"/>
    </changeSet>
    <changeSet author="kani (generated)" id="1329309821187-1">
        <addNotNullConstraint columnDataType="TINYINT" columnName="is_left" tableName="line_item_config"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1329362992102-1">
        <addColumn tableName="purchase_invoice">
            <column name="invoice_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329362992102-2">
        <addColumn tableName="purchase_invoice">
            <column name="invoice_number" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1329364755145-1">
        <addColumn tableName="purchase_invoice">
            <column name="final_payable" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>

    <changeSet author="PRATHAM (generated)" id="1329398170668-16">
        <addColumn tableName="amazon_feed">
            <column name="batteries_included" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1329398170668-17">
        <addColumn tableName="amazon_feed">
            <column name="colour_name" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1329398170668-18">
        <addColumn tableName="amazon_feed">
            <column name="gender" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1329398170668-19">
        <addColumn tableName="amazon_feed">
            <column name="item_package_quantity" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1329398170668-20">
        <addColumn tableName="amazon_feed">
            <column name="warranty" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1329398170668-23">
        <addColumn tableName="product">
            <column name="is_amazon_product" type="TINYINT"/>
        </addColumn>
    </changeSet>
  <changeSet author="Rahul (generated)" id="1329485179201-1">
        <createTable tableName="purchase_invoice_has_grn">
            <column name="purchase_invoice_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="goods_received_note_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329485179201-2">
        <addPrimaryKey columnNames="purchase_invoice_id, goods_received_note_id" tableName="purchase_invoice_has_grn"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329485179201-3">
        <addForeignKeyConstraint baseColumnNames="goods_received_note_id" baseTableName="purchase_invoice_has_grn" constraintName="fk_purchase_invoice_has_grn_goods_received_note1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="goods_received_note" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329485179201-4">
        <addForeignKeyConstraint baseColumnNames="purchase_invoice_id" baseTableName="purchase_invoice_has_grn" constraintName="fk_purchase_invoice_has_grn_purchase_invoice1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_invoice" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329485789849-1">
        <dropForeignKeyConstraint baseTableName="goods_received_note" constraintName="fk_goods_received_note_purchase_invoice1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329485789849-2">
        <dropColumn columnName="purchase_invoice_id" tableName="goods_received_note"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1329571274985-1">
        <createTable tableName="surcharge">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="DECIMAL(12,2)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329571274985-2">
        <addColumn tableName="purchase_invoice">
            <column name="freight_forwarding_charges" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329571274985-3">
        <addColumn tableName="purchase_invoice">
            <column name="route_permit_number" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329571274985-4">
        <addColumn tableName="purchase_invoice">
            <column name="surcharge_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329571274985-5">
        <addColumn tableName="purchase_invoice_line_item">
            <column name="tax_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329571274985-6">
        <addForeignKeyConstraint baseColumnNames="surcharge_id" baseTableName="purchase_invoice" constraintName="fk_purchase_invoice_surcharge1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="surcharge" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329571274985-7">
        <addForeignKeyConstraint baseColumnNames="tax_id" baseTableName="purchase_invoice_line_item" constraintName="fk_purchase_invoice_line_item_tax1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="tax" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329571630410-5">
        <addColumn tableName="purchase_invoice_line_item">
            <column name="tax_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1329571630410-9">
        <dropColumn columnName="tax" tableName="purchase_invoice_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-1">
        <addColumn tableName="purchase_invoice">
            <column name="final_payable_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-2">
        <addColumn tableName="purchase_invoice">
            <column name="payable_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-3">
        <addColumn tableName="purchase_invoice">
            <column name="surcharge_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-4">
        <addColumn tableName="purchase_invoice">
            <column name="tax_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-5">
        <addColumn tableName="purchase_invoice">
            <column name="taxable_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-6">
        <addColumn tableName="purchase_invoice_line_item">
            <column name="payable_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-7">
        <addColumn tableName="purchase_invoice_line_item">
            <column name="surcharge_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-8">
        <addColumn tableName="purchase_invoice_line_item">
            <column name="taxable_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-9">
        <dropNotNullConstraint columnDataType="INT" columnName="tax_id" tableName="purchase_invoice_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-10">
        <dropColumn columnName="final_payable" tableName="purchase_invoice"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-11">
        <dropColumn columnName="payable" tableName="purchase_invoice"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-12">
        <dropColumn columnName="surcharge" tableName="purchase_invoice"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-13">
        <dropColumn columnName="tax" tableName="purchase_invoice"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-14">
        <dropColumn columnName="taxable" tableName="purchase_invoice"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-15">
        <dropColumn columnName="payable" tableName="purchase_invoice_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-16">
        <dropColumn columnName="surcharge" tableName="purchase_invoice_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329573723395-17">
        <dropColumn columnName="taxable" tableName="purchase_invoice_line_item"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1329575929575-1">
        <addColumn tableName="purchase_invoice_line_item">
            <column name="surcharge_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329575929575-2">
        <addForeignKeyConstraint baseColumnNames="surcharge_id" baseTableName="purchase_invoice_line_item" constraintName="fk_purchase_invoice_line_item_surcharge1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="surcharge" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1329684070770-1">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="amazon_feed"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-2">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="combo_instance_has_product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-3">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="combo_product_allowed_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-4">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="debit_note_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-5">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="grn_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-6">
        <modifyDataType columnName="product_id" newDataType="VARCHAR(20)" tableName="heading_has_product"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-7">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-8">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="low_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-9">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="notify_me"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-10">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="po_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-11">
        <modifyDataType columnName="product_id" newDataType="VARCHAR(20)" tableName="product_count"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-12">
        <modifyDataType columnName="product_id" newDataType="VARCHAR(20)" tableName="product_feature"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-13">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="product_group_has_product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-14">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="product_group_not_has_product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-15">
        <modifyDataType columnName="product_id" newDataType="VARCHAR(20)" tableName="product_has_related_product"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-16">
        <modifyDataType columnName="related_product_id" newDataType="VARCHAR(20)" tableName="product_has_related_product"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-17">
        <modifyDataType columnName="product_id" newDataType="VARCHAR(20)" tableName="product_image"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-18">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="product_image"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-19">
        <modifyDataType columnName="id" newDataType="VARCHAR(20)" tableName="product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-20">
        <modifyDataType columnName="product_id" newDataType="VARCHAR(20)" tableName="product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-21">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="product_variant_damage_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-22">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="product_variant_has_product_extra_option"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-23">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="product_variant_has_product_option"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-24">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="product_variant_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-25">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="purchase_invoice_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-26">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="rv_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-27">
        <modifyDataType columnName="product_variant_id" newDataType="VARCHAR(20)" tableName="sku_group"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-28">
        <modifyDataType columnName="item_code" newDataType="VARCHAR(20)" tableName="transaction_body"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-29">
        <modifyDataType columnName="product_id" newDataType="VARCHAR(20)" tableName="user_cart"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329684070770-30">
        <modifyDataType columnName="product_id" newDataType="VARCHAR(20)" tableName="user_product_history"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1329686070991-1">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="amazon_feed"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-2">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="combo_instance_has_product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-3">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="combo_product_allowed_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-4">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="debit_note_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-5">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="grn_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-6">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="low_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-7">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="notify_me"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-8">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="po_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-9">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_id" tableName="product_count"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-10">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_id" tableName="product_feature"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-11">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_id" tableName="product_image"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-12">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_id" tableName="product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-13">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="product_variant_damage_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-14">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="product_variant_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-15">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="rv_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-16">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_variant_id" tableName="sku_group"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-17">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="item_code" tableName="transaction_body"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-18">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_id" tableName="user_cart"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1329686070991-19">
        <addNotNullConstraint columnDataType="VARCHAR(20)" columnName="product_id" tableName="user_product_history"/>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1329402445283-1">
        <addColumn tableName="variant_config_option">
            <column name="additional_param" type="VARCHAR(20)"/>
        </addColumn>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1329402445283-2">
        <addColumn tableName="variant_config_option">
            <column name="display_name" type="VARCHAR(250)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1329402445283-3">
        <addColumn tableName="variant_config_option">
            <column name="display_order" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1329402445283-4">
        <addColumn tableName="variant_config_values">
            <column name="display_order" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
  <changeSet author="PRATHAM (generated)" id="1329933652918-12">
      <createTable tableName="product_thumb_tag">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="name" type="VARCHAR(45)">
              <constraints nullable="false"/>
          </column>
      </createTable>
  </changeSet>
  <changeSet author="PRATHAM (generated)" id="1329933652918-14">
      <addColumn tableName="user_product_history">
          <column name="out_of_stock" type="TINYINT"/>
      </addColumn>
  </changeSet>
  <changeSet author="PRATHAM (generated)" id="1329933652918-16">
      <modifyDataType columnName="value" newDataType="DECIMAL(12,5)" tableName="surcharge"/>
  </changeSet>
  <changeSet author="PRATHAM (generated)" id="1329936848159-13">
      <addColumn tableName="user_product_history">
          <column name="product_thumb_tag_id" type="INT"/>
      </addColumn>
  </changeSet>
    <changeSet author="PRATHAM (generated)" id="1329936848159-35">
        <addForeignKeyConstraint baseColumnNames="product_thumb_tag_id" baseTableName="user_product_history" constraintName="fk_user_product_history_product_thumb_tag1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_thumb_tag" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1330048713965-1">
        <addNotNullConstraint columnDataType="DECIMAL(12,5)" columnName="value" tableName="surcharge"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1330752991166-1">
        <addColumn tableName="product_variant">
            <column name="clearance_sale" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1330754965732-1">
        <createTable tableName="b2b_user_details">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="tin" type="VARCHAR(45)"/>
            <column name="dl_number" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1330754965732-2">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="b2b_user_details" constraintName="fk_b2b_details_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1330766818333-1">
        <addColumn tableName="pincode">
            <column name="default_courier_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1330766818333-2">
        <addColumn tableName="product">
            <column name="secondary_category" type="VARCHAR(80)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1330766818333-3">
        <addColumn tableName="retail_line_item">
            <column name="estimated_collection_by_courier" type="DECIMAL(10,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1330766818333-4">
        <addColumn tableName="retail_line_item">
            <column name="estimated_shipping_by_courier" type="DECIMAL(10,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1330766818333-5">
        <addColumn tableName="retail_line_item">
            <column name="extra_charges" type="DECIMAL(10,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1330766818333-7">
        <addForeignKeyConstraint baseColumnNames="default_courier_id" baseTableName="pincode" constraintName="fk_pincode_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1330766818333-8">
        <addForeignKeyConstraint baseColumnNames="secondary_category" baseTableName="product" constraintName="fk_product_category2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1330950533631-13">
        <createTable tableName="reconciliation_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1330950533631-14">
        <addColumn tableName="reconciliation_voucher">
            <column name="reconciliation_type_id" type="INT"/>
        </addColumn>
    </changeSet>

  <changeSet author="Rimal (written)" id="1330950533631-15">
      <sql>
        update primary_category_heading set ranking = id;
      </sql>
    </changeSet>
    <changeSet author="Praveen (generated)" id="1331040872256-1">
        <createTable tableName="ad_networks">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(80)"/>
        </createTable>
    </changeSet>
    <changeSet author="Praveen (generated)" id="1331040872256-2">
        <createTable tableName="marketing_expense">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="category" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="impression" type="INT"/>
            <column name="click" type="INT"/>
            <column name="amount_spend" type="DECIMAL(10,2)"/>
            <column name="conversion" type="INT"/>
            <column name="cost_of_conversion" type="DECIMAL(10,2)"/>
            <column name="date" type="DATE"/>
            <column name="ad_networks_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Praveen (generated)" id="1331040872256-48">
        <createIndex indexName="date_UNIQUE" tableName="marketing_expense" unique="true">
            <column name="date"/>
            <column name="category"/>
            <column name="ad_networks_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Praveen (generated)" id="1331040872256-50">
        <addForeignKeyConstraint baseColumnNames="ad_networks_id" baseTableName="marketing_expense" constraintName="fk_marketing_expense_ad_networks1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="ad_networks" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Praveen (generated)" id="1331040872256-51">
        <addForeignKeyConstraint baseColumnNames="category" baseTableName="marketing_expense" constraintName="fk_marketing_expense_category10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1331394140179-79">
        <dropColumn columnName="value" tableName="reconciliation_type"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1331395353005-61">
        <dropColumn columnName="reconciliation_type_id" tableName="reconciliation_voucher"/>
    </changeSet>
    <changeSet author="PRATHAM (generated)" id="1331395353005-1">
        <addColumn tableName="rv_line_item">
            <column name="reconciliation_type_id" type="INT"/>
       </addColumn>
    </changeSet>
     <changeSet author="PRATHAM (generated)" id="1331395353005-48">
      <addForeignKeyConstraint baseColumnNames="reconciliation_type_id" baseTableName="rv_line_item" constraintName="fk_rv_line_item_reconciliation_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="reconciliation_type" referencesUniqueColumn="false"/>
     </changeSet>
    <changeSet author="PRATHAM (written)" id="10032012-01">
      <sql>
          UPDATE rv_line_item SET reconciliation_type_id = 10 WHERE qty &gt; 0;
      </sql>
    </changeSet>
    <changeSet author="PRATHAM (written)" id="10032012-02">
      <sql>
          UPDATE rv_line_item SET qty = qty * -1, reconciliation_type_id = 20 WHERE qty &lt; 0;
      </sql>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1331798247774-1">
        <addColumn tableName="low_inventory">
            <column name="out_of_stock" type="TINYINT"/>
        </addColumn>
    </changeSet>

    <changeSet author="rahul" id="1332342105236-159">
      <sql>
        insert into warehouse values (1,'badshahpur','gurgaon','HARYANA','123456789');
      </sql>
    </changeSet>


    <changeSet author="Rahul (generated)" id="1332342105236-1">
        <createTable tableName="base_order_category">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="base_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="is_primary" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-2">
        <createTable tableName="cart_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(20)"/>
            <column name="marked_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="hk_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="line_item_type_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="combo_instance_id" type="INT"/>
            <column name="cart_line_item_config_id" type="INT"/>
            <column defaultValueNumeric="0.00" name="discount_on_hk_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="version" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

  <changeSet author="rahul" id="1332342105236-200">
    <sql>

      insert into category values ('nutrition','Nutrition') on duplicate key update display_name = 'Nutrition';
      insert into category values ('home','Home') on duplicate key update display_name = 'Home' ;

      INSERT INTO tax (id, name, value) VALUES (1, 'Service Tax @ 10.3%', 0.10300) on duplicate key update
      value=0.10300;
      INSERT INTO tax (id, name, value) VALUES (2, 'VAT @ 5.25%', 0.05250) on duplicate key update value=0.05250;
      INSERT INTO tax (id, name, value) VALUES (3, 'VAT @ 13.125%', 0.13125) on duplicate key update value=0.13125;
      INSERT INTO tax (id, name, value) VALUES (5, 'VAT - 5.25%', 0.05250) on duplicate key update value=0.05250;
      INSERT INTO tax (id, name, value) VALUES (6, '0.0', 0.00000) on duplicate key update value=0.00000;
      INSERT INTO tax (id, name, value) VALUES (7, '0.125', 0.12500) on duplicate key update value=0.12500;
      INSERT INTO tax (id, name, value) VALUES (8, '0.05', 0.05000) on duplicate key update value=0.05000;
      INSERT INTO tax (id, name, value) VALUES (32, '0.103', 0.10300) on duplicate key update value=0.10300;
      INSERT INTO tax (id, name, value) VALUES (51, 'NA', 0.00000) on duplicate key update value=0.00000;

      insert into order_status (id, name)  values (10,'In Cart') on duplicate key update name = 'In Cart';
      insert into line_item_type (id, name) values (10, 'Product') on duplicate key update name = 'Product';


    </sql>
  </changeSet>


    <changeSet author="rahul" id="1332342105236-160">
      <sql>

        insert into supplier
        (id, name, line1, line2, city, state, pincode, contact_person,
        contact_number, tin_number)
        values
        (-1, 'MIGRATE', 'line1', 'line2', 'city', 'state', 'pincode', 'contact_person',
        '12345', '12345');

        insert into product
        (id,name,thumb_url,order_ranking,brand,
        manufacturer_id,pack_type,overview,description,
        keywords,min_days,max_days,deleted,main_image_id,
        product_has_color_options,supplier_id,create_date,
        primary_category,is_service,is_google_ad_disallowed,
        video_embed_code,is_jit,hidden,is_amazon_product,secondary_category)
        values ('MIGRATE','Misc','no-image.jpg',0,'migrate',
        NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,
        0,-1,'2012-03-15 00:00:00','nutrition',0,0,NULL,0,0,NULL,NULL);

        insert into product_variant
        (id,marked_price,discount_percent,hk_price,tax_id,
        product_id,shipping_base_qty,shipping_base_price,shipping_add_qty,
        shipping_add_price,out_of_stock,variant_name,deleted,
        order_ranking,affiliate_category_name,main_image_id,color_hex,
        breadth,height,length,weight,upc,cut_off_inventory,main_product_image_id,
        payment_type_id,product_variant_service_type_id,postpaid_amount,created_date,b2b_price,
        free_product_variant_id,variant_config_id,clearance_sale)

        values ('MIGRATE-01','10.00','0.0000','10.00',5,'MIGRATE',1,'0.00',1,'0.00',0,'',
        0,1000,NULL,NULL,'',0,0,0,0,'890265322332',
        NULL,NULL,NULL,NULL,0,'2012-03-15 00:00:00',
        NULL,NULL,NULL,NULL);

        insert into user
        (
        id,
        login,
        password_checksum,
        create_date,
        update_date,
        last_login_date,
        user_hash
        )
        values
        (-1,
        'rahul@migration.com',
        'MD5baakipatanahi',
        '2012-03-17 00:00:00',
        '2012-03-17 00:00:00',
        '2012-03-17 00:00:00',
        'patanahi'
        );

        insert into base_order
        (id,
        user_id,
        order_status_id,
        create_date,
        update_date,
        reconciliation_status_id
        )
        values
        (-1,-1,10,
        '2012-03-16 00:00:00',
        '2012-03-16 00:00:00',
        10
        );

        insert into cart_line_item
        (id, order_id, qty, product_variant_id, marked_price,
        hk_price, line_item_type_id,
        discount_on_hk_price, version)
        values
        (-1, -1, 1, 'MIGRATE-01', 1,
        1, 10,
        1, 0);
      </sql>
    </changeSet>


  <changeSet author="Rahul (generated)" id="1332342105236-3">
        <createTable tableName="cart_line_item_config">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValueNumeric="0" name="is_left" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-4">
        <createTable tableName="cart_line_item_config_values">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="value" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="variant_config_option_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0.00" name="additional_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="cart_line_item_config_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-5">
        <createTable tableName="cart_line_item_extra_option">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="cart_line_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-6">
        <createTable tableName="seek_invoice_num">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="invoice_num" type="INT"/>
            <column name="prefix" type="VARCHAR(45)"/>
            <column name="description" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-7">
        <createTable tableName="shipment">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValue="MIGRATE" name="tracking_id" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="-1" name="courier_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="ship_date" type="DATETIME"/>
            <column name="delivery_date" type="DATETIME"/>
            <column defaultValueNumeric="-1" name="box_size_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0.0000" name="box_weight" type="DECIMAL(8,4)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-8">
        <createTable tableName="shipping_order">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="base_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="amount" type="DECIMAL(11,2)">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="update_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="shipment_id" type="INT"/>
            <column name="gateway_order_id" type="VARCHAR(30)"/>
            <column name="shipping_order_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="10" name="reconciliation_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="cancellation_type_id" type="INT"/>
            <column name="cancellation_remark" type="TEXT"/>
            <column name="accounting_invoice_number_id" type="INT"/>
            <column name="basket_category" type="VARCHAR(45)"/>
            <column defaultValueNumeric="0" name="is_service_order" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="version" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-9">
        <createTable tableName="shipping_order_lifecycle">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="shipping_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_order_lifecycle_activity_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="activity_by_user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="comments" type="TEXT"/>
            <column name="activity_date" type="DATETIME"/>
        </createTable>
    </changeSet>



    <changeSet author="Rahul (generated)" id="1332342105236-10">
        <createTable tableName="shipping_order_lifecycle_activity">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-11">
        <createTable tableName="shipping_order_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="rahul" id="1332342105236-161">
      <sql>

        insert into shipping_order_status
        (id, name)
        values
        (-1, 'MIGRATE');

        insert into shipping_order
        (id, shipping_order_status_id, amount, create_date, update_date,
        gateway_order_id, reconciliation_status_id,
        base_order_id, warehouse_id, is_service_order, version)
        values
        (-1, -1, 1, '2012-03-16 00:00:00', '2012-03-16 00:00:00',
        '123', 10,
        -1, 1, 0, 0);

      </sql>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1332342105236-12">
        <createTable tableName="sku">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="cut_off_inventory" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="forecasted_quantity" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="tax_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="rahul" id="1332342105236-162">
      <sql>
        insert into sku values (-1,'MIGRATE-01',1,0,0,0,1);
      </sql>
    </changeSet>


  <changeSet author="Rahul (generated)" id="1332342105236-13">
        <addColumn tableName="accounting_invoice">
            <column name="shipping_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-14">
        <addColumn tableName="base_order">
            <column name="version" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-15">
        <addColumn tableName="bin">
            <column defaultValue="1" name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-16">
        <addColumn tableName="goods_received_note">
            <column defaultValue="1" name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-17">
        <addColumn tableName="grn_line_item">
            <column defaultValue="-1" name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-18">
        <addColumn tableName="line_item">
            <column name="cart_line_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-19">
        <addColumn tableName="line_item">
            <column name="cod_charge" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-20">
        <addColumn tableName="line_item">
            <column defaultValue="0" name="deleted" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-21">
        <addColumn tableName="line_item">
            <column name="order_level_discount" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-22">
        <addColumn tableName="line_item">
            <column name="reward_point_discount" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-23">
        <addColumn tableName="line_item">
            <column name="shipping_charge" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-24">
        <addColumn tableName="line_item">
            <column defaultValue="-1" name="shipping_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-25">
        <addColumn tableName="line_item">
            <column defaultValue="-1" name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-26">
        <addColumn tableName="line_item">
            <column defaultValue="0" name="version" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-27">
        <addColumn tableName="po_line_item">
            <column defaultValue="-1" name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-28">
        <addColumn tableName="product_variant_damage_inventory">
            <column defaultValue="-1" name="shipping_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-29">
        <addColumn tableName="product_variant_damage_inventory">
            <column defaultValue="-1" name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-30">
        <addColumn tableName="product_variant_inventory">
            <column name="shipping_order_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-31">
        <addColumn tableName="product_variant_inventory">
            <column defaultValue="-1" name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-32">
        <addColumn tableName="purchase_invoice">
            <column defaultValue="1" name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-33">
        <addColumn tableName="purchase_invoice_line_item">
            <column defaultValue="-1" name="sku_id" type="INT">
              <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-34">
        <addColumn tableName="purchase_order">
            <column defaultValue="1" name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-35">
        <addColumn tableName="reconciliation_voucher">
            <column defaultValue="1" name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-36">
        <addColumn tableName="rv_line_item">
            <column defaultValue="-1" name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-37">
        <addColumn tableName="sku_group">
            <column defaultValue="-1" name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-38">
        <addColumn tableName="warehouse">
            <column name="line1" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-39">
        <addColumn tableName="warehouse">
            <column name="line2" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-40">
        <addColumn tableName="warehouse">
            <column defaultValue="Gurgaon Warehouse" name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-41">
        <addColumn tableName="warehouse">
            <column defaultValue="122101" name="pincode" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-42">
        <addColumn tableName="warehouse">
            <column defaultValue="06101832327" name="tin" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="rahul" id="1332342105236-163">
      <sql>
        update line_item set cost_price = 0.0 where cost_price is null;
        update line_item set tax_id = 51 where tax_id is null;
        update po_line_item set cost_price = 0.0 where cost_price is null;
        update po_line_item set mrp = 0.0 where mrp is null;
        update product_variant_inventory set user_id = 1 where user_id is null;
        update line_item set cart_line_item_id = -1;
      </sql>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1332342105236-43">
        <addNotNullConstraint columnDataType="DECIMAL(10,2)" columnName="cost_price" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-44">
        <addNotNullConstraint columnDataType="INT" columnName="tax_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-45">
        <addNotNullConstraint columnDataType="DECIMAL(8,2)" columnName="cost_price" tableName="po_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-46">
        <addNotNullConstraint columnDataType="DECIMAL(8,2)" columnName="mrp" tableName="po_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-47">
        <modifyDataType columnName="free_product_variant_id" newDataType="VARCHAR(20)" tableName="product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-48">
        <addNotNullConstraint columnDataType="INT" columnName="user_id" tableName="product_variant_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-49">
        <addNotNullConstraint columnDataType="INT" columnName="reconciliation_type_id" tableName="rv_line_item"/>
    </changeSet>


    <changeSet author="Rahul (generated)" id="1332342105236-50">
        <dropForeignKeyConstraint baseTableName="accounting_invoice"  constraintName="fk_table1_base_order1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-51">
        <dropForeignKeyConstraint baseTableName="base_order"  constraintName="fk_base_order_reconciliation_status1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-52">
        <dropForeignKeyConstraint baseTableName="grn_line_item"  constraintName="fk_grn_line_item_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-53">
        <dropForeignKeyConstraint baseTableName="line_item"  constraintName="fk_line_item_box_size1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-54">
        <dropForeignKeyConstraint baseTableName="line_item"  constraintName="fk_line_item_courier1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-55">
        <dropForeignKeyConstraint baseTableName="line_item"  constraintName="fk_line_item_line_item_config1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-56">
        <dropForeignKeyConstraint baseTableName="line_item"  constraintName="fk_line_item_line_item_status1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-57">
        <dropForeignKeyConstraint baseTableName="line_item"  constraintName="fk_line_item_line_item_type1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-58">
        <dropForeignKeyConstraint baseTableName="line_item"  constraintName="fk_line_item_base_order1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-59">
        <dropForeignKeyConstraint baseTableName="line_item"  constraintName="fk_line_item_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-60">
        <dropForeignKeyConstraint baseTableName="line_item_config_values"  constraintName="fk_line_item_config_values_line_item_config1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-61">
        <dropForeignKeyConstraint baseTableName="line_item_config_values"  constraintName="fk_line_item_config_values_variant_config_option1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-62">
        <dropForeignKeyConstraint baseTableName="line_item_extra_option"  constraintName="fk_extra_option_line_item1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-63">
        <dropForeignKeyConstraint baseTableName="po_line_item"  constraintName="fk_po_line_item_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-64">
        <dropForeignKeyConstraint baseTableName="product_variant"  constraintName="fk_product_variant_tax1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-65">
        <dropForeignKeyConstraint baseTableName="product_variant_damage_inventory"  constraintName="fk_product_variant_inventory_base_order10"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-66">
        <dropForeignKeyConstraint baseTableName="product_variant_damage_inventory"  constraintName="fk_variant_inventory_product_variant10"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-67">
        <dropForeignKeyConstraint baseTableName="product_variant_inventory"  constraintName="fk_product_variant_inventory_base_order1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-68">
        <dropForeignKeyConstraint baseTableName="product_variant_inventory"  constraintName="fk_variant_inventory_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-69">
        <dropForeignKeyConstraint baseTableName="purchase_invoice_line_item"  constraintName="fk_purchase_invoice_line_item_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-70">
        <dropForeignKeyConstraint baseTableName="rv_line_item"  constraintName="fk_rv_line_item_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-71">
        <dropForeignKeyConstraint baseTableName="sku_group"  constraintName="fk_group_barcode_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-72">
        <dropForeignKeyConstraint baseTableName="sku_group"  constraintName="fk_sku_group_purchase_order1"/>
    </changeSet>

<!--    <changeSet author="Rahul (generated)" id="1332342105236-76">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="accounting_invoice" constraintName="fk_accounting_invoice_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order"  referencesUniqueColumn="false"/>
    </changeSet>-->
    <changeSet author="Rahul (generated)" id="1332342105236-77">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="base_order_category" constraintName="fk_base_order_category_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-78">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="base_order_category" constraintName="fk_base_order_category_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-79">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="bin" constraintName="fk_bin_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-80">
        <addForeignKeyConstraint baseColumnNames="cart_line_item_config_id" baseTableName="cart_line_item" constraintName="fk_cart_line_item_cart_line_item_config1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cart_line_item_config"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-81">
        <addForeignKeyConstraint baseColumnNames="combo_instance_id" baseTableName="cart_line_item" constraintName="fk_cart_line_item_combo_instance1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="combo_instance"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-82">
        <addForeignKeyConstraint baseColumnNames="line_item_type_id" baseTableName="cart_line_item" constraintName="fk_cart_line_item_line_item_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="line_item_type"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-83">
        <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="cart_line_item" constraintName="fk_cart_line_item_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-84">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="cart_line_item" constraintName="fk_cart_line_item_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-85">
        <addForeignKeyConstraint baseColumnNames="cart_line_item_config_id" baseTableName="cart_line_item_config_values" constraintName="fk_line_item_config_values_line_item_config1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cart_line_item_config"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-86">
        <addForeignKeyConstraint baseColumnNames="variant_config_option_id" baseTableName="cart_line_item_config_values" constraintName="fk_line_item_config_values_variant_config_option1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="variant_config_option"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-87">
        <addForeignKeyConstraint baseColumnNames="cart_line_item_id" baseTableName="cart_line_item_extra_option" constraintName="fk_cart_line_item_extra_option_cart_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cart_line_item"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-88">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="goods_received_note" constraintName="fk_goods_received_note_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-89">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="grn_line_item" constraintName="fk_grn_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-90">
        <addForeignKeyConstraint baseColumnNames="cart_line_item_id" baseTableName="line_item" constraintName="fk_line_item_cart_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cart_line_item"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-91">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="line_item" constraintName="fk_line_item_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-92">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="line_item" constraintName="fk_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-93">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="po_line_item" constraintName="fk_po_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-94">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="product_variant_damage_inventory" constraintName="fk_product_variant_damage_inventory_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-95">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="product_variant_damage_inventory" constraintName="fk_product_variant_damage_inventory_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-96">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-97">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-98">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="purchase_invoice" constraintName="fk_purchase_invoice_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-99">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="purchase_invoice_line_item" constraintName="fk_purchase_invoice_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-100">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="purchase_order" constraintName="fk_purchase_order_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-101">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="reconciliation_voucher" constraintName="fk_reconciliation_voucher_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-102">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="rv_line_item" constraintName="fk_rv_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-103">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="seek_invoice_num" constraintName="fk_seek_invoice_num_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-104">
        <addForeignKeyConstraint baseColumnNames="box_size_id" baseTableName="shipment" constraintName="fk_package_box_size1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="box_size"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-105">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="shipment" constraintName="fk_package_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-106">
        <addForeignKeyConstraint baseColumnNames="accounting_invoice_number_id" baseTableName="shipping_order" constraintName="fk_base_order_accounting_invoice_number10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="accounting_invoice_number"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-107">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="shipping_order" constraintName="fk_shipping_order_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-108">
        <addForeignKeyConstraint baseColumnNames="cancellation_type_id" baseTableName="shipping_order" constraintName="fk_base_order_cancellation_type10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cancellation_type"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-109">
        <addForeignKeyConstraint baseColumnNames="reconciliation_status_id" baseTableName="shipping_order" constraintName="fk_base_order_reconciliation_status10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="reconciliation_status"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-110">
        <addForeignKeyConstraint baseColumnNames="shipment_id" baseTableName="shipping_order" constraintName="fk_shipping_order_shipment1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipment"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-111">
        <addForeignKeyConstraint baseColumnNames="shipping_order_status_id" baseTableName="shipping_order" constraintName="fk_shipping_order_shipping_order_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order_status"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-112">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="shipping_order" constraintName="fk_shipping_order_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-113">
        <addForeignKeyConstraint baseColumnNames="activity_by_user_id" baseTableName="shipping_order_lifecycle" constraintName="fk_shipping_order_lifecycle_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-114">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="shipping_order_lifecycle" constraintName="fk_shipping_order_lifecycle_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-115">
        <addForeignKeyConstraint baseColumnNames="shipping_order_lifecycle_activity_id" baseTableName="shipping_order_lifecycle" constraintName="fk_shipping_order_lifecycle_shipping_order_lifecycle_activity1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order_lifecycle_activity"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-116">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="sku" constraintName="fk_sku_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-117">
        <addForeignKeyConstraint baseColumnNames="tax_id" baseTableName="sku" constraintName="fk_sku_tax1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="tax"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-118">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="sku" constraintName="fk_sku_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-119">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="sku_group" constraintName="fk_sku_group_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>


  <changeSet author="rahul" id="1332342105236-201">
    <sql>
      alter table po_line_item drop key fk_po_line_item_product_variant1;
      alter table po_line_item drop foreign key fk_po_line_item_purchase_order1;
      alter table shipping_order drop foreign key fk_base_order_accounting_invoice_number10;
    </sql>
  </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-120">
      <dropIndex indexName="po_pv_key" tableName="po_line_item"/>
    </changeSet>

    <changeSet author="rahul" id="1332342105236-202">
        <addForeignKeyConstraint baseColumnNames="purchase_order_id" baseTableName="po_line_item" constraintName="fk_po_line_item_purchase_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="rahul" id="1332342105236-203">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="accounting_invoice" constraintName="fk_accounting_invoice_shipping_order10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="rahul" id="1332342105236-164">
      <sql>
        <!--alter table base_order drop foreign key fk_base_order_accounting_invoice_number1;-->
        alter table base_order drop key fk_base_order_reconciliation_status1;
      </sql>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1332342105236-75">
        <createIndex indexName="variant_id_warehouse_UNIQUE" tableName="sku" unique="true">
            <column name="product_variant_id"/>
            <column name="warehouse_id"/>
        </createIndex>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1332342105236-74">
      <createIndex indexName="po_pv_key" tableName="po_line_item" unique="true">
        <column name="purchase_order_id"/>
        <column name="sku_id"/>
      </createIndex>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1332342105236-73">
      <createIndex indexName="grn_sku" tableName="grn_line_item" unique="true">
        <column name="goods_received_note_id"/>
        <column name="sku_id"/>
      </createIndex>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1332342105236-121">
        <dropColumn columnName="order_id" tableName="accounting_invoice"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-122">
        <dropColumn columnName="accounting_invoice_number_id" tableName="base_order"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-123">
        <dropColumn columnName="basket_category" tableName="base_order"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-124">
        <dropColumn columnName="reconciliation_status_id" tableName="base_order"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-125">
        <dropColumn columnName="area" tableName="bin"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-126">
        <dropColumn columnName="city" tableName="bin"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-127">
        <dropColumn columnName="country" tableName="bin"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-128">
        <dropColumn columnName="state" tableName="bin"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-129">
        <dropColumn columnName="product_variant_id" tableName="grn_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-130">
        <dropColumn columnName="box_size_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-131">
        <dropColumn columnName="box_weight" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-132">
        <dropColumn columnName="courier_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-133">
        <dropColumn columnName="delivery_date" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-134">
        <dropColumn columnName="line_item_config_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-135">
        <dropColumn columnName="line_item_status_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-136">
        <dropColumn columnName="line_item_type_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-137">
        <dropColumn columnName="order_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-138">
        <dropColumn columnName="product_variant_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-139">
        <dropColumn columnName="ship_date" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-140">
        <dropColumn columnName="shipped_email_sent" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-141">
        <dropColumn columnName="tracking_id" tableName="line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-142">
        <dropColumn columnName="product_variant_id" tableName="po_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-143">
        <dropColumn columnName="cost_price" tableName="product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-144">
        <dropColumn columnName="tax_id" tableName="product_variant"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-145">
        <dropColumn columnName="order_id" tableName="product_variant_damage_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-146">
        <dropColumn columnName="product_variant_id" tableName="product_variant_damage_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-147">
        <dropColumn columnName="order_id" tableName="product_variant_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-148">
        <dropColumn columnName="product_variant_id" tableName="product_variant_inventory"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-149">
        <dropColumn columnName="product_variant_id" tableName="purchase_invoice_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-150">
        <dropColumn columnName="product_variant_id" tableName="rv_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-151">
        <dropColumn columnName="product_variant_id" tableName="sku_group"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-152">
        <dropColumn columnName="purchase_order_id" tableName="sku_group"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-153">
        <dropColumn columnName="address" tableName="warehouse"/>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1332342105236-155">
        <dropTable tableName="line_item_config"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-156">
        <dropTable tableName="line_item_config_values"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-157">
        <dropTable tableName="line_item_extra_option"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1332342105236-158">
        <dropTable tableName="line_item_status"/>
    </changeSet>
  <changeSet author="PRATHAM (generated)" id="1332788122250-4">
      <createTable tableName="pincode_default_courier">
          <column autoIncrement="true" name="id" type="INT">
              <constraints nullable="false" primaryKey="true"/>
          </column>
          <column name="pincode_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="warehouse_id" type="INT">
              <constraints nullable="false"/>
          </column>
          <column name="courier_id" type="INT"/>
          <column name="cod" type="TINYINT"/>
      </createTable>
  </changeSet>
  <changeSet author="PRATHAM (generated)" id="1332788122250-10">
      <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="pincode_default_courier" constraintName="fk_pincode_default_courier_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="PRATHAM (generated)" id="1332788122250-11">
      <addForeignKeyConstraint baseColumnNames="pincode_id" baseTableName="pincode_default_courier" constraintName="fk_pincode_default_courier_pincode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pincode" referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="PRATHAM (generated)" id="1332788122250-12">
      <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="pincode_default_courier" constraintName="fk_pincode_default_courier_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
  </changeSet>

    <changeSet author="Rahul (generated)" id="1333359844542-1">
        <addColumn tableName="shipment">
            <column defaultValue="0" name="email_sent" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333359844542-2">
        <addColumn tableName="shipment">
            <column name="return_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333359844542-3">
        <addColumn tableName="sku">
            <column name="lead_time" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="rahul" id="1333359844542-30">
      <sql>
        update shipping_order set basket_category = 'nutrition' where id = -1;
      </sql>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333359844542-4">
        <addNotNullConstraint columnDataType="VARCHAR(45)" columnName="basket_category" tableName="shipping_order"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333359844542-6">
        <dropIndex indexName="bin_barcode_UNIQUE" tableName="bin"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333359844542-5">
        <createIndex indexName="bin_barcode_UNIQUE" tableName="bin" unique="true">
            <column name="barcode"/>
            <column name="warehouse_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333359844542-7">
        <dropIndex indexName="fk_base_order_accounting_invoice_number10" tableName="shipping_order"/>
    </changeSet>

    <changeSet author="vaibhav" id="1333359844542-8">
      <sql>
        insert into `warehouse` (`id`,`city`,`state`,`wh_phone`,`line1`,`line2`,`name`,`pincode`,`tin`) values (999,'Gurgaon','HARYANA','123456789','Khasra No. 146/25/2/1','Jail Road, Dhumaspur, Badshahpur ','Corporate Office','122101','06101832327');
        update sku, product_variant pv, product p set warehouse_id = 999 where sku.product_variant_id = pv.id and pv.product_id = p.id and p.is_service = 1;
      </sql>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1333446286312-1">
        <dropNotNullConstraint columnDataType="INT" columnName="shipping_order_id" tableName="product_variant_damage_inventory"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1333446286312-2">
        <addNotNullConstraint columnDataType="INT" columnName="sku_item_id" tableName="product_variant_damage_inventory"/>
    </changeSet>

     <changeSet author="Tarun (written)" id="20120402-1">
        <sql>
            CREATE TABLE pincode_default_courier_backup AS (SELECT * FROM pincode_default_courier)
        </sql>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1333365841878-1">
        <addColumn tableName="pincode_default_courier">
            <column name="courier_id_cod" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1333365841878-2">
        <addColumn tableName="pincode_default_courier">
            <column name="courier_id_non_cod" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1333365841878-3">
        <dropForeignKeyConstraint baseTableName="pincode_default_courier" constraintName="fk_pincode_default_courier_courier1"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1333365841878-4">
        <addForeignKeyConstraint baseColumnNames="courier_id_cod" baseTableName="pincode_default_courier" constraintName="fk_pincode_default_courier_cod" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1333365841878-5">
        <addForeignKeyConstraint baseColumnNames="courier_id_non_cod" baseTableName="pincode_default_courier" constraintName="fk_pincode_default_courier_non_cod" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1333365841878-6">
        <dropColumn columnName="courier_id" tableName="pincode_default_courier"/>
    </changeSet>
    <changeSet author="Tarun (written)"   id="20120402-2">
        <sql>
            UPDATE  `pincode_default_courier` SET  `courier_id_cod` =  (SELECT `courier_id` FROM `pincode_default_courier_backup` WHERE `pincode_default_courier_backup`.`cod` = 1 AND `pincode_default_courier_backup`.`pincode_id`=`pincode_default_courier`.`pincode_id`), `courier_id_non_cod` =  (SELECT `courier_id` FROM `pincode_default_courier_backup` WHERE `pincode_default_courier_backup`.`cod` = 0 AND `pincode_default_courier_backup`.`pincode_id`=`pincode_default_courier`.`pincode_id`);
        </sql>
    </changeSet>
    <changeSet author="Tarun (written)"   id="20120402-3">
        <sql>
            DROP TABLE `pincode_default_courier_backup`;
        </sql>
    </changeSet>
    <changeSet author="Tarun (written)"   id="20120402-4">
        <sql>
            delete from `pincode_default_courier` USING `pincode_default_courier`, `pincode_default_courier` AS vtable WHERE (`pincode_default_courier`.`id` > vtable.`id`) AND (`pincode_default_courier`.`pincode_id`=vtable.`pincode_id`);
        </sql>
    </changeSet>

    <changeSet author="Abhay (generated)" id="1333706483689-1">
        <addColumn tableName="shipment">
            <column name="collection_charge" type="DECIMAL(10,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1333706483689-2">
        <addColumn tableName="shipment">
            <column name="estm_collection_charge" type="DECIMAL(10,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1333706483689-3">
        <addColumn tableName="shipment">
            <column name="estm_shipment_charge" type="DECIMAL(10,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1333706483689-4">
        <addColumn tableName="shipment">
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1333706483689-5">
        <addColumn tableName="shipment">
            <column name="shipment_charge" type="DECIMAL(10,2)"/>
        </addColumn>
    </changeSet>

    <changeSet author="Rahul (generated)" id="1333715842775-1">
        <createTable tableName="wh_report_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="line_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipment_charge" type="DECIMAL(10,2)"/>
            <column name="collection_charge" type="DECIMAL(10,2)"/>
            <column name="estm_shipment_charge" type="DECIMAL(10,2)"/>
            <column name="estm_collection_charge" type="DECIMAL(10,2)"/>
            <column name="extra_charge" type="DECIMAL(10,2)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333715842775-2">
        <addColumn tableName="debit_note_line_item">
            <column name="remarks" type="TEXT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333715842775-3">
        <addColumn tableName="debit_note_line_item">
            <column name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333715842775-4">
        <dropForeignKeyConstraint baseTableName="debit_note_line_item" constraintName="fk_debit_note_line_item_product_variant1"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333715842775-5">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="debit_note_line_item" constraintName="fk_debit_note_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333715842775-6">
        <addForeignKeyConstraint baseColumnNames="line_item_id" baseTableName="wh_report_line_item" constraintName="fk_wh_report_line_item_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="line_item"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333715842775-7">
        <dropColumn columnName="product_variant_id" tableName="debit_note_line_item"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1333781139071-1">
        <addColumn tableName="product_variant">
            <column name="cost_price" type="DECIMAL(8,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1333781139071-2">
        <addColumn tableName="product_variant">
            <column name="lead_time" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1333781139071-3">
        <dropNotNullConstraint columnDataType="DECIMAL(10,2)" columnName="cost_price" tableName="sku"/>
    </changeSet>
   <changeSet author="Ajeet (written)" id="1333781139071-4">
     <sql>
       update product_variant set cost_price = 0;
       update product_variant pv, sku sku set pv.cost_price = sku.cost_price where sku.warehouse_id = 1 and sku.product_variant_id = pv.id;
       update product_variant pv, sku sku set pv.cost_price = sku.cost_price where sku.warehouse_id = 2 and sku.product_variant_id = pv.id and sku.cost_price > pv.cost_price;
       update product_variant pv, sku sku set pv.cost_price = sku.cost_price where sku.warehouse_id = 999 and sku.product_variant_id = pv.id and sku.cost_price > pv.cost_price;
     </sql>
   </changeSet>
    <changeSet author="Ajeet (generated)" id="1333781139071-5">
        <dropNotNullConstraint columnDataType="INT" columnName="goods_received_note_id" tableName="debit_note"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1333781139071-6">
        <addColumn tableName="debit_note">
            <column defaultValue="1" name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1333781139071-7">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="debit_note" constraintName="fk_debit_note_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1333781139071-8">
        <addColumn tableName="debit_note">
            <column name="supplier_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1333781139071-9">
        <addForeignKeyConstraint baseColumnNames="supplier_id" baseTableName="debit_note" constraintName="fk_debit_note_supplier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="supplier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1333873396169-1">
        <addNotNullConstraint columnDataType="DECIMAL(8,2)" columnName="cost_price" tableName="product_variant"/>
    </changeSet>

  <changeSet author="Vaibhav (written)" id="20120410-01">
    <sql>

      insert into `warehouse` (`id`,`city`,`state`,`wh_phone`,`line1`,`line2`,`name`,`pincode`,`tin`) values
        (2,'Mumbai','MAHARASHTRA','123456789','Bhiwandi','Nerul Road','Mumbai Warehouse','400101','A/F') on duplicate key update city='Mumbai';
      insert into `warehouse` (`id`,`city`,`state`,`wh_phone`,`line1`,`line2`,`name`,`pincode`,`tin`) values
        (999,'Gurgaon Corporate','HARYANA','123456789','Khasra No. 146/25/2/1','Jail Road, Dhumaspur, Badshahpur ','Corporate Office','122101','06101832327') on duplicate key update city='Gurgaon Corporate';

      insert into seek_invoice_num (id,warehouse_id,invoice_num,prefix,description) values (1,1,1,'R','Retail Invoice 2012');
      insert into seek_invoice_num (id,warehouse_id,invoice_num,prefix,description) values (2,1,1,'S','Service Invoice 2012');
      insert into seek_invoice_num (id,warehouse_id,invoice_num,prefix,description) values (3,1,1,'T','B2B Invoice 2012');
      insert into seek_invoice_num (id,warehouse_id,invoice_num,prefix,description) values (4,2,1,'R','Retail Invoice 2012');
      insert into seek_invoice_num (id,warehouse_id,invoice_num,prefix,description) values (5,2,1,'S','Service Invoice 2012');
      insert into seek_invoice_num (id,warehouse_id,invoice_num,prefix,description) values (6,2,1,'T','B2B Invoice 2012');
      insert into seek_invoice_num (id,warehouse_id,invoice_num,prefix,description) values (7,999,1,'T','Service Invoice 2012');


    </sql>
  </changeSet>

  <changeSet author="RajniHooda" id="20120412-01">
    <sql>

      insert into category values ('hk-brand','HK Brand');
    </sql>
  </changeSet>


  <changeSet author="Seema (generated)" id="1334241904480-1">
    <addColumn tableName="sku">
      <column name="create_date" type="DATETIME"/>
    </addColumn>
  </changeSet>
  <changeSet author="Seema (generated)" id="1334241904480-2">
    <addColumn tableName="sku">
      <column name="update_date" type="DATETIME"/>
    </addColumn>
  </changeSet>
  <changeSet author="Seema (written)" id="20120412-001">
    <sql>
      update sku set create_date = '2012-05-02 10:00:00', update_date = '2012-05-02 10:00:00';
    </sql>
  </changeSet>
  <changeSet author="Seema (generated)" id="1334242265176-1">
    <addNotNullConstraint columnDataType="DATETIME" columnName="create_date" tableName="sku"/>
  </changeSet>
  <changeSet author="Seema (generated)" id="1334242265176-2">
    <addNotNullConstraint columnDataType="DATETIME" columnName="update_date" tableName="sku"/>
  </changeSet>

    <changeSet author="Tarun (generated)" id="1334912510831-1">
        <createTable tableName="payment_history">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="purchase_invoice_id" type="INT"/>
            <column name="purchase_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="amount" type="DECIMAL(2,0)"/>
            <column name="mode_of_payment" type="VARCHAR(45)"/>
            <column name="scheduled_payment_date" type="DATE"/>
            <column name="actual_payment_date" type="DATE"/>
            <column name="remarks" type="VARCHAR(100)"/>
        </createTable>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1334917876974-5">
        <addForeignKeyConstraint baseColumnNames="purchase_invoice_id" baseTableName="payment_history" constraintName="fk_payment_history_purchase_invoice1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_invoice" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1334917876974-6">
        <addForeignKeyConstraint baseColumnNames="purchase_order_id" baseTableName="payment_history" constraintName="fk_payment_history_purchase_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_order" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1334917876974-1">
         <addColumn tableName="pincode_default_courier">
             <column name="estimated_shipping_cost_cod" type="DECIMAL(10,2)"/>
         </addColumn>
     </changeSet>
     <changeSet author="Tarun (generated)" id="1334917876974-2">
         <addColumn tableName="pincode_default_courier">
             <column name="estimated_shipping_cost_non_cod" type="DECIMAL(10,2)"/>
         </addColumn>
     </changeSet>
    <changeSet author="Tarun (generated)" id="1334917876974-8">
        <dropColumn columnName="cod" tableName="pincode_default_courier"/>
    </changeSet>



   <changeSet author="Ajeet (generated)" id="1335525883323-1">
        <createTable tableName="courier_pricing_engine">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="courier_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="region_type_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="first_base_wt" type="DECIMAL(6,2)">
                <constraints nullable="false"/>
            </column>
            <column name="first_base_cost" type="DECIMAL(6,2)">
                <constraints nullable="false"/>
            </column>
            <column name="second_base_wt" type="DECIMAL(6,2)"/>
            <column name="second_base_cost" type="DECIMAL(6,2)"/>
            <column name="additional_wt" type="DECIMAL(6,2)">
                <constraints nullable="false"/>
            </column>
            <column name="additional_cost" type="DECIMAL(6,2)">
                <constraints nullable="false"/>
            </column>
            <column name="fuel_surcharge" type="DECIMAL(5,4)"/>
            <column name="min_cod_charges" type="DECIMAL(6,2)"/>
            <column name="cod_cutoff_amount" type="DECIMAL(5,2)"/>
            <column name="variable_cod_charges" type="DECIMAL(5,4)"/>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-2">
        <createTable tableName="last_stockout">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="CURRENT_TIMESTAMP" name="stockout_date" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="unit_sales" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0.00" name="growth_factor" type="DECIMAL(6,2)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-3">
        <createTable tableName="pincode_region_zone">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="pincode_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="courier_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="region_type_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-4">
        <createTable tableName="region_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-5">
        <createTable tableName="review_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-6">
        <createTable tableName="review_vote">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_review_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="vote_type" remarks="0 = Negative&#10;1 = Positive&#10;999 = Spam" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-7">
        <createTable tableName="user_review">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="title" type="VARCHAR(45)"/>
            <column defaultValueNumeric="2.50" name="star_rating" remarks="Out of 5" type="DECIMAL(4,2)">
                <constraints nullable="false"/>
            </column>
            <column name="review" type="TEXT"/>
            <column name="mood" type="VARCHAR(45)"/>
            <column name="review_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="CURRENT_TIMESTAMP" name="review_date" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="publish_date" type="TIMESTAMP"/>
            <column name="publisher" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-8">
        <addColumn tableName="product_variant">
            <column name="buffer_time" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-9">
        <addColumn tableName="product_variant">
            <column name="consumption_time" remarks="Supply will last within x days" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-10">
        <addColumn tableName="product_variant">
            <column name="following_available_date" type="DATE"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-11">
        <addColumn tableName="product_variant">
            <column name="lead_time_factor" type="DECIMAL(4,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-12">
        <addColumn tableName="product_variant">
            <column name="next_available_date" type="DATE"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-13">
        <modifyDataType columnName="email" newDataType="VARCHAR(200)" tableName="email_recepient"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-14">
        <modifyDataType columnName="name" newDataType="VARCHAR(200)" tableName="email_recepient"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-15">
        <modifyDataType columnName="unsubscribe_token" newDataType="VARCHAR(100)" tableName="email_recepient"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-16">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="courier_pricing_engine" constraintName="fk_courier_pricing_engine_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-17">
        <addForeignKeyConstraint baseColumnNames="region_type_id" baseTableName="courier_pricing_engine" constraintName="fk_courier_pricing_engine_region_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="region_type" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-18">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="courier_pricing_engine" constraintName="fk_courier_pricing_engine_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-19">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="last_stockout" constraintName="fk_last_stockout_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-20">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-21">
        <addForeignKeyConstraint baseColumnNames="pincode_id" baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_pincode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pincode" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-22">
        <addForeignKeyConstraint baseColumnNames="region_type_id" baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_region_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="region_type" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-23">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-24">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="review_vote" constraintName="fk_review_vote_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-25">
        <addForeignKeyConstraint baseColumnNames="user_review_id" baseTableName="review_vote" constraintName="fk_review_vote_user_review1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user_review" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-26">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="user_review" constraintName="fk_user_review_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-27">
        <addForeignKeyConstraint baseColumnNames="publisher" baseTableName="user_review" constraintName="fk_user_review_user2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-28">
        <addForeignKeyConstraint baseColumnNames="review_status_id" baseTableName="user_review" constraintName="fk_user_review_review_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="review_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335525883323-29">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_review" constraintName="fk_user_review_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>

  <changeSet author="Rimal (generated)" id="1334046628464-1">
    <addColumn tableName="user">
      <column name="birth_date" type="DATETIME"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1334046628464-2">
    <addColumn tableName="user">
      <column name="gender" type="VARCHAR(6)"/>
    </addColumn>
  </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-1">
        <createTable tableName="stock_transfer">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="checkout_date" type="DATETIME"/>
            <column name="checkin_date" type="DATETIME"/>
            <column name="remarks" type="TEXT"/>
            <column name="from_warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="to_warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="received_by" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-2">
        <createTable tableName="stock_transfer_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="checkedout_qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="checkedin_qty" type="INT"/>
            <column name="cost_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="mrp" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="stock_transfer_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="batch_number" type="VARCHAR(45)"/>
            <column name="mfg_date" type="DATETIME"/>
            <column name="expiry_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-3">
        <addColumn tableName="product_variant_inventory">
            <column name="stock_transfer_line_item_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-4">
        <addColumn tableName="sku_group">
            <column name="stock_transfer_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-5">
        <addNotNullConstraint columnDataType="VARCHAR(200)" columnName="email" tableName="email_recepient"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-6">
        <dropNotNullConstraint columnDataType="TIMESTAMP" columnName="publish_date" tableName="user_review"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-7">
        <addForeignKeyConstraint baseColumnNames="stock_transfer_line_item_id" baseTableName="product_variant_inventory" constraintName="fk_product_variant_inventory_stock_transfer_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="stock_transfer_line_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-8">
        <addForeignKeyConstraint baseColumnNames="stock_transfer_id" baseTableName="sku_group" constraintName="fk_sku_group_stock_transfer1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="stock_transfer" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-9">
        <addForeignKeyConstraint baseColumnNames="created_by" baseTableName="stock_transfer" constraintName="fk_stock_transfer_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-10">
        <addForeignKeyConstraint baseColumnNames="from_warehouse_id" baseTableName="stock_transfer" constraintName="fk_stock_transfer_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-11">
        <addForeignKeyConstraint baseColumnNames="received_by" baseTableName="stock_transfer" constraintName="fk_stock_transfer_user2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-12">
        <addForeignKeyConstraint baseColumnNames="to_warehouse_id" baseTableName="stock_transfer" constraintName="fk_stock_transfer_warehouse2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-13">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="stock_transfer_line_item" constraintName="fk_stock_transfer_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335597987003-14">
        <addForeignKeyConstraint baseColumnNames="stock_transfer_id" baseTableName="stock_transfer_line_item" constraintName="fk_stock_transfer_line_item_stock_transfer1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="stock_transfer" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335856733106-1">
        <createIndex indexName="stock_transfer_id_UNIQUE" tableName="stock_transfer_line_item" unique="true">
            <column name="stock_transfer_id"/>
            <column name="sku_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Abhay (generated)" id="1335862229851-1">
        <addColumn tableName="region_type">
            <column name="priority" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335869417054-1">
        <addColumn tableName="discount_coupon_mailing_list">
            <column name="request_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1335869417054-2">
        <addColumn tableName="product">
            <column defaultValue="0" name="drop_shipping" type="TINYINT"/>
        </addColumn>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1335937608708-1">
        <dropNotNullConstraint columnDataType="INT" columnName="purchase_order_id" tableName="payment_history"/>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1335956558038-1">
        <modifyDataType columnName="amount" newDataType="DECIMAL(10,2)" tableName="payment_history"/>
    </changeSet>

    <changeSet author="user (generated)" id="1336040367315-1">
        <addColumn tableName="supplier">
            <column name="create_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="user (generated)" id="1336040367315-2">
        <addColumn tableName="supplier">
            <column name="update_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
  <changeSet author="user (written)" id="1336040367315-3">
    <sql>
      update supplier set create_date = '2012-05-02 10:00:00', update_date = '2012-05-02 10:00:00';
    </sql>
  </changeSet>

  <changeSet author="user (generated)" id="1336040945149-2">
      <addNotNullConstraint columnDataType="DATETIME" columnName="create_date" tableName="supplier"/>
  </changeSet>
  <changeSet author="user (generated)" id="1336040945149-3">
      <addNotNullConstraint columnDataType="DATETIME" columnName="update_date" tableName="supplier"/>
  </changeSet>
 <changeSet author="RajniHooda" id="20120504-01">
    <sql>

      insert into tax values (10,'0.1236',0.12360)
    </sql>
  </changeSet>

    <changeSet author="Rahul (generated)" id="1336160116745-1">
        <createTable tableName="store">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="prefix" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1336160116745-2">
        <addColumn tableName="base_order">
            <column name="store_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1336160116745-3">
        <addColumn tableName="user">
            <column name="store_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1336160116745-4">
        <addForeignKeyConstraint baseColumnNames="store_id" baseTableName="base_order" constraintName="fk_base_order_store1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="store" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1336160116745-5">
        <addForeignKeyConstraint baseColumnNames="store_id" baseTableName="user" constraintName="fk_user_store1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="store" referencesUniqueColumn="false"/>
    </changeSet>
   <changeSet author="Rahul" id="20120405-01">
      <sql>
        insert into store values(1,'HealthKart','HK');
        update user set store_id = 1;
        update base_order set store_id = 1;
      </sql>
    </changeSet>

  <changeSet author="Tarun (generated)" id="1336118698201-1">
      <addColumn tableName="payment_history">
          <column name="payment_reference" type="VARCHAR(100)"/>
      </addColumn>
  </changeSet>

    <changeSet author="Rahul (generated)" id="1336160704165-1">
        <addNotNullConstraint columnDataType="INT" columnName="store_id" tableName="base_order"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1336160704165-2">
        <addNotNullConstraint columnDataType="INT" columnName="store_id" tableName="user"/>
    </changeSet>

  <changeSet author="Rimal (generated)" id="1336378786007-1">
    <addColumn tableName="email_campaign">
      <column name="email_type_id" type="INT"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336378786007-3">
    <addForeignKeyConstraint baseColumnNames="email_type_id" baseTableName="email_campaign"
                             constraintName="fk_email_campaign_email_type1"
                             deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                             referencedColumnNames="id" referencedTableName="email_type"
                             referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336472195312-1">
    <addColumn tableName="email_campaign">
      <column defaultValue="0" name="sent_count" type="INT"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336570361449-10">
    <createTable tableName="courier_group">
      <column name="id" type="INT">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="name" type="VARCHAR(45)"/>
      <column name="courier_id" type="INT"/>
    </createTable>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336570361449-20">
    <addColumn tableName="pincode_region_zone">
      <column name="courier_group_id" type="INT">
        <constraints nullable="false"/>
      </column>
    </addColumn>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336570361449-30">
    <dropForeignKeyConstraint baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_courier1"/>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336570361449-40">
    <createIndex indexName="pincode_region_index" tableName="pincode_region_zone" unique="false">
      <column name="pincode_id"/>
      <column name="warehouse_id"/>
      <column name="region_type_id"/>
      <column name="courier_group_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336570361449-50">
    <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="courier_group"
                             constraintName="fk_courier_group_courier1" deferrable="false" initiallyDeferred="false"
                             onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id"
                             referencedTableName="courier"
                             referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336570361449-60">
    <addForeignKeyConstraint baseColumnNames="courier_group_id" baseTableName="pincode_region_zone"
                             constraintName="fk_pincode_region_zone_courier_group1" deferrable="false"
                             initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                             referencedColumnNames="id" referencedTableName="courier_group"
                             referencesUniqueColumn="false"/>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1336570361449-80">
    <dropColumn columnName="courier_id" tableName="pincode_region_zone"/>
  </changeSet>

    <changeSet author="Ajeet (generated)" id="1336994156706-1">
        <createTable tableName="courier_group_has_courier">
            <column name="courier_group_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="courier_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1336994156706-2">
        <addPrimaryKey columnNames="courier_group_id, courier_id" tableName="courier_group_has_courier"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1336994156706-3">
        <dropForeignKeyConstraint baseTableName="courier_group" constraintName="fk_courier_group_courier1"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1336994156706-4">
        <createIndex indexName="unique_user_login_store" tableName="user" unique="true">
            <column name="login"/>
            <column name="store_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1336994156706-5">
        <addForeignKeyConstraint baseColumnNames="courier_group_id" baseTableName="courier_group_has_courier" constraintName="fk_courier_group_has_courier_courier_group1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier_group" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1336994156706-6">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="courier_group_has_courier" constraintName="fk_courier_group_has_courier_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1336994156706-7">
        <dropIndex indexName="unique_user_login" tableName="user"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1336994156706-8">
        <dropColumn columnName="courier_id" tableName="courier_group"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1337252542825-1">
        <createTable tableName="demand_history">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="demand" type="INT"/>
            <column name="demand_date" type="DATE"/>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1337252542825-2">
        <modifyDataType columnName="cod_cutoff_amount" newDataType="DECIMAL(10,4)" tableName="courier_pricing_engine"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1337252542825-3">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="demand_history" constraintName="fk_demand_history_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1337252542825-4">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="demand_history" constraintName="fk_demand_history_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1337341226170-1">
        <createTable tableName="primary_referrer_for_order">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)"/>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1337341226170-3">
        <createTable tableName="secondary_referrer_for_order">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)"/>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1337341226170-4">
        <addColumn tableName="base_order">
            <column name="primary_referrer_for_order_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1337341226170-5">
        <addColumn tableName="base_order">
            <column name="secondary_referrer_for_order_id" type="INT"/>
        </addColumn>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1337341226170-11">
        <addForeignKeyConstraint baseColumnNames="primary_referrer_for_order_id" baseTableName="base_order" constraintName="fk_base_order_primary_referrer_for_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="primary_referrer_for_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1337341226170-12">
        <addForeignKeyConstraint baseColumnNames="secondary_referrer_for_order_id" baseTableName="base_order" constraintName="fk_base_order_secondary_referrer_for_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="secondary_referrer_for_order" referencesUniqueColumn="false"/>
    </changeSet>

   <changeSet author="vaibhav (generated)" id="1337667700199-1">
        <createTable tableName="badge">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="min_score" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="max_score" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="badge_name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-2">
        <createTable tableName="karma_profile">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="activity_name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="points" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-3">
        <createTable tableName="base_order_badge">
            <column name="base_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="badge_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-4">
        <createTable tableName="user_karma_profile">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="karma_points" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-5">
        <addColumn tableName="base_order">
            <column  name="score" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-6">
        <addColumn tableName="pincode">
            <column name="region" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-7">
        <createIndex indexName="activity_name_UNIQUE" tableName="karma_profile" unique="true">
            <column name="activity_name"/>
        </createIndex>
    </changeSet>
     <changeSet author="vaibhav (generated)" id="1337667700199-8">
        <addForeignKeyConstraint baseColumnNames="badge_id" baseTableName="base_order_badge"  constraintName="fk_order_badge_badge1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="badge"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-9">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="base_order_badge"  constraintName="fk_order_badge_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-10">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_karma_profile"  constraintName="fk_user_karma_profile_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1337667700199-11">
        <dropColumn columnName="is_priority_order" tableName="base_order"/>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1337683482005-2">
        <addColumn tableName="base_order">
            <column name="utm_campaign" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1337865338106-1">
        <addColumn tableName="demand_history">
            <column name="base_order_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1337865338106-4">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="demand_history" constraintName="fk_demand_history_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rajni (generated)" id="1338269352780-1">
        <addColumn tableName="purchase_invoice">
            <column name="reconcilation_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rajni (generated)" id="1338270017943-1">
        <createTable tableName="purchase_form_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rajni (generated)" id="1338279032126-1">
        <addColumn tableName="purchase_form_type">
            <column name="description" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rajni (generated)" id="1338295577580-1">
        <addColumn tableName="purchase_invoice">
            <column name="purchase_form_type_id" type="INT"/>
        </addColumn>
    </changeSet>
        <changeSet author="Rajni (generated)" id="1338295577580-4">
        <addForeignKeyConstraint baseColumnNames="purchase_form_type_id" baseTableName="purchase_invoice" constraintName="fk_purchase_invoice_purchase_form_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_form_type" referencesUniqueColumn="false"/>
    </changeSet>
     <changeSet author="Seema (generated)" id="1338892921767-1">
        <addColumn tableName="cart_line_item_config_values">
            <column name="cost_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1338892921767-2">
        <addColumn tableName="variant_config_values">
            <column name="cost_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
        </changeSet>
    <changeSet author="Seema (generated)" id="1339056902031-4">
        <modifyDataType columnName="value" newDataType="VARCHAR(70)" tableName="variant_config_values"/>
    </changeSet>
       <changeSet author="vaibhav (generated)" id="1339582614718-1">
        <addNotNullConstraint columnDataType="VARCHAR(100)" columnName="name" tableName="secondary_referrer_for_order"/>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1339582614718-2">
        <addNotNullConstraint columnDataType="VARCHAR(70)" columnName="value" tableName="variant_config_values"/>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1339582614718-3">
      <createIndex indexName="user_id_UNIQUE" tableName="user_karma_profile" unique="true">
          <column name="user_id"/>
      </createIndex>
  </changeSet>
  <changeSet author="Seema (generated)" id="1338816774783-1">
         <createTable tableName="city_courier_tat">
             <column autoIncrement="true" name="id" type="INT">
                 <constraints nullable="false" primaryKey="true"/>
             </column>
             <column name="city" type="VARCHAR(45)">
                 <constraints nullable="false"/>
             </column>
           <column name="courier_id" type="INT">
                 <constraints nullable="false"/>
             </column>
             <column name="turnaround_time" type="DECIMAL(10,2)">
                 <constraints nullable="false"/>
             </column>
         </createTable>
     </changeSet>
     <changeSet author="Seema (generated)" id="1338816774783-2">
         <addColumn tableName="awb">
             <column name="cod" type="TINYINT">
 <constraints nullable="false"/>
             </column>
         </addColumn>
     </changeSet>
     <changeSet author="Seema (generated)" id="1338816774783-3">
         <addColumn tableName="state_courier_service">
             <column name="preference" type="INT">
                 <constraints nullable="false"/>
             </column>
         </addColumn>
     </changeSet>
     <changeSet author="Seema (generated)" id="1338816774783-8">
         <createIndex indexName="fk_pincode_city" tableName="pincode" unique="false">
             <column name="city"/>
         </createIndex>
     </changeSet>
     <changeSet author="Seema (generated)" id="1338816774783-9">
         <createIndex indexName="fk_pincode_state" tableName="pincode" unique="false">
             <column name="state"/>
         </createIndex>
     </changeSet>
     <changeSet author="Seema (generated)" id="1338816774783-10">
         <addForeignKeyConstraint baseColumnNames="city" baseTableName="city_courier_tat"  constraintName="city_fk" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="city" referencedTableName="pincode"  referencesUniqueColumn="false"/>
     </changeSet>
     <changeSet author="Seema (generated)" id="1338816774783-11">
         <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="city_courier_tat"  constraintName="fk_city_courier_tat_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier"  referencesUniqueColumn="false"/>
     </changeSet>
     <changeSet author="Seema (generated)" id="1338816774783-12">
         <addForeignKeyConstraint baseColumnNames="state" baseTableName="state_courier_service" constraintName="fk_state_pincode" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="state" referencedTableName="pincode"  referencesUniqueColumn="false"/>
     </changeSet>
    <changeSet author="Tarun (generated)" id="1340010134657-3">
        <modifyDataType columnName="created_date" newDataType="DATE" tableName="notify_me"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1340010134657-4">
        <modifyDataType columnName="name" newDataType="VARCHAR(40)" tableName="permission"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1340010134657-5">
        <modifyDataType columnName="permission_name" newDataType="VARCHAR(40)" tableName="role_has_permission"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1340010134657-8">
        <createIndex indexName="notify_me_unique_request" tableName="notify_me" unique="true">
            <column name="email"/>
            <column name="created_date"/>
            <column name="product_variant_id"/>
        </createIndex>
    </changeSet>
          <changeSet author="Seema (generated)" id="1340352635898-1">
        <createTable tableName="city">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-2">
        <createTable tableName="state">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-3">
        <addColumn tableName="city_courier_tat">
            <column name="city_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-4">
        <addColumn tableName="pincode">
            <column name="city_id" type="INT">
                <constraints nullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-5">
        <addColumn tableName="pincode">
            <column name="state_id" type="INT">
                <constraints nullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-6">
        <addColumn tableName="state_courier_service">
            <column name="state_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-7">
        <dropNotNullConstraint columnDataType="DECIMAL(10,2)" columnName="turnaround_time" tableName="city_courier_tat"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-10">
        <addNotNullConstraint columnDataType="INT" columnName="courier_id" tableName="state_courier_service"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-11">
        <dropNotNullConstraint columnDataType="INT" columnName="preference" tableName="state_courier_service"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-12">
        <dropForeignKeyConstraint baseTableName="city_courier_tat" constraintName="city_fk"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-13">
        <dropForeignKeyConstraint baseTableName="state_courier_service" constraintName="fk_state_pincode"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-14">
        <addForeignKeyConstraint baseColumnNames="city_id" baseTableName="city_courier_tat" constraintName="fk_city_courier_tat_city1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="city" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-15">
        <addForeignKeyConstraint baseColumnNames="city_id" baseTableName="pincode" constraintName="fk_pincode_city1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="city" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-16">
        <addForeignKeyConstraint baseColumnNames="state_id" baseTableName="pincode" constraintName="fk_pincode_state1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="state" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-17">
        <addForeignKeyConstraint baseColumnNames="state_id" baseTableName="state_courier_service" constraintName="fk_state_courier_service_state1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="state" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-18">
        <dropIndex indexName="fk_pincode_city" tableName="pincode"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-19">
        <dropIndex indexName="fk_pincode_state" tableName="pincode"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-20">
        <dropColumn columnName="city" tableName="city_courier_tat"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-21">
        <dropColumn columnName="city" tableName="pincode"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-22">
        <dropColumn columnName="state" tableName="pincode"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340352635898-23">
        <dropColumn columnName="state" tableName="state_courier_service"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340372396933-2">
        <addNotNullConstraint columnDataType="INT" columnName="city_id" tableName="pincode"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1340372396933-3">
        <addNotNullConstraint columnDataType="INT" columnName="state_id" tableName="pincode"/>
    </changeSet>

    <changeSet author="Pradeep (generated)" id="1340643537129-4">
        <createTable tableName="user_cat_karma_profile">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="cat_karma_points" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1340279900902-1">
        <createTable tableName="store_product">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="store_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="store_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="hidden" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="Pradeep (generated)" id="1340643537129-19">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="user_cat_karma_profile"  constraintName="fk_user_cat_karma_profile_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1340643537129-20">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_cat_karma_profile"  constraintName="fk_user_cat_karma_profile_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1340279900902-3">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="store_product"  constraintName="fk_store_product_price_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1340279900902-4">
        <addForeignKeyConstraint baseColumnNames="store_id" baseTableName="store_product"  constraintName="fk_store_product_price_store1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="store"  referencesUniqueColumn="false"/>
    </changeSet>

  <changeSet author="Rimal (generated)" id="1340180519838-1">
    <addColumn tableName="email_campaign">
      <column name="html_path" type="VARCHAR(400)"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1340180519838-2">
    <addColumn tableName="email_campaign">
      <column name="subject" type="VARCHAR(250)"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1340180519838-3">
    <addColumn tableName="email_campaign">
      <column name="template_ftl" type="TEXT"/>
    </addColumn>
  </changeSet>
  <changeSet author="Rimal (generated)" id="1340180519838-4">
    <dropNotNullConstraint columnDataType="VARCHAR(80)" columnName="template" tableName="email_campaign"/>
  </changeSet>
    <changeSet author="Rahul (generated)" id="1340900951137-1">
        <createTable tableName="replacement_order">
            <column name="so_ro_id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValueNumeric="0" name="is_rto" type="TINYINT"/>
            <column name="ref_shipping_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1340900951137-2">
        <addColumn tableName="discount_coupon_mailing_list">
            <column name="paid" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1340900951137-3">
        <addColumn tableName="product">
            <column defaultValue="0" name="adv_active" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1340900951137-4">
        <addColumn tableName="product">
            <column defaultValue="1" name="cod_allowed" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1340900951137-5">
        <addColumn tableName="product_variant">
            <column name="other_remark" type="VARCHAR(90)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1340900951137-6">
        <addColumn tableName="product_variant">
            <column name="standard_margin" type="DECIMAL(8,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1340900951137-7">
        <addColumn tableName="product_variant">
            <column name="supplier_code" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1340900951137-10">
        <addForeignKeyConstraint baseColumnNames="ref_shipping_order_id" baseTableName="replacement_order" constraintName="fk_replacement_order_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1340949623064-1">
        <addNotNullConstraint columnDataType="DATE" columnName="created_date" tableName="notify_me"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1340949623064-2">
        <modifyDataType columnName="role_name" newDataType="VARCHAR(40)" tableName="role_has_permission"/>
    </changeSet>
    <changeSet author="Tarun" id="1340949623064-3">
      <sql>
        UPDATE `purchase_invoice` pi SET pi.`reconcilation_date`= DATE_ADD(pi.`create_date`, INTERVAL 3 DAY) WHERE `reconciled`=1 AND `reconcilation_date` IS NULL
      </sql>
    </changeSet>
    <changeSet author="Rimal (generated)" id="1341381517333-1">
        <addColumn tableName="category_image">
            <column name="position" type="VARCHAR(20)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1341923692621-1">
        <createTable tableName="brands_to_audit">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="auditor_user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="brand" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="audit_date" type="DATE">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="audit_status" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1341923692621-2">
        <addColumn tableName="offer">
            <column name="payment_type" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1341923692621-3">
        <addForeignKeyConstraint baseColumnNames="auditor_user_id" baseTableName="brands_to_audit" constraintName="fk_brands_to_audit_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1341941781264-1">
        <addColumn tableName="brands_to_audit">
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1341941781264-2">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="brands_to_audit" constraintName="fk_brands_to_audit_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1342099712051-1">
        <modifyDataType columnName="value" newDataType="VARCHAR(70)" tableName="cart_line_item_config_values"/>
    </changeSet>

    <changeSet author="Shrey (generated)" id="1342445419109-1">
        <addColumn tableName="supplier">
            <column name="brands" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>

    <changeSet author="Shrey (generated)" id="1342445419109-3">
        <addColumn tableName="supplier">
            <column name="dam_exp_cond" type="VARCHAR(500)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1342445419109-4">
        <addColumn tableName="supplier">
            <column name="email_id" type="VARCHAR(50)"/>
        </addColumn>
    </changeSet>
<changeSet author="Shrey (generated)" id="1342445419109-6">
        <addColumn tableName="supplier">
            <column name="terms_of_trade" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
     <changeSet author="Shrey (generated)" id="1342533458649-3">
        <addColumn tableName="supplier">
            <column name="credit_period" type="VARCHAR(10)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1342533458649-4">
               <addColumn tableName="supplier">
            <column name="margins" type="VARCHAR(20)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1342505244718-1">
        <addColumn tableName="shipment">
            <column name="packer" type="VARCHAR(5)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1342505244718-2">
        <addColumn tableName="shipment">
            <column name="picker" type="VARCHAR(5)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1342505244718-3">
        <addColumn tableName="sku_group">
            <column name="cost_price" type="DECIMAL(8,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1342505244718-4">
        <addColumn tableName="sku_group">
            <column name="mrp" type="DECIMAL(8,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-1">
        <createTable tableName="subscription">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="base_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="address_id" type="INT"/>
            <column name="subscription_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="qty_per_delivery" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="qty_delivered" type="INT"/>
            <column name="subscription_period_days" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="frequency_days" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="subscription_price" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="subscription_discount_percent" type="DECIMAL(7,4)">
                <constraints nullable="false"/>
            </column>
            <column name="hk_discount_at_subscription" type="DECIMAL(7,4)">
                <constraints nullable="false"/>
            </column>
            <column name="hk_price_at_subscription" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price_at_subscription" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="marked_price_at_subscription" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="update_date" type="DATETIME"/>
            <column name="start_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="next_shipment_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-2">
        <createTable tableName="subscription_lifecycle">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="subscription_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="subscription_lifecycle_activity_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="comments" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-3">
        <createTable tableName="subscription_lifecycle_activity">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-4">
        <createTable tableName="subscription_order">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="subscription_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="base_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="subscription_order_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="hk_price_now" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="hk_discount_now" type="DECIMAL(7,4)">
                <constraints nullable="false"/>
            </column>
            <column name="marked_price_now" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price_now" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="update_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-5">
        <createTable tableName="subscription_order_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <!--<changeSet author="Ajeet (generated)" id="1342505244718-5">-->
        <!--<addNotNullConstraint columnDataType="VARCHAR(70)" columnName="value" tableName="cart_line_item_config_values"/>-->
    <!--&lt;!&ndash;</changeSet>->-->
    <changeSet author="Seema (generated)" id="1342273389422-100">
        <createTable tableName="awb_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="status" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-6">
        <createTable tableName="subscription_product">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="max_qty_per_delivery" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="min_frequency_days" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="max_frequency_days" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="subscription_discount_180days" type="DECIMAL(7,4)">
                <constraints nullable="false"/>
            </column>
            <column name="subscription_discount_360days" type="DECIMAL(7,4)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-7">
        <createTable tableName="subscription_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-8">
        <addColumn tableName="base_order">
            <column defaultValue="0" name="is_subscription_order" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-9">
        <addColumn tableName="product">
            <column defaultValue="0" name="is_subscribable" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-11">
        <addForeignKeyConstraint baseColumnNames="address_id" baseTableName="subscription"  constraintName="fk_subscription_address1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="address"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-12">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="subscription"  constraintName="fk_subscription_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-13">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="subscription"  constraintName="fk_subscription_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-14">
        <addForeignKeyConstraint baseColumnNames="subscription_status_id" baseTableName="subscription"  constraintName="fk_subscription_subscription_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="subscription_status"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-15">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="subscription"  constraintName="fk_subscription_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-16">
        <addForeignKeyConstraint baseColumnNames="subscription_id" baseTableName="subscription_lifecycle"  constraintName="fk_subscription_lifecycle_subscription1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="subscription"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-17">
        <addForeignKeyConstraint baseColumnNames="subscription_lifecycle_activity_id" baseTableName="subscription_lifecycle"  constraintName="fk_subscription_lifecycle_subscription_lifecycle_activity1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="subscription_lifecycle_activity"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-18">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="subscription_lifecycle"  constraintName="fk_subscription_lifecycle_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-19">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="subscription_order"  constraintName="fk_subscription_order_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-20">
        <addForeignKeyConstraint baseColumnNames="subscription_id" baseTableName="subscription_order"  constraintName="fk_subscription_order_subscription1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="subscription"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-21">
        <addForeignKeyConstraint baseColumnNames="subscription_order_status_id" baseTableName="subscription_order"  constraintName="fk_subscription_order_subscription_order_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="subscription_order_status"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1342694724512-22">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="subscription_product"  constraintName="fk_subscription_product_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342273389422-200">
        <addColumn tableName="awb">
            <column name="awb_status_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342273389422-300">
        <addColumn tableName="shipment">
            <column name="awb_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342274075684-4">
        <sql>
            truncate `awb`;
        </sql>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342273389422-4">
        <addForeignKeyConstraint baseColumnNames="awb_status_id" baseTableName="awb" constraintName="fk_awb_awb_status1"
                                 deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="awb_status"
                                 referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342273389422-5">
        <addForeignKeyConstraint baseColumnNames="awb_id" baseTableName="shipment" constraintName="fk_shipment_awb1"
                                 deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="awb" referencesUniqueColumn="false"/>
    </changeSet>
    <!-- delete shipment which are not present in shipping order -->
    <changeSet author="Seema (generated)" id="1342274075684-3">
        <sql>
            delete s.* from `shipment` s left join `shipping_order` so on s.id=so.shipment_id where so.id is null;
        </sql>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342274075684-14">
        <sql>
            update `shipment` set tracking_id = '' WHERE length(tracking_id) &gt; 17 or length(tracking_id) &lt; 9;
        </sql>
    </changeSet>
    <!-- change all redundant tracking id in shipment to unique values -->
    <changeSet author="Seema (generated)" id="1342274075684-5">
        <sql>
            update `shipment`
            set `tracking_id` = ''
            where `tracking_id` in(
            select v1.id from(
            (select st.tracking_id as id from `shipment` st
            group by st.tracking_id having count(st.id) > 1 )v1
            ));
        </sql>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342274075684-10">
        <sql>
            update `shipment` s inner join shipping_order so on s.id=so.shipment_id
            set s.tracking_id = so.gateway_order_id where s.tracking_id = '';

        </sql>
    </changeSet>
    <!-- populate awb from shipment -->
    <changeSet author="Seema (generated)" id="1342274075684-30">
        <sql>
            insert into awb_status(`id`,`status`) values (10,'Unused'),(20,'Attach'),(30,'Authorization Pending'),(40,'Used');
        </sql>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342274075684-6">
        <sql>
            insert into `awb` (`courier_id`,`awb_number`,`awb_bar_code`,`used`,`warehouse_id`,`cod`,`awb_status_id`)
            select sp.courier_id , sp.tracking_id,sp.tracking_id,1,so.warehouse_id, if (p.payment_mode_id=40,1,0),40
            from `shipment` sp inner join `shipping_order` so on so.shipment_id=sp.id
            inner join `base_order` bo on so.base_order_id=bo.id
            inner join `payment` p on bo.payment_id=p.id;
        </sql>
    </changeSet>
    <!-- populate  awb_id  in shipment -->
    <changeSet author="Seema (generated)" id="1342274075684-7">
        <sql>
            update `shipment` s inner join `awb` a
            set s.awb_id=a.id
            where s.tracking_id = a.awb_number and s.courier_id=a.courier_id;
        </sql>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342290147965-1">
        <addNotNullConstraint columnDataType="INT" columnName="awb_status_id" tableName="awb"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342290147965-2">
        <addNotNullConstraint columnDataType="INT" columnName="awb_id" tableName="shipment"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342290147965-3">
        <dropColumn columnName="tracking_id" tableName="shipment"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342469193763-1">
        <addColumn tableName="shipment">
            <column name="shipping_order_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1342469193763-2">
        <sql>
            update `shipment` s inner join `shipping_order` so
            set s.shipping_order_id=so.id
            where s.id = so.shipment_id;
        </sql>
    </changeSet>
    <changeSet author="Rimal (generated)" id="1342741292282-1">
        <createTable tableName="super_saver_image">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="url" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="alt_text" type="VARCHAR(200)"/>
            <column defaultValueNumeric="0" name="hidden" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="checksum" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="uploaded" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="ranking" type="INT"/>
            <column defaultValueNumeric="0" name="is_main_image" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="product_id" type="VARCHAR(20)"/>
        </createTable>
    </changeSet>
    <changeSet author="Rimal (generated)" id="1342741292282-7">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="super_saver_image"
                                 constraintName="fk_super_saver_image_product1" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="product"
                                 referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1342792751303-1">
        <addNotNullConstraint columnDataType="VARCHAR(70)" columnName="value" tableName="cart_line_item_config_values"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1343128834437-1">
        <addNotNullConstraint columnDataType="INT" columnName="shipping_order_id" tableName="shipment"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1343128834437-2">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="shipment" constraintName="fk_shipment_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1343128834437-3">
        <sql>
       delete from `demand_history` where `base_order_id` is null;
        </sql>
    </changeSet>

    <changeSet author="Seema (generated)" id="1343136104792-1">
        <dropForeignKeyConstraint baseTableName="demand_history"  constraintName="fk_demand_history_base_order1"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1343136104792-2">
        <dropColumn columnName="base_order_id" tableName="demand_history"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1343199117613-1">
        <modifyDataType columnName="awb_bar_code" newDataType="VARCHAR(70)" tableName="awb"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1343199117613-2">
        <modifyDataType columnName="awb_number" newDataType="VARCHAR(70)" tableName="awb"/>
    </changeSet>

     <changeSet author="Tarun (generated)" id="1342434630676-1">
        <createTable tableName="faq">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="question" type="MEDIUMTEXT">
                <constraints nullable="false"/>
            </column>
            <column name="answer" type="MEDIUMTEXT">
                <constraints nullable="false"/>
            </column>
            <column name="primary_category" type="VARCHAR(100)"/>
            <column name="secondary_category" type="VARCHAR(100)"/>
            <column name="keywords" type="VARCHAR(100)"/>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1342684181224-2">
        <addColumn tableName="faq">
            <column name="page_rank" type="INT"/>
        </addColumn>
    </changeSet>
	<changeSet author="Rahul (generated)" id="1343129589883-1">
	    <dropForeignKeyConstraint baseTableName="stock_transfer_line_item" constraintName="fk_stock_transfer_line_item_sku1"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1343129589883-2">
	    <dropForeignKeyConstraint baseTableName="stock_transfer_line_item" constraintName="fk_stock_transfer_line_item_stock_transfer1"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1343129589883-3">
	    <dropIndex indexName="stock_transfer_id_UNIQUE" tableName="stock_transfer_line_item"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1343130936367-1">
	    <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="stock_transfer_line_item" constraintName="fk_stock_transfer_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku" referencesUniqueColumn="false"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1343130936367-2">
	    <addForeignKeyConstraint baseColumnNames="stock_transfer_id" baseTableName="stock_transfer_line_item" constraintName="fk_stock_transfer_line_item_stock_transfer1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="stock_transfer" referencesUniqueColumn="false"/>
	</changeSet>
    <changeSet author="Rahul (generated)" id="1343219588902-1">
        <addNotNullConstraint columnDataType="VARCHAR(70)" columnName="awb_bar_code" tableName="awb"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1343219588902-2">
        <addNotNullConstraint columnDataType="VARCHAR(70)" columnName="awb_number" tableName="awb"/>
    </changeSet>
	<changeSet author="RajniHooda" id="2012-07-25-01">
		<sql>
			update stock_transfer_line_item set batch_number = 'NOBATCH' where batch_number is null;
		</sql>
	</changeSet>
    <changeSet author="Rahul (generated)" id="1343219588902-3">
        <addNotNullConstraint columnDataType="VARCHAR(45)" columnName="batch_number" tableName="stock_transfer_line_item"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1343219588902-4">
        <createIndex indexName="stock_transfer_id_UNIQUE" tableName="stock_transfer_line_item" unique="true">
            <column name="stock_transfer_id"/>
            <column name="sku_id"/>
            <column name="batch_number"/>
        </createIndex>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1343223097728-1">
        <addColumn tableName="pincode">
            <column name="tier" type="VARCHAR(20)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Neha (generated)" id="1343293102089-1">
        <createTable tableName="demand_forecast">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="forecast_date" type="DATE">
                <constraints nullable="false"/>
            </column>
            <column name="forecast_value" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Neha (generated)" id="1343293102089-2">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="demand_forecast" constraintName="fk_demand_forecast_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Neha (generated)" id="1343293102089-3">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="demand_forecast"  constraintName="fk_demand_forecast_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="AdminUser (generated)" id="1343308646000-1">
        <createIndex indexName="variant_wh_date_unique" tableName="demand_forecast" unique="true">
            <column name="warehouse_id"/>
            <column name="product_variant_id"/>
            <column name="forecast_date"/>
        </createIndex>
    </changeSet>
    <changeSet author="Rimal (generated)" id="1343625966349-1">
        <addColumn tableName="super_saver_image">
            <column defaultValue="0" name="deleted" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1343989161150-1">
        <createTable tableName="subscription_cart_line_item">
            <column name="cart_line_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="subscription_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1343989161150-2">
        <addPrimaryKey columnNames="cart_line_item_id, subscription_id" tableName="subscription_cart_line_item"/>
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1343989161150-4">
        <addForeignKeyConstraint baseColumnNames="cart_line_item_id" baseTableName="subscription_cart_line_item" constraintName="fk_subscription_cart_line_item_cart_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cart_line_item" referencesUniqueColumn="false"/>
       <!-- <sql>
            ALTER TABLE subscription_cart_line_item ADD FOREIGN KEY fk_subscription_cart_line_item_cart_line_item1 (cart_line_item_id) REFERENCES cart_line_item(id) ON DELETE CASCADE;
        </sql>-->
    </changeSet>
    <changeSet author="Pradeep (generated)" id="1343989161150-5">
        <addForeignKeyConstraint baseColumnNames="subscription_id" baseTableName="subscription_cart_line_item" constraintName="fk_subscription_cart_line_item_subscription1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="subscription" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pradeep" id="subscription-3-8-2012-01">
        <sql>
            UPDATE base_order SET is_subscription_order=0;
        </sql>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1339071974252-1">
      <createTable tableName="product_referrer">
        <column autoIncrement="true" name="id" type="INT">
          <constraints nullable="false" primaryKey="true"/>
        </column>
        <column name="name" type="VARCHAR(45)">
          <constraints nullable="false"/>
        </column>
      </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1339071974252-2">
      <addColumn tableName="cart_line_item">
        <column name="product_referrer_id" type="INT"/>
      </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1339071974252-3">
      <addColumn tableName="user_product_history">
        <column name="base_order_id" type="INT"/>
      </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1339071974252-6">
      <dropForeignKeyConstraint baseTableName="user_product_history"
                                constraintName="fk_user_product_history_product_thumb_tag1"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1339071974252-7">
      <addForeignKeyConstraint baseColumnNames="product_referrer_id" baseTableName="cart_line_item"
                               constraintName="fk_cart_line_item_product_referrer1" deferrable="false"
                               initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                               referencedColumnNames="id" referencedTableName="product_referrer"
                               referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1339071974252-8">
      <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="user_product_history"
                               constraintName="fk_user_product_history_base_order1" deferrable="false"
                               initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                               referencedColumnNames="id" referencedTableName="base_order"
                               referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1339071974252-9">
      <dropColumn columnName="product_thumb_tag_id" tableName="user_product_history"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1339071974252-10">
      <dropTable tableName="product_thumb_tag"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1344867984432-1">
        <addColumn tableName="debit_note">
            <column name="remarks" type="TEXT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1344867984432-2">
        <addColumn tableName="goods_received_note">
            <column name="remarks" type="TEXT"/>
        </addColumn>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1345107754347-1">
        <createTable tableName="similar_product">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="similar_product_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="relationship" type="VARCHAR(500)"/>
        </createTable>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1345107754347-4">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="similar_product"  constraintName="fk_similar_product_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1345107754347-5">
        <addForeignKeyConstraint baseColumnNames="similar_product_id" baseTableName="similar_product" constraintName="fk_similar_product_product2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product"  referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1345455498259-2">
        <addNotNullConstraint columnDataType="TINYINT" columnName="cod_allowed" defaultNullValue="1" tableName="product"/>
    </changeSet>
    <changeSet author="Neha (generated)" id="1346058956497-1">
        <createIndex indexName="unique_prod_simProd" tableName="similar_product" unique="true">
            <column name="product_id"/>
            <column name="similar_product_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-1">
        <createTable tableName="consignment">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="awb_number" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="cnn_number" type="VARCHAR(25)"/>
            <column name="amount" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column name="payment_mode" type="VARCHAR(15)">
                <constraints nullable="false"/>
            </column>
            <column name="runsheet_id" type="INT"/>
            <column name="consignment_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="hub_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="hkdelivery_payment_reconciliation_id" type="INT"/>
            <column name="address" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-2">
        <createTable tableName="consignment_lifecycle_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="status" type="VARCHAR(60)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-3">
        <createTable tableName="consignment_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="status" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-4">
        <createTable tableName="consignment_tracking">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="create_date" type="DATETIME"/>
            <column name="remarks" type="VARCHAR(45)"/>
            <column name="source_hub_id" type="INT"/>
            <column name="destination_hub_id" type="INT"/>
            <column name="consignment_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT"/>
            <column name="consignment_lifecycle_status_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-5">
        <createTable tableName="hkdelivery_payment_reconciliation">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="expected_amount" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="DATETIME"/>
            <column name="update_date" type="DATETIME"/>
            <column name="user_id" type="INT"/>
            <column name="actual_amount" type="DOUBLE"/>
            <column name="remarks" type="MEDIUMTEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-6">
        <createTable tableName="hub">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
            <column name="address" type="VARCHAR(150)"/>
            <column name="country" type="VARCHAR(50)"/>
            <column name="pincode_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-7">
        <createTable tableName="runsheet">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="update_date" type="DATETIME"/>
            <column name="expected_collection" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column name="actual_collection" type="DOUBLE"/>
            <column name="cod_box_count" type="INT"/>
            <column name="prepaid_box_count" type="INT"/>
            <column name="remarks" type="MEDIUMTEXT"/>
            <column name="hub_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="agent" type="INT"/>
            <column name="runsheet_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="distance_traveled" type="DOUBLE"/>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-8">
        <createTable tableName="runsheet_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="status" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-9">
        <createIndex indexName="awb_number_UNIQUE" tableName="consignment" unique="true">
            <column name="awb_number"/>
        </createIndex>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-10">
        <addForeignKeyConstraint baseColumnNames="consignment_status_id" baseTableName="consignment" constraintName="fk_consignment_consignment_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="consignment_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-11">
        <addForeignKeyConstraint baseColumnNames="hkdelivery_payment_reconciliation_id" baseTableName="consignment" constraintName="fk_consignment_hkdelivery_payment_reconciliation1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="hkdelivery_payment_reconciliation" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-12">
        <addForeignKeyConstraint baseColumnNames="hub_id" baseTableName="consignment" constraintName="fk_consignment_hub1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="hub" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-13">
        <addForeignKeyConstraint baseColumnNames="runsheet_id" baseTableName="consignment" constraintName="fk_consignment_runsheet1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="runsheet" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-14">
        <addForeignKeyConstraint baseColumnNames="consignment_id" baseTableName="consignment_tracking" constraintName="fk_consignment_tracking_consignment1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="consignment" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-15">
        <addForeignKeyConstraint baseColumnNames="consignment_lifecycle_status_id" baseTableName="consignment_tracking" constraintName="fk_consignment_tracking_consignment_lifecycle_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="consignment_lifecycle_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-16">
        <addForeignKeyConstraint baseColumnNames="destination_hub_id" baseTableName="consignment_tracking" constraintName="fk_consignment_tracking_hub2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="hub" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-17">
        <addForeignKeyConstraint baseColumnNames="source_hub_id" baseTableName="consignment_tracking" constraintName="fk_consignment_tracking_hub1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="hub" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-18">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="consignment_tracking" constraintName="fk_consignment_tracking_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-19">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="hkdelivery_payment_reconciliation" constraintName="fk_payment_reconciliation_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-20">
        <addForeignKeyConstraint baseColumnNames="pincode_id" baseTableName="hub" constraintName="fk_hub_pincode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pincode" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-21">
        <addForeignKeyConstraint baseColumnNames="agent" baseTableName="runsheet" constraintName="fk_runsheet_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-22">
        <addForeignKeyConstraint baseColumnNames="hub_id" baseTableName="runsheet" constraintName="fk_runsheet_hub1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="hub" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346140043194-23">
        <addForeignKeyConstraint baseColumnNames="runsheet_status_id" baseTableName="runsheet" constraintName="fk_runsheet_runsheet_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="runsheet_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rajni" id="1346140043194-24">
        <sql>

            INSERT into `state` (`id`,`name`)
            values
            (6,'Haryana') ON DUPLICATE KEY UPDATE name = 'Haryana';

            INSERT into `city` (`id`,`name`)
            values
            (157,'GURGAON') ON DUPLICATE KEY UPDATE name = 'GURGAON';

	        INSERT into `courier` (`id`, `name`)
	        values
	        (500, 'HealthKart Delivery') ON DUPLICATE KEY UPDATE name = 'HealthKart Delivery';

            INSERT into `pincode`
            (`id`,`pincode`,`locality`,`default_courier_id`,`region`,`city_id`,`state_id`,`tier`)
            values
            (4925,'122001','.',500,'Delhi',157,6,'Metros')
            ON DUPLICATE KEY UPDATE pincode = '122001',locality = '.',default_courier_id = 500,region = 'Delhi',city_id = 157,state_id = 6 ,tier = 'Metros';

            INSERT into `hub` (`name`,`address`,`country`,`pincode_id`)
            values
            ('Source Hub','Dummy hub for source','India',4925),
            ('Delivered Hub','Dummy hub for delivered','India',4925);
        </sql>
    </changeSet>
      <changeSet author="Tarun (generated)" id="1346225918880-1">
        <createTable tableName="hub_has_user">
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="hub_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346225918880-2">
        <addForeignKeyConstraint baseColumnNames="hub_id" baseTableName="hub_has_user" constraintName="fk_hub_has_user_hub1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="hub" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1346225918880-3">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="hub_has_user" constraintName="fk_hub_has_user_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
	<changeSet author="rahul" id="09-01-2012">
		<sql>
			INSERT INTO `warehouse` (`id`, `city`, `state`, `wh_phone`, `line1`, `line2`, `name`, `pincode`, `tin`)
			VALUES
			(101, 'Gurgaon Pharma', 'HARYANA', '123456789', 'Khasra No. 146/25/2/1', 'Jail Road, Dhumaspur, Badshahpur
			', 'Gurgaon Pharma Warehouse', '122101', '06101832327');
		</sql>
	</changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-1">
        <createTable tableName="affiliate_category_has_brand">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="affiliate_category_name_id" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column name="brand" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-2">
        <createTable tableName="affiliate_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-3">
        <createTable tableName="coupon_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-4">
        <addColumn tableName="affiliate">
            <column name="affiliate_mode" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-5">
        <addColumn tableName="affiliate">
            <column name="affiliate_status_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-6">
        <addColumn tableName="affiliate">
            <column name="affiliate_type" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-7">
        <addColumn tableName="affiliate">
            <column name="api_key" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-8">
        <addColumn tableName="affiliate">
            <column name="bank_account_number" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-9">
        <addColumn tableName="affiliate">
            <column name="ifsc_code" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-10">
        <addColumn tableName="affiliate">
            <column name="offer_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-11">
        <addColumn tableName="affiliate">
            <column name="valid_days" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-12">
        <addColumn tableName="affiliate">
            <column name="weekly_coupon_limit" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-13">
        <addColumn tableName="check_details">
            <column name="tds" type="DECIMAL(8,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-14">
        <addColumn tableName="coupon">
            <column name="coupon_type_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-15">
        <addForeignKeyConstraint baseColumnNames="affiliate_status_id" baseTableName="affiliate" constraintName="fk_affiliate_affiliate_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="affiliate_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-16">
        <addForeignKeyConstraint baseColumnNames="offer_id" baseTableName="affiliate" constraintName="fk_affiliate_offer1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="offer" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-17">
        <addForeignKeyConstraint baseColumnNames="affiliate_category_name_id" baseTableName="affiliate_category_has_brand" constraintName="fk_affiliate_category_has_brand_affiliate_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="affiliate_category_name" referencedTableName="affiliate_category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1345723398289-18">
        <addForeignKeyConstraint baseColumnNames="coupon_type_id" baseTableName="coupon" constraintName="fk_coupon_coupon_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="coupon_type" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1346752484668-1">
        <createTable tableName="affiliate_has_category">
            <column name="affiliate_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1346752484668-2">
        <addPrimaryKey columnNames="affiliate_id, category_name" tableName="affiliate_has_category"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1346752484668-3">
        <addForeignKeyConstraint baseColumnNames="affiliate_id" baseTableName="affiliate_has_category" constraintName="fk_affiliate_has_category_affiliate1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="affiliate" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1346752484668-4">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="affiliate_has_category" constraintName="fk_affiliate_has_category_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
	<changeSet author="Tarun" id="09-05-2012">
		<sql>
			UPDATE shipment ship, shipping_order so
			SET ship.return_date = date_add(ship.ship_date, INTERVAL 20 DAY)
			WHERE ship.id = so.shipment_id
			AND ship.`return_date` is null
			AND so.shipping_order_status_id = 200
		</sql>
	</changeSet>
	<changeSet author="Rohit (generated)" id="1347279976393-1">
	        <addColumn tableName="goods_received_note">
	            <column name="discount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-2">
	        <addColumn tableName="goods_received_note">
	            <column name="final_payable_amount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-3">
	        <addColumn tableName="goods_received_note">
	            <column name="surcharge_amount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-4">
	        <addColumn tableName="goods_received_note">
	            <column name="tax_amount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-5">
	        <addColumn tableName="goods_received_note">
	            <column name="taxable_amount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-6">
	        <addColumn tableName="grn_line_item">
	            <column name="discount_percent" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-7">
	        <addColumn tableName="grn_line_item">
	            <column name="payable_amount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-8">
	        <addColumn tableName="grn_line_item">
	            <column name="procurement_price" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-9">
	        <addColumn tableName="grn_line_item">
	            <column name="surcharge_amount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-10">
	        <addColumn tableName="grn_line_item">
	            <column name="tax_amount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-11">
	        <addColumn tableName="grn_line_item">
	            <column name="taxable_amount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-12">
	        <addColumn tableName="po_line_item">
	            <column name="discount_percent" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-13">
	        <addColumn tableName="po_line_item">
	            <column name="payable_amount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-14">
	        <addColumn tableName="po_line_item">
	            <column name="procurement_price" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-15">
	        <addColumn tableName="po_line_item">
	            <column name="surcharge_amount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-16">
	        <addColumn tableName="po_line_item">
	            <column name="tax_amount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-17">
	        <addColumn tableName="po_line_item">
	            <column name="taxable_amount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-18">
	        <addColumn tableName="purchase_order">
	            <column name="discount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-19">
	        <addColumn tableName="purchase_order">
	            <column name="final_payable_amount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-20">
	        <addColumn tableName="purchase_order">
	            <column name="surcharge_amount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-21">
	        <addColumn tableName="purchase_order">
	            <column name="tax_amount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
	    <changeSet author="Rohit (generated)" id="1347279976393-22">
	        <addColumn tableName="purchase_order">
	            <column name="taxable_amount" type="DECIMAL(12,2)"/>
	        </addColumn>
	    </changeSet>
    <changeSet author="Pratham (generated)" id="1347259898238-10">
        <addColumn tableName="product_image">
            <column name="image_type" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1347281819426-1">
        <addColumn tableName="base_order">
            <column name="target_dispatch_date" type="DATE"/>
        </addColumn>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1347281819426-2">
        <addColumn tableName="shipping_order">
            <column name="last_esc_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1347281819426-3">
        <addColumn tableName="shipping_order">
            <column name="target_dispatch_date" type="DATE"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1347345974710-1">
        <createTable tableName="feedback">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="base_order_id" type="INT"/>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="recommend_to_friends" type="INT"/>
            <column name="website_experience" type="INT"/>
            <column name="customer_care_experience" type="INT"/>
            <column name="comments" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1347345974710-2">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="feedback" constraintName="fk_feedback_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1347345974710-3">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="feedback" constraintName="fk_feedback_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Marut (generated)" id="1346223650206-1">
        <addColumn tableName="product">
            <column defaultValue="0" name="out_of_stock" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1347689819294-1">
        <createTable tableName="offer_email_domain">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="offer_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="email_domain" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="1" name="active" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1347689819294-2">
        <addForeignKeyConstraint baseColumnNames="offer_id" baseTableName="offer_email_domain" constraintName="fk_offer_email_domain_offer1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="offer" referencesUniqueColumn="false"/>
    </changeSet>

	<changeSet author="Ajeet (generated)" id="1347564843152-1">
        <createTable tableName="update_pv_price">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
	        <column name="new_costprice" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="new_mrp" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="new_hkprice" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="txn_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="updated" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="update_date" type="DATETIME"/>
            <column name="updated_by" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1347564843152-2">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="update_pv_price" constraintName="fk_update_pv_price_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1347564843152-3">
        <addForeignKeyConstraint baseColumnNames="updated_by" baseTableName="update_pv_price" constraintName="fk_update_pv_price_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1347716040167-1">
        <addColumn tableName="update_pv_price">
            <column name="old_costprice" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
	<changeSet author="Ajeet (generated)" id="1347716040167-2">
        <addColumn tableName="update_pv_price">
            <column name="old_mrp" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1347716040167-3">
        <addColumn tableName="update_pv_price">
            <column name="old_hkprice" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham" id="09-17-2012">
        <sql>
            insert into `affiliate_status` (`id`, `name`) values('10','Unverified');
            insert into `affiliate_status` (`id`, `name`) values('20','Verified');
            insert into `affiliate_status` (`id`, `name`) values('30','Rejected');
            insert into `affiliate_status` (`id`, `name`) values('40','Cancelled');
            update affiliate a inner join user u on a.user_id = u.id inner join user_has_role ur on u.id = ur.user_id set affiliate_status_id = 10 where ur.role_name = 'HK_AFFILIATE_UNVERIFIED';
            update affiliate a inner join user u on a.user_id = u.id inner join user_has_role ur on u.id = ur.user_id set affiliate_status_id = 20 where ur.role_name = 'HK_AFFILIATE';
            update affiliate set offer_id = 1142;
            update affiliate set valid_days = 365;
            update affiliate set weekly_coupon_limit= 100;
            insert into `coupon_type` (`id`, `name`) values('10','REFERRAL');
            insert into `coupon_type` (`id`, `name`) values('20','AFFILIATE');
            insert into `coupon_type` (`id`, `name`) values('30','OFFER');
            insert into `affiliate_txn_type` (`id`, `name`) values('5','Pending');
            insert into `affiliate_txn_type` (`id`, `name`) values('13','Payment Due');
            insert into `affiliate_txn_type` (`id`, `name`) values('18','Paid');
            update coupon set coupon_type_id = 20 where offer_id = 1142;
            update coupon set coupon_type_id = 10 where offer_id != 1142 and referrer_user_id is not null;
        </sql>
    </changeSet>
    <changeSet author="Pratham" id="09-18-2012">
        <sql>
            update affiliate set offer_id = 1357;
            update coupon set offer_id = 1357 where referrer_user_id is not null;
        </sql>
    </changeSet>
    <changeSet author="vaibhav" id="1347716040168-1">
		<sql>
			insert into seek_invoice_num (warehouse_id,invoice_num,prefix,description) values(999,1,'R','Corporate Retail Invoice 2012');
		</sql>
	</changeSet>
	<changeSet author="Rohit (generated)" id="1347602311804-1">
        <addColumn tableName="base_order">
            <column defaultValue="0" name="is_delivery_email_sent" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1347619563282-1">
        <createTable tableName="order_email_exclusion">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="email" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="1" name="is_delivery_mail_excluded" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1347619563282-2">
        <createIndex indexName="unique_exclusion_email" tableName="order_email_exclusion" unique="true">
            <column name="email"/>
        </createIndex>
    </changeSet>

    <changeSet author="Tarun (generated)" id="1348554794998-1">
        <addColumn tableName="runsheet">
            <column name="created_by" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1348554794998-2">
        <addForeignKeyConstraint baseColumnNames="created_by" baseTableName="runsheet" constraintName="fk_runsheet_user2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1348648571172-1">
        <createTable tableName="order_payment_reconciliation">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="base_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipping_order_id" type="INT"/>
            <column name="payment_process_type" type="VARCHAR(30)">
                <constraints nullable="false"/>
            </column>
            <column name="reconciled" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="reconciled_amount" type="DECIMAL(12,2)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0.00" name="reward_points_against_cancellation" type="DECIMAL(12,2)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1348648571172-2">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="order_payment_reconciliation" constraintName="fk_order_payment_reconciliation_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1348648571172-3">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="order_payment_reconciliation" constraintName="fk_order_payment_reconciliation_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order" referencesUniqueColumn="false"/>
    </changeSet>
	<changeSet author="Ankit" id="10-11-2012">
	    <sql>
		    create table `pincode_default_courier_bak` as (select * from `pincode_default_courier` );
	    </sql>
	</changeSet>


    <changeSet author="Ankit (generated)" id="1347620653716-1">
        <addColumn tableName="courier_service_info">
            <column name="cod_on_ground_shipping" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ankit (generated)" id="1347620653716-2">
        <addColumn tableName="courier_service_info">
            <column name="ground_shipping_available" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ankit (generated)" id="1347620653716-3">
        <addColumn tableName="product">
            <column defaultValue="0" name="ground_shipping" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1349775702731-1">
        <addColumn tableName="pincode_default_courier">
            <column defaultValue="0" name="cod" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1349775702731-2">
        <addColumn tableName="pincode_default_courier">
            <column name="courier_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1349775702731-3">
        <addColumn tableName="pincode_default_courier">
            <column name="estimated_shipping_cost" type="DECIMAL(10,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1349775702731-4">
        <addColumn tableName="pincode_default_courier">
            <column defaultValue="0" name="ground_shipping" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1349775702731-5">
        <dropForeignKeyConstraint baseTableName="pincode_default_courier" constraintName="fk_pincode_default_courier_cod"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1349775702731-6">
        <dropForeignKeyConstraint baseTableName="pincode_default_courier" constraintName="fk_pincode_default_courier_non_cod"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1349775702731-7">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="pincode_default_courier" constraintName="fk_pincode_default_courier_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1349775702731-8">
        <dropColumn columnName="courier_id_cod" tableName="pincode_default_courier"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1349775702731-9">
        <dropColumn columnName="courier_id_non_cod" tableName="pincode_default_courier"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1349775702731-10">
        <dropColumn columnName="estimated_shipping_cost_cod" tableName="pincode_default_courier"/>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1349775702731-11">
        <dropColumn columnName="estimated_shipping_cost_non_cod" tableName="pincode_default_courier"/>
    </changeSet>
	<changeSet author="Ankit" id="1347620653716-4">
	    <sql>
	        delete from `pincode_default_courier` ;

	        insert into `pincode_default_courier` (pincode_id, warehouse_id,courier_id,estimated_shipping_cost,cod,
	        ground_shipping)
	        select v1.pincode_id,v1.warehouse_id,v1.courier_id,v1.estimated_shipping_cost,v1.cod,v1.ground_shipping
	        from
	        (select pincode_id,warehouse_id,courier_id_cod as courier_id,estimated_shipping_cost_cod as
	        estimated_shipping_cost,'0' as cod,
	        '0' as ground_shipping
	        from `pincode_default_courier_bak`

	        union

	        select pincode_id,warehouse_id,courier_id_non_cod as courier_id,estimated_shipping_cost_non_cod as
	        estimated_shipping_cost,'1' as cod ,
	        '0' as ground_shipping
	        from `pincode_default_courier_bak`
	        )v1 ;
	    </sql>
	</changeSet>

    <changeSet author="Rahul (generated)" id="1349775925334-1">
        <dropTable tableName="pincode_default_courier_bak"/>
    </changeSet>

	<changeSet author="Rahul" id="1349852020790-50">
	    <sql>

			alter table  address add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  affiliate_traffic_details add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  awb add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  campaign_tracking add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  emailer_history add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  base_order add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  order_lifecycle add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  cart_line_item add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP ;
			alter table  shipping_order_lifecycle add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  user_cart add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  base_order_category add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  line_item add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  payment add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  shipping_order add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  coupon add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  email_recepient add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  product add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  shipment add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  product_variant add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  notify_me add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  demand_history add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  purchase_order add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  goods_received_note add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
			alter table  purchase_invoice add column `create_dt` DATETIME, add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;


			update address  set create_dt = create_date;
			update base_order  set create_dt = create_date;
			update coupon  set create_dt = create_date;
			update payment  set create_dt = create_date;
			update product  set create_dt = create_date;
			update product_variant  set create_dt = created_date;
			update purchase_invoice  set create_dt = create_date;
			update purchase_order  set create_dt = create_date;
			update shipping_order  set create_dt = create_date;
			update user_cart  set create_dt = create_date;

		    update base_order  set update_dt = update_date;
		    update purchase_order set update_dt = update_date;
		    update shipping_order set update_dt = update_date;

			update address  set create_dt = now() where create_dt is null;
			update affiliate_traffic_details  set create_dt = now() where create_dt is null;
			update awb  set create_dt = now() where create_dt is null;
			update campaign_tracking set create_dt = now() where create_dt is null;
			update emailer_history  set create_dt = now() where create_dt is null;
			update base_order  set create_dt = now() where create_dt is null;
			update order_lifecycle  set create_dt = now() where create_dt is null;
			update cart_line_item  set create_dt = now() where create_dt is null;
			update shipping_order_lifecycle  set create_dt = now() where create_dt is null;
			update user_cart  set create_dt = now() where create_dt is null;
			update base_order_category  set create_dt = now() where create_dt is null;
			update line_item  set create_dt = now() where create_dt is null;
			update payment  set create_dt = now() where create_dt is null;
			update shipping_order  set create_dt = now() where create_dt is null;
			update coupon  set create_dt = now() where create_dt is null;
			update email_recepient  set create_dt = now() where create_dt is null;
			update product  set create_dt = now() where create_dt is null;
			update shipment  set create_dt = now() where create_dt is null;
			update product_variant  set create_dt = now() where create_dt is null;
			update notify_me  set create_dt = now() where create_dt is null;
			update demand_history  set create_dt = now() where create_dt is null;
			update purchase_order  set create_dt = now() where create_dt is null;
			update goods_received_note  set create_dt = now() where create_dt is null;
			update purchase_invoice  set create_dt = now() where create_dt is null;

			alter table  address MODIFY create_dt datetime NOT NULL;
			alter table  affiliate_traffic_details MODIFY create_dt datetime NOT NULL;
			alter table  awb MODIFY create_dt datetime NOT NULL;
			alter table  campaign_tracking MODIFY create_dt datetime NOT NULL;
			alter table  emailer_history MODIFY create_dt datetime NOT NULL;
			alter table  base_order MODIFY create_dt datetime NOT NULL;
			alter table  order_lifecycle MODIFY create_dt datetime NOT NULL;
			alter table  cart_line_item MODIFY create_dt datetime NOT NULL;
			alter table  shipping_order_lifecycle MODIFY create_dt datetime NOT NULL;
			alter table  user_cart MODIFY create_dt datetime NOT NULL;
			alter table  base_order_category MODIFY create_dt datetime NOT NULL;
			alter table  line_item MODIFY create_dt datetime NOT NULL;
			alter table  payment MODIFY create_dt datetime NOT NULL;
			alter table  shipping_order MODIFY create_dt datetime NOT NULL;
			alter table  coupon MODIFY create_dt datetime NOT NULL;
			alter table  email_recepient MODIFY create_dt datetime NOT NULL;
			alter table  product MODIFY create_dt datetime NOT NULL;
			alter table  shipment MODIFY create_dt datetime NOT NULL;
			alter table  product_variant MODIFY create_dt datetime NOT NULL;
			alter table  notify_me MODIFY create_dt datetime NOT NULL;
			alter table  demand_history MODIFY create_dt datetime NOT NULL;
			alter table  purchase_order MODIFY create_dt datetime NOT NULL;
			alter table  goods_received_note MODIFY create_dt datetime NOT NULL;
			alter table  purchase_invoice MODIFY create_dt datetime NOT NULL;

	    </sql>
	</changeSet>

	<changeSet author="Rahul" id="1349852020790-501">
	    <sql>
		    alter table  user add column `create_dt` DATETIME;
		    alter table  user add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
		    update user  set create_dt = create_date;
		    update user set update_dt = update_date;
		    update user  set create_dt = now() where create_dt is null;
		    alter table  user MODIFY create_dt datetime NOT NULL;
	    </sql>
	</changeSet>

	<changeSet author="Rahul (generated)" id="1349852020790-51">
	    <dropColumn columnName="create_date" tableName="address"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1349852020790-52">
	    <dropColumn columnName="create_date" tableName="base_order"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1349852020790-53">
	    <dropColumn columnName="update_date" tableName="base_order"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1349852020790-54">
	    <dropColumn columnName="create_date" tableName="coupon"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1349852020790-55">
	    <dropColumn columnName="create_date" tableName="payment"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1349852020790-56">
	    <dropColumn columnName="create_date" tableName="product"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1349852020790-57">
	    <dropColumn columnName="created_date" tableName="product_variant"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1349852020790-58">
	    <dropColumn columnName="create_date" tableName="purchase_invoice"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1349852020790-59">
	    <dropColumn columnName="create_date" tableName="purchase_order"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1349852020790-60">
	    <dropColumn columnName="update_date" tableName="purchase_order"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1349852020790-61">
	    <dropColumn columnName="create_date" tableName="shipping_order"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1349852020790-62">
	    <dropColumn columnName="update_date" tableName="shipping_order"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1349852020790-63">
	    <dropColumn columnName="create_date" tableName="user"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1349852020790-64">
	    <dropColumn columnName="update_date" tableName="user"/>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1349852020790-65">
	    <dropColumn columnName="create_date" tableName="user_cart"/>
	</changeSet>

    <changeSet author="Tarun (generated)" id="1350281977808-1">
        <addColumn tableName="rv_line_item">
            <column name="remarks" type="TEXT"/>
        </addColumn>
    </changeSet>
	<changeSet author="Tarun (generated)" id="1349849616633-1">
        <addColumn tableName="consignment">
            <column name="delivery_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
	<changeSet author="Tarun" id="1349849616633-2">
		<sql>
			UPDATE consignment c
			SET c.delivery_date =
						(SELECT MAX(create_date)
						FROM consignment_tracking ct
						WHERE ct.consignment_lifecycle_status_id=80
						AND ct.consignment_id = c.id);
		</sql>
	</changeSet>
    <changeSet author="Neha (generated)" id="1350020589676-1">
        <addColumn tableName="awb">
            <column name="returnAwb_bar_code" type="VARCHAR(70)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Neha (generated)" id="1350020589676-2">
        <addColumn tableName="awb">
            <column name="returnAwb_number" type="VARCHAR(70)"/>
        </addColumn>
    </changeSet>

	<changeSet author="Ajeet (generated)" id="1348919811628-1">
        <addColumn tableName="update_pv_price">
            <column defaultValue="10" name="status" type="INT">
				<constraints nullable="false"/>
            </column>
        </addColumn>
	</changeSet>
	<changeSet author="Ajeet (generated)" id="1348919811628-2">
			<sql>
				update  update_pv_price set status = 10 where updated = 0;
				update  update_pv_price set status = 20 where updated = 1;
			</sql>
	</changeSet>
	<changeSet author="Ajeet (generated)" id="1348919811628-3">
			<dropColumn columnName="updated" tableName="update_pv_price"/>
	</changeSet>
	<changeSet author="Rohit (generated)" id="1350458749534-1">
		<addColumn tableName="base_order">
			<column name="comment_type" type="INT"/>
		</addColumn>
	</changeSet>

	<changeSet author="Ajeet (generated)" id="1350715789183-1">
        <addColumn tableName="goods_received_note">
            <column name="est_payment_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1350715789183-2">
        <addColumn tableName="purchase_invoice">
            <column name="est_payment_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1350715789183-3">
        <addColumn tableName="supplier">
            <column defaultValue="1" name="active" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1350715789183-4">
        <addColumn tableName="supplier">
            <column defaultValue="15" name="credit_days" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1350715789183-5">
        <addColumn tableName="supplier">
            <column defaultValue="7" name="lead_time" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1350715789183-6">
        <addColumn tableName="supplier">
            <column defaultValue="30" name="target_credit_days" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
	<changeSet author="Ajeet (generated)" id="1350715789183-7">
        <addColumn tableName="purchase_order">
            <column name="approval_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1350715789183-8">
        <dropColumn columnName="payment_amount" tableName="goods_received_note"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1350715789183-9">
        <dropColumn columnName="payment_date" tableName="goods_received_note"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1350715789183-10">
        <dropColumn columnName="payment_details" tableName="goods_received_note"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1350715789183-11">
        <dropColumn columnName="invoice_date" tableName="purchase_order"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1350715789183-12">
        <dropColumn columnName="invoice_number" tableName="purchase_order"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1350715789183-13">
        <dropColumn columnName="credit_period" tableName="supplier"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1350715789183-14">
        <dropColumn columnName="po_date" tableName="purchase_order"/>
    </changeSet>

	<changeSet author="Ajeet (written)" id="20121020-01">
		<sql>
			update purchase_order set purchase_order_status_id=1000 where purchase_order_status_id=100;
			update goods_received_note set grn_status_id=30 where grn_status_id=20;
			update purchase_order set po_place_date=update_dt;
		</sql>
	</changeSet>
	<changeSet author="Ajeet (written)" id="20121020-02">
		<sql>
			delete from grn_status where id in (25, 40);
		</sql>
	</changeSet>

    <changeSet author="AdminUser (generated)" id="1351008534081-1">
        <addColumn tableName="base_order">
            <column name="target_del_date" type="DATE"/>
        </addColumn>
    </changeSet>
    <changeSet author="AdminUser (generated)" id="1351008534081-2">
        <addColumn tableName="base_order">
            <column name="target_dispatch_date_on_verify" type="DATE"/>
        </addColumn>
    </changeSet>
    <changeSet author="AdminUser (generated)" id="1351008534081-3">
        <addColumn tableName="shipping_order">
            <column name="target_del_date" type="DATE"/>
        </addColumn>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1351236795227-1">
        <createTable tableName="supplier_balance">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="supplier_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0.00" name="balance" type="DECIMAL(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="balance_date" type="DATE">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1351236795227-2">
        <addForeignKeyConstraint baseColumnNames="supplier_id" baseTableName="supplier_balance" constraintName="fk_supplier_balance_supplier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="supplier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Marut (generated)" id="1351173120154-1">
        <createTable tableName="user_detail">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="phone" type="BIGINT"/>
            <column name="crm_priority" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Marut (generated)" id="1351173120154-4">
        <createIndex indexName="user_detail_key" tableName="user_detail" unique="true">
            <column name="phone"/>
            <column name="user_id"/>
        </createIndex>
    </changeSet>
	<changeSet author="Marut (generated)" id="1351173120154-5">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_detail" constraintName="fk_user_detail_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1351491739428-1">
        <addColumn tableName="feedback">
            <column name="feedback_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

	<changeSet author="Ajeet (written)" id="20121029-01">
		<sql>
			update feedback f, base_order bo set f.feedback_date=bo.update_dt where f.base_order_id=bo.id;
		</sql>
	</changeSet>
	<changeSet author="Tarun (generated)" id="1351231777053-1">
		<dropNotNullConstraint columnDataType="VARCHAR(45)" columnName="phone" tableName="notify_me"/>
	</changeSet>
	<changeSet author="Marut (generated)" id="1351515049101-2">
		<addColumn tableName="user_detail">
			<column name="create_dt" type="DATETIME">
				<constraints nullable="false"/>
			</column>
		</addColumn>
		<sql>
			Update user_detail set create_dt = now();
		</sql>
	</changeSet>

    <changeSet author="Rahul (generated)" id="1351679062102-3">
        <modifyDataType columnName="template_ftl" newDataType="LONGTEXT" tableName="email_campaign"/>
    </changeSet>


    <changeSet author="Tarun (generated)" id="1351849520135-1">
        <createTable tableName="replacement_order_reason">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="TEXT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1351849520135-2">
        <addColumn tableName="replacement_order">
            <column name="replacement_order_reason_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1351849520135-3">
        <addForeignKeyConstraint baseColumnNames="replacement_order_reason_id" baseTableName="replacement_order" constraintName="fk_replacement_order_replacement_order_reason1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="replacement_order_reason" referencesUniqueColumn="false"/>
    </changeSet>
	<changeSet author="Seema (generated)" id="1349781909753-4">
		<sql>
			ALTER TABLE courier MODIFY COLUMN id INT NOT NULL AUTO_INCREMENT;
			ALTER TABLE courier AUTO_INCREMENT=700;
			ALTER TABLE courier_group MODIFY COLUMN id INT NOT NULL AUTO_INCREMENT;
			ALTER TABLE courier_group AUTO_INCREMENT=60;
		</sql>
	</changeSet>
	<changeSet author="Seema (generated)" id="1349781909753-1">
		<addColumn tableName="courier">
			<column name="disabled" type="TINYINT"/>
		</addColumn>
	</changeSet>
	<changeSet author="Seema (generated)" id="1349781909753-2">
		<sql>
			update courier set `disabled` = 1;
			update courier set `disabled` = 0 where `id` in (10,11,13,12,30,40,41,70,71,180,500,600,610);
		</sql>
	</changeSet>
	<changeSet author="Seema (generated)" id="1349782838900-1">
		<addNotNullConstraint columnDataType="TINYINT" columnName="disabled" tableName="courier"/>
	</changeSet>
    <changeSet author="vaibhav (generated)" id="1352662210251-1">
        <createTable tableName="hk_api_user">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(500)">
                <constraints nullable="false"/>
            </column>
            <column name="api_key" type="VARCHAR(500)">
                <constraints nullable="false"/>
            </column>
            <column name="login_success_redirect_url" type="VARCHAR(500)">
                <constraints nullable="false"/>
            </column>
            <column name="home_url" type="VARCHAR(500)">
                <constraints nullable="false"/>
            </column>
            <column name="default_auth_token_expiry" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="enabled" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="create_dt" type="DATE">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="CURRENT_TIMESTAMP" name="update_dt" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1352662210251-2">
        <createIndex indexName="key_UNIQUE" tableName="hk_api_user" unique="true">
            <column name="api_key"/>
        </createIndex>
    </changeSet>
    <changeSet author="vaibhav (generated)" id="1352662210251-3">
        <createIndex indexName="name_UNIQUE" tableName="hk_api_user" unique="true">
            <column name="name"/>
        </createIndex>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1353062520466-1">
        <addColumn tableName="payment">
            <column name="authid_code" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1353062520466-2">
        <addColumn tableName="payment">
            <column name="response_message" type="VARCHAR(200)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1353062520466-3">
        <addColumn tableName="payment">
            <column name="rrn" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1353062592335-4">
        <modifyDataType columnName="error_log" newDataType="VARCHAR(100)" tableName="payment"/>
    </changeSet>
	<changeSet author="Seema (generated)" id="1350638740147-3">
		<dropColumn columnName="used" tableName="awb"/>
	</changeSet>
	<changeSet author="Seema (generated)" id="1350891782684-2">
		<dropForeignKeyConstraint baseTableName="shipment" constraintName="fk_package_courier1"/>
	</changeSet>
	<changeSet author="Seema (generated)" id="1350891782684-6">
		<dropColumn columnName="courier_id" tableName="shipment"/>
	</changeSet>
    <changeSet author="Ajeet (generated)" id="1353661874281-1">
        <createTable tableName="traffic_tracking">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="src_url" type="VARCHAR(500)"/>
            <column name="traffic_src" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="traffic_src_details" type="VARCHAR(200)"/>
            <column defaultValueNumeric="0" name="traffic_src_paid" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="healthkart.com" name="landing_url" type="VARCHAR(500)">
                <constraints nullable="false"/>
            </column>
            <column name="primary_category" type="VARCHAR(80)"/>
            <column name="product_id" type="VARCHAR(20)"/>
            <column name="user_id" type="INT"/>
            <column defaultValue="127.0.1.1" name="ip" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="session_id" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="order_id" type="INT"/>
            <column name="create_dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="CURRENT_TIMESTAMP" name="update_dt" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1353661874281-2">
        <createTable tableName="user_browsing_history">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="traffic_tracking_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="healthkart.com" name="page_url" type="VARCHAR(500)">
                <constraints nullable="false"/>
            </column>
            <column name="primary_category" type="VARCHAR(80)"/>
            <column name="product_id" type="VARCHAR(20)"/>
            <column name="create_dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="CURRENT_TIMESTAMP" name="update_dt" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1353661874281-3">
        <createIndex indexName="unique_page_url" tableName="user_browsing_history" unique="true">
            <column name="traffic_tracking_id"/>
            <column name="page_url"/>
        </createIndex>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1353910530259-1">
        <addColumn tableName="traffic_tracking">
            <column name="user_agent" type="VARCHAR(200)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1353488646624-1">
        <createTable tableName="gateway">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
            <column name="downtime_start_date" type="DATETIME"/>
            <column name="downtime_end_date" type="DATETIME"/>
            <column name="active" type="TINYINT"/>
            <column name="priority" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1353488646624-2">
        <createTable tableName="gateway_issuer_mapping">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="gateway_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="issuer_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="priority" type="INT"/>
            <column name="active" type="INT"/>
            <column name="downtime_start_date" type="DATETIME"/>
            <column name="downtime_end_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1353488646624-3">
        <createTable tableName="issuer">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(100)"/>
            <column name="issuer_type" type="VARCHAR(45)"/>
            <column name="active" type="TINYINT"/>
            <column name="downtime_start_date" type="DATETIME"/>
            <column name="downtime_end_date" type="DATETIME"/>
            <column name="priority" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1353488646624-4">
        <addForeignKeyConstraint baseColumnNames="gateway_id" baseTableName="gateway_issuer_mapping" constraintName="fk_gateway_issuer_mapping_gateway1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="gateway" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1353488646624-5">
        <addForeignKeyConstraint baseColumnNames="issuer_id" baseTableName="gateway_issuer_mapping" constraintName="fk_gateway_issuer_mapping_issuer1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="issuer" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1353504600961-1">
        <addColumn tableName="gateway">
            <column name="image" type="BLOB"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1353504600961-2">
        <addColumn tableName="gateway_issuer_mapping">
            <column name="issuer_code" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1353504600961-3">
        <addColumn tableName="issuer">
            <column name="image" type="BLOB"/>
        </addColumn>
    </changeSet>
    <changeSet author="user (generated)" id="1354013373725-3">
        <addColumn tableName="payment">
            <column name="gateway_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="user (generated)" id="1354013373725-4">
        <addColumn tableName="payment">
            <column name="issuer_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="user (generated)" id="1354013373725-6">
        <addForeignKeyConstraint baseColumnNames="gateway_id" baseTableName="payment" constraintName="fk_payment_gateway1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="gateway" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="user (generated)" id="1354013373725-7">
        <addForeignKeyConstraint baseColumnNames="issuer_id" baseTableName="payment" constraintName="fk_payment_issuer1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="issuer" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="user (generated)" id="1354019828176-3">
        <addColumn tableName="gateway_issuer_mapping">
            <column name="reconciliation_charge" type="DECIMAL(9,6)"/>
        </addColumn>
    </changeSet>
     <changeSet author="Ankit (generated)" id="1352973051747-1">
        <createTable tableName="base_order_has_billing_address">
            <column name="base_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="billing_address_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ankit (generated)" id="1352973051747-2">
        <createTable tableName="billing_address">
            <column name="billing_address_id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ankit (generated)" id="1352973051747-3">
        <createTable tableName="currency_converter">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="base_currency_code" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="foreign_currency_code" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="conversion_rate" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet author="Ankit (generated)" id="1352973051747-4">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="base_order_has_billing_address" constraintName="fk_base_order_has_billing_address_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ankit (generated)" id="1352973051747-5">
        <addForeignKeyConstraint baseColumnNames="billing_address_id" baseTableName="base_order_has_billing_address" constraintName="fk_base_order_has_billing_address_billing_address1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="billing_address_id" referencedTableName="billing_address" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ankit (generated)" id="1352973051747-6">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="billing_address" constraintName="fk_billing_address_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ankit (generated)" id="1353091292276-4">
        <modifyDataType columnName="pin" newDataType="VARCHAR(30)" tableName="address"/>
    </changeSet>
     <changeSet author="Ankit" id="20121127-02">
    <sql>
      insert into currency_converter values (1,'INR','USD',55.05,'2012-11-02 17:29:13');
    </sql>
  </changeSet>
    <changeSet author="Ankit (generated)" id="1354082820156-1">
        <createTable tableName="country">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
            <column name="country_code" type="VARCHAR(6)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ankit (generated)" id="1354082820156-2">
        <addColumn tableName="address">
            <column defaultValue="80" name="country_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
     <changeSet author="Ankit" id="20121128-08">
    <sql>
        insert into country values (1,'ALAND ISLANDS', 'AX');
        insert into country values (2,'ALBANIA', 'AL');
        insert into country values (3,'ALGERIA ', 'DZ');
        insert into country values (4,'AMERICAN SAMOA', 'AS');
        insert into country values (5,'ANDORRA', 'AD');
        insert into country values (6,'ANGUILLA', 'AI');
        insert into country values (7,'ANTARCTICA', 'AQ');
        insert into country values (8,'ANTIGUA AND BARBUDA', 'AG');
        insert into country values (9,'ARGENTINA', 'AR');
        insert into country values (10,'ARMENIA', 'AM');
        insert into country values (11,'ARUBA', 'AW');
        insert into country values (12,'AUSTRALIA', 'AU');
        insert into country values (13,'AUSTRIA', 'AT');
        insert into country values (14,'AZERBAIJAN', 'AZ');
        insert into country values (15,'BAHAMAS', 'BS');
        insert into country values (16,'BAHRAIN', 'BH');
        insert into country values (17,'BANGLADESH', 'BD');
        insert into country values (18,'BARBADOS', 'BB');
        insert into country values (19,'BELGIUM', 'BE');
        insert into country values (20,'BELIZE', 'BZ');
        insert into country values (21,'BENIN', 'BJ');
        insert into country values (22,'BERMUDA', 'BM');
        insert into country values (23,'BHUTAN', 'BT');
        insert into country values (24,'BOSNIA-HERZEGOVINA', 'BA');
        insert into country values (25,'BOTSWANA', 'BW');
        insert into country values (26,'BOUVET ISLAND ', 'BV');
        insert into country values (27,'BRAZIL', 'BR');
        insert into country values (28,'BRITISH INDIAN OCEAN TERRITORY', 'IO');
        insert into country values (29,'BRUNEI DARUSSALAM', 'BN');
        insert into country values (30,'BULGARIA', 'BG');
        insert into country values (31,'BURKINA FASO', 'BF');
        insert into country values (32,'CANADA', 'CA');
        insert into country values (33,'CAPE VERDE', 'CV');
        insert into country values (34,'CAYMAN ISLANDS', 'KY');
        insert into country values (35,'CENTRAL AFRICAN REPUBLIC', 'CF');
        insert into country values (36,'CHILE', 'CL');
        insert into country values (37,'CHINA', 'CN');
        insert into country values (38,'CHRISTMAS ISLAND ', 'CX');
        insert into country values (39,'COCOS (KEELING) ISLANDS', 'CC');
        insert into country values (40,'COLOMBIA', 'CO');
        insert into country values (41,'COOK ISLANDS', 'CK');
        insert into country values (42,'COSTA RICA', 'CR');
        insert into country values (43,'CYPRUS', 'CY');
        insert into country values (44,'CZECH REPUBLIC', 'CZ');
        insert into country values (45,'DENMARK', 'DK');
        insert into country values (46,'DJIBOUTI', 'DJ');
        insert into country values (47,'DOMINICA', 'DM');
        insert into country values (48,'DOMINICAN REPUBLIC', 'DO');
        insert into country values (49,'ECUADOR', 'EC');
        insert into country values (50,'EGYPT', 'EG');
        insert into country values (51,'EL SALVADOR', 'SV');
        insert into country values (52,'ESTONIA', 'EE');
        insert into country values (53,'FALKLAND ISLANDS (MALVINAS)', 'FK');
        insert into country values (54,'FAROE ISLANDS', 'FO');
        insert into country values (55,'FIJI', 'FJ');
        insert into country values (56,'FINLAND', 'FI');
        insert into country values (57,'FRANCE', 'FR');
        insert into country values (58,'FRENCH GUIANA', 'GF');
        insert into country values (59,'FRENCH POLYNESIA', 'PF');
        insert into country values (60,'FRENCH SOUTHERN TERRITORIES', 'TF');
        insert into country values (61,'GABON', 'GA');
        insert into country values (62,'GAMBIA', 'GM');
        insert into country values (63,'GEORGIA', 'GE');
        insert into country values (64,'GERMANY', 'DE');
        insert into country values (65,'GHANA', 'GH');
        insert into country values (66,'GIBRALTAR', 'GI');
        insert into country values (67,'GREECE', 'GR');
        insert into country values (68,'GREENLAND', 'GL');
        insert into country values (69,'GRENADA', 'GD');
        insert into country values (70,'GUADELOUPE', 'GP');
        insert into country values (71,'GUAM', 'GU');
        insert into country values (72,'GUERNSEY', 'GG');
        insert into country values (73,'GUYANA', 'GY');
        insert into country values (74,'HEARD ISLAND AND MCDONALD ISLANDS  HM', '');
        insert into country values (75,'HOLY SEE (VATICAN CITY STATE)', 'VA');
        insert into country values (76,'HONDURAS', 'HN');
        insert into country values (77,'HONG KONG', 'HK');
        insert into country values (78,'HUNGARY', 'HU');
        insert into country values (79,'ICELAND', 'IS');
        insert into country values (80,'INDIA', 'IN');
        insert into country values (81,'INDONESIA', 'ID');
        insert into country values (82,'IRELAND', 'IE');
        insert into country values (83,'ISLE OF MAN', 'IM');
        insert into country values (84,'ISRAEL', 'IL');
        insert into country values (85,'ITALY', 'IT');
        insert into country values (86,'JAMAICA', 'JM');
        insert into country values (87,'JAPAN', 'JP');
        insert into country values (88,'JERSEY', 'JE');
        insert into country values (89,'JORDAN', 'JO');
        insert into country values (90,'KAZAKHSTAN', 'KZ');
        insert into country values (91,'KIRIBATI', 'KI');
        insert into country values (92,'KOREA, REPUBLIC OF', 'KR');
        insert into country values (93,'KUWAIT', 'KW');
        insert into country values (94,'KYRGYZSTAN', 'KG');
        insert into country values (95,'LATVIA', 'LV');
        insert into country values (96,'LESOTHO', 'LS');
        insert into country values (97,'LIECHTENSTEIN', 'LI');
        insert into country values (98,'LITHUANIA', 'LT');
        insert into country values (99,'LUXEMBOURG', 'LU');
        insert into country values (100,'MACAO', 'MO');
        insert into country values (101,'MACEDONIA', 'MK');
        insert into country values (102,'MADAGASCAR', 'MG');
        insert into country values (103,'MALAWI', 'MW');
        insert into country values (104,'MALAYSIA', 'MY');
        insert into country values (105,'MALTA', 'MT');
        insert into country values (106,'MARSHALL ISLANDS', 'MH');
        insert into country values (107,'MARTINIQUE', 'MQ');
        insert into country values (108,'MAURITANIA', 'MR');
        insert into country values (109,'MAURITIUS', 'MU');
        insert into country values (110,'MAYOTTE', 'YT');
        insert into country values (111,'MEXICO', 'MX');
        insert into country values (112,'MICRONESIA, FEDERATED STATES OF', 'FM');
        insert into country values (113,'MOLDOVA, REPUBLIC OF', 'MD');
        insert into country values (114,'MONACO', 'MC');
        insert into country values (115,'MONGOLIA', 'MN');
        insert into country values (116,'MONTENEGRO', 'ME');
        insert into country values (117,'MONTSERRAT', 'MS');
        insert into country values (118,'MOROCCO', 'MA');
        insert into country values (119,'MOZAMBIQUE', 'MZ');
        insert into country values (120,'NAMIBIA', 'NA');
        insert into country values (121,'NAURU', 'NR');
        insert into country values (122,'NEPAL ', 'NP');
        insert into country values (123,'NETHERLANDS', 'NL');
        insert into country values (124,'NETHERLANDS ANTILLES', 'AN');
        insert into country values (125,'NEW CALEDONIA', 'NC');
        insert into country values (126,'NEW ZEALAND', 'NZ');
        insert into country values (127,'NICARAGUA', 'NI');
        insert into country values (128,'NIGER', 'NE');
        insert into country values (129,'NIUE', 'NU');
        insert into country values (130,'NORFOLK ISLAND', 'NF');
        insert into country values (131,'NORTHERN MARIANA ISLANDS', 'MP');
        insert into country values (132,'NORWAY', 'NO');
        insert into country values (133,'OMAN', 'OM');
        insert into country values (134,'PALAU', 'PW');
        insert into country values (135,'PALESTINE', 'PS');
        insert into country values (136,'PANAMA', 'PA');
        insert into country values (137,'PARAGUAY', 'PY');
        insert into country values (138,'PERU', 'PE');
        insert into country values (139,'PHILIPPINES', 'PH');
        insert into country values (140,'PITCAIRN', 'PN');
        insert into country values (141,'POLAND', 'PL');
        insert into country values (142,'PORTUGAL', 'PT');
        insert into country values (143,'PUERTO RICO', 'PR');
        insert into country values (144,'QATAR', 'QA');
        insert into country values (145,'REUNION', 'RE');
        insert into country values (146,'ROMANIA', 'RO');
        insert into country values (147,'RUSSIAN FEDERATION', 'RU');
        insert into country values (148,'RWANDA', 'RW');
        insert into country values (149,'SAINT HELENA', 'SH');
        insert into country values (150,'SAINT KITTS AND NEVIS', 'KN');
        insert into country values (151,'SAINT LUCIA', 'LC');
        insert into country values (152,'SAINT PIERRE AND MIQUELON', 'PM');
        insert into country values (153,'SAINT VINCENT AND THE GRENADINES', 'VC');
        insert into country values (154,'SAMOA', 'WS');
        insert into country values (155,'SAN MARINO', 'SM');
        insert into country values (156,'SAO TOME AND PRINCIPE ', 'ST');
        insert into country values (157,'SAUDI ARABIA', 'SA');
        insert into country values (158,'SENEGAL', 'SN');
        insert into country values (159,'SERBIA', 'RS');
        insert into country values (160,'SEYCHELLES', 'SC');
        insert into country values (161,'SINGAPORE', 'SG');
        insert into country values (162,'SLOVAKIA', 'SK');
        insert into country values (163,'SLOVENIA', 'SI');
        insert into country values (164,'SOLOMON ISLANDS', 'SB');
        insert into country values (165,'SOUTH AFRICA', 'ZA');
        insert into country values (166,'SOUTH GEORGIA AND THE SOUTH SANDWICH ISLANDS', 'GS');
        insert into country values (167,'SPAIN', 'ES');
        insert into country values (168,'SURINAME', 'SR');
        insert into country values (169,'SVALBARD AND JAN MAYEN', 'SJ');
        insert into country values (170,'SWAZILAND', 'SZ');
        insert into country values (171,'SWEDEN', 'SE');
        insert into country values (172,'SWITZERLAND', 'CH');
        insert into country values (173,'TAIWAN, PROVINCE OF CHINA', 'TW');
        insert into country values (174,'TANZANIA, UNITED REPUBLIC OF', 'TZ');
        insert into country values (175,'THAILAND', 'TH');
        insert into country values (176,'TIMOR-LESTE', 'TL');
        insert into country values (177,'TOGO', 'TG');
        insert into country values (178,'TOKELAU', 'TK');
        insert into country values (179,'TONGA', 'TO');
        insert into country values (180,'TRINIDAD AND TOBAGO', 'TT');
        insert into country values (181,'TUNISIA', 'TN');
        insert into country values (182,'TURKEY', 'TR');
        insert into country values (183,'TURKMENISTAN', 'TM');
        insert into country values (184,'TURKS AND CAICOS ISLANDS', 'TC');
        insert into country values (185,'TUVALU', 'TV');
        insert into country values (186,'UGANDA', 'UG');
        insert into country values (187,'UKRAINE', 'UA');
        insert into country values (188,'UNITED ARAB EMIRATES', 'AE');
        insert into country values (189,'UNITED KINGDOM', 'GB');
        insert into country values (190,'UNITED STATES', 'US');
        insert into country values (191,'UNITED STATES MINOR OUTLYING ISLANDS', 'UM');
        insert into country values (192,'URUGUAY', 'UY');
        insert into country values (193,'UZBEKISTAN', 'UZ');
        insert into country values (194,'VANUATU', 'VU');
        insert into country values (195,'VENEZUELA', 'VE');
        insert into country values (196,'VIET NAM', 'VN');
        insert into country values (197,'VIRGIN ISLANDS, BRITISH', 'VG');
        insert into country values (198,'VIRGIN ISLANDS, U.S.', 'VI');
        insert into country values (199,'WALLIS AND FUTUNA', 'WF');
        insert into country values (200,'WESTERN SAHARA', 'EH');
        insert into country values (201,'ZAMBIA', 'ZM');
    </sql>
  </changeSet>
    <changeSet author="Pratham" id="20121129-01">
        <sql>
        INSERT INTO `gateway` (`id`, `name`, `downtime_start_date`, `downtime_end_date`, `active`, `priority`, `image`) VALUES
        (1, 'dummy', NULL, NULL, 0, NULL, NULL),
        (15, 'Techprocess', NULL, NULL, 1, NULL, NULL),
        (80, 'Citrus', NULL, NULL, 1, NULL, NULL),
        (90, 'Ebs', NULL, NULL, 1, NULL, NULL),
        (100, 'Icici', NULL, NULL, 1, NULL, NULL),
        (110, 'Paypal', NULL, NULL, 1, NULL, NULL);

        INSERT INTO `issuer` (`id`, `name`, `issuer_type`, `active`, `downtime_start_date`, `downtime_end_date`, `priority`, `image`) VALUES
        (1, 'Visa', 'Card', 1, NULL, NULL, NULL, 0xffd8ffe000104a46494600010100000100010000ffdb004300090607080706090807080a0a090b0d160f0d0c0c0d1b14151016201d2222201d1f1f2428342c242631271f1f2d3d2d3135373a3a3a232b3f443f384334393a37ffdb0043010a0a0a0d0c0d1a0f0f1a37251f253737373737373737373737373737373737373737373737373737373737373737373737373737373737373737373737373737ffc00011080061010c03012200021101031101ffc4001c0000010403010000000000000000000000000106070802030504ffc40049100001030301040604080a0a03010000000100020304051106071221311341518191a1142261711532425292b1c1d1161723535572829394c22433344354626373a2b244d2e1f1ffc4001a010002030101000000000000000000000004050003060201ffc400311100020202000404050303050000000000010200030411051221511314314115526171a106228132b1e123426291f0ffda000c03010002110311003f009bf3c119091f1b5ec2d771691823b571eab4fd3c99304b2c27b03891e6a8b9ed41b45dff003a9da2a9fea3a9d9ca5ca64d75a6be932ede7cb18c92f638f0f785cedf907f78ff00a4526b78d3d2dcb65441fbc393016c1b57923e5213c1471d23ff0038ff00a456c8aa6785c1f1ccf6b875ef1558fd42bbeb5fe67678636ba349101ca55e1b455fa6d04531f8c461def1cd7b8725a1adc5881d7d0c5aca558a982c7202529abb4cbc9b2691ad9a3796544e3a08483821ceeb1ee1bc7b95b5a1b1c28f533863a1b31d391da8caa97e9752063d267fdebbef4be9553fe267fdebbef4e7e0a7e7fc7f982f9b1da5b3c84b9c28776216b9ea2a6b2f5532cae8a21e8f0efbc905c705c7b8607794e1db4d73e97493218e4731d5354c6658e2380cb8f11ed012f7c4e5c81406dfd65c2cfd9ce4490320a32154cf4aa91ff933fef5df7a0555493c2a67fdebbef4c3e0a7e7fc4a3cd8ed2da020a54ccd92d3be1d0f45248e739f50e92525c7278b881c7dc02791293589c8e53b42d4ec6e05190b85aa3555b34cd189ee529df7e7a28183324a4760ecf69c050e6a1da95fee8e73281edb6d39e421e3211ed79fb0044e3e15d91d5474ef2bb2e54f593ecb3450b0be5918c60e25ce3803bd7865bfd9e190472dda818f3f25d52c07c32aae55d5d4d6bf7eb6a26a97e73bd3485e7cd68c0038003dc992f051fee7fc4a0e5f612da435b4d504882a22908e618f0ec782ddbc154669dc21ccf55c0e411cc77aef5a358ea3b53c7a0dd6a48ea8a6774ac3ecc3b3e4abb383301b469eae503ea259c052ad149d2fa3c5d3e0cbb837f1cb7b1c7cd6f49a1620909e282547fb4dd78fd36d8e82d818fb94acdf2e70de10b7a8e3ac9ea1ecc9ea06caaa7b9c227a99cb3051b31ff91da9723b5564935bea891ee7bafb5c0b8e70d9374780e0163f869a9ff4f5c3f7c533f83ddf30fcc1fcd2f69673209c652a81b677abef53eb0b7d35caeb55534d50e74663965c8c969c1f1014f2101938cf8efc8d2eaec0e3622a10843cb20908e2950a4931c2656d2db25b6c4fbbdbe18ccd4f2b1d3023849193ba73de471f627bae75fededba592ba81e322a607c7ee24703e385e787558c05abb1f59e8764ea874646161bfd1dea3fc8931d435b97c2e3c47b4768f6aeaf3c850a432cd4b50d92373a39e377c669c16b829274a6a46de22f47aadd656c63271c0483ac81dbda126fd41fa64e183918dd6bf71ee3fc465c3f8a0bbfd3b7a37f7926691989a59e239f51f91d801ff00f1380724d0d2926e57c919f971f6f61ffea778e4aee0f673e22fd3a41b35796f307725076dbaf26aafb4f6a8dc0c7451efbc0fce3c7d8dc7d253557d5454547355543b722858e91ee3d4d0327ea555eed5f2dd2e7575f51fd6d4cae95c3b32738ee1c3b96ab8453cf69b0fb45992fa5d4f1ac98d73ded631a5cf71c068e64958a7a6c9ec46f1ab219a466f535062a24cf22e1f107d2e3fb29fdf68aab2e7da048bccc0093668db2b74fe9ca2b7003a48d9bd291d721e2e3e271dca39dbcd6032da2843b886c933878347daa601c028036cd59e93acdf08765b4b4f1c7cf913971ffb2cdf0edd995cc7ea61d7fedaf51888f7217aed3486beeb4746d6979a89e38f7475873803e4569d8f28d98bc0d9966b4ad21a1d376ba52ddd745491b5c38f03ba33cd61aaefb4fa72cb5172a905dd18c471838323cfc56f8f80caebb1a1a30d1803800143bb78b8bdd5b6cb635c4318c7543c679b89dd6f800ef1591c6abcc64053ef19d8dc89b1235bc5d2aef3719ebee12996a2676493c80ea681d407505e24216b95428007b45a4ececc126f37e737c54f3a0b67b67a4b4d1d7dc6963adae9e26ca4cc37991ef0c80d69e1c011c4e4a7b8b5d00000a2a5000e0042dc7d494dbc61118aaaee12b8a48d932a80e3c471f72ea698a3f4fd476ba523225ab8811ecde04f902ac5dc74869eb8870abb3d13dcee6f6c418ffa4dc11e29bf6dd995b2d1a9a8eef6da89991c0e738d34877c64b48043b98c13d795c9e2f5ba30d1075279660447db7972592409567e1d3554cd1c104934ce0d8e36973dc7a80193e4aae6a5bc497ebed65ce4c8e9e4cb1a4fc560e0d1dc00533ed92fbf0769a1410bb13dc5c63e07888c717fd83f6940a789e29ff07a34a6d3efd040b29f642c44250913a824f55b2acdbee5495ac19753ccc940ce33bae071e4ad742f1231af61cb5c320f68551f9f03c959cd075df08e91b4d513973a99ac77eb37d53e6d291f19afa2bfdc42f11bd4470210848a1b04210a49058bb92c9215e192565da05b4dab585d29834358e98cb18030375feb0c7891dcb874d512d24f1cf4ef2c96370731e3982a4cdbb5b7a2bb5bae4d68c4f13a179c7ca61c8c9f73bc945e16bf1196fc61cdd763462cb369674936683bdc7737d1d4b375b26ff473479f88e231e1c72149a392ac7a32f26d17989cf77e4257359203c81cf07771f22559a8ddbcc04758ea58e6e1df0fc8b2a5fe8276bfcfa8fe2376c8f308ae7d4743181b68bd7a06991411bf1357c9b840e7d1b78bbc7d51dea074f1dabde8ddf5754471bc3a9e87fa3c78e591c5e7e9647704cd5afe1d478540dfa9eb14dedccf1471e6ac06c82c7f056948ea66662a2bddd3b89e619c983c38fed285749d95da8350d15b06432693f2a47c98c7171f007bf0ad0c11b2189b1c6d0c631a1ad68e400e0020b8c5fa5150f7ea65b8a9d4b4cc8c055875c55fa76afbc546720d5bd8d20f0c34ee8ffaab335738a7a59a7772898e79cf0e432aa64b23a691f2bfe348e2f27da4e4aab8326dd9bec275947a01304e9d99520acd736a61196c723a53c07c9693f5e1359493b0ca4e9b53565511c29e9303def70fb1ae4db31f931dcfd20d50db893901c141fb7582466a4a19dc3114949bad3da5ae391ff21e2a711c934b691a58ea8b198a06b7d369ddd253b8f0c9c716fb88f30166b06e5a6f566f4f487dcbcc84095c10b64d0cb04d2433c6f8e58dc5af63c60b48e6085ad6b81046e2c20892b6cef6970d0524369d42e2d8630190558190d6f535fec1d4477f6a97e92aa0ac819514b347342f196c91b839aef710aa5f1078735d5d3fa8eeda76a3a5b4d63e104e5d11e31bff0059a7877f349f2b852d84bd4747f10aab208e8de92d2a3098ba1b68b45a95eda2ab8fd12e58e11ef6592fea13c73fe53e784fa041e490d953d4dcae34618ac186c45484f0426e6bfbe7c01a5eb6b18e027737a2833f9c7701e1c4f72f110bb051ef3d27437213da7defe1cd5b52f89fbd4d4bfd1e1c1e0774fac47bdd9f04d44139ff00ea16ce9ac555841ec22966e66dc7c6ca74efc3774ae9651f91a7a57b012323a491a58df01bc7b8263b9a584b1c30e6f03ef561764f66f82747d34923313d69f4993b70e1eaff00c40f12a16d73446dfabeef4f821a2a5ef6e7b1deb7f32071727c5cab147a7b7f12fb2be5ad4ce1a9db6215de91a566a573f2ea5aa70033c9ae01c3ccb9412a50d83d774777b950b8ff005d03656fbd8ec1f278f05df144e7c627b759ce39d3c9ad09329565632821085248650842924626d92dde9da36699adcbe8e564e31d4dceebbc9d9ee55fd5aebbd1b6e36caba29002da885f11cff9863ed554e58df0c8f8a40448c716bc118c11c0ad0f07b375b27680e52e883311c9582b4ea814db2e86f7239ae9a0a4dcf7cadf500f10157c5dd97504aed1b4f6061706b2b5f50fcf22d206e81fb45e7c1179b8de3f27dff1ef2ba6ce4dce248f748f73e471748e25ce713c493c4958a16da5a796aea22a6a7617cd2bdb1c6d1f29c4e00f1c237a28fa4a7d64b7b0bb1ee45597c99b82f3e8f067b07179f1dd1dc54b7d4b9ba76d51596cb476d840dca78c3491f29dcdceef249ef5d258dcab8dd717ff00da8d6b4e450237368555e85a2ef130e0e34ce6039eb77aa3ccaad071d4a79db6d5f41a41b00710ea9aa8db807a9b977d8140a9e7074d525bb981e51fdc0455336c1a9372db75ac70199276440e3e6b73fcea190ac26c829052e87a37f0dea892498e3dae2079342ef8b3f2e3ebb99e630dbc7b8e490f1425e6b33184666b7d016fd4ed754464525c80c36a1adc87f6078eb1ede63c9423a8b4b5e34ecc5973a47362270da867ad13fdcefb0e0ab4385ae7822a885d0cf1b2489e30e63da1cd70ec20f347e2f10b68e87a8945942bf5f7951d0a5bda1ecce9e9a967bb69d618c440c9351e72377acc7d98f9bd9cbb0c4bede1dcb478d929909cc901b2b287462b5c58e6bd84b5ed390e07041f61561365daaa4d4b6570ac731d5f48e11cc47032023d57e3db820fb4155e5483b12aa7c1abdf00ceed4d23c100f0cb48703e47c50dc4e916505bdd6598ee43ea4f44f0506edb2f86b6f90da217660a16ef4983c0cae1f6371e254c97ab8c369b5555c2a4e22a789d23bdb81c00f69381deaad57d5cd5f5b3d654bb7a79e4749211f389c94b38451cf61b0fb7f78464be9797bcf3aeae97b43efb7fa1b6b41dd9a502423a9838b8f802b949d7b3cd496fd2f73a8afaea4a8a895d17470f45bbeae4e5c4e4fb079a7d905c54c506cc0abd730dcb1b1b1b1c6d63006b5a30001c8282b6dd43e8dab21aa0d21b574ad24f6b9a4b4f96e274fe39ad3fa2abbe947f7a65ed1f59506ad6509a4a3a8825a62fc994b4ef35d8e0307b4247818d915640665e9d6197ba326818c74ead98577a0eb8b638bb0c99ee81d93f39a40f3c26aadf4152fa2ada7ab8fe3c12b6507b0b4823ea4f6e4f12b65ee206874c0cb6638f2592d54f2b6686395872c91a1cd3da0f25b562a3682108524821085248842ad9b4ab70b6eb5b9c4d01ac96413b00ec78de3e64ab28a1adbc5bb72aad77360e1231d4f21f683bcdfadc9970ab393235dfa41f25769f691421085a88ba0a41d8cd8fe10d4aeb84cc260b7b379a7aba577068ee1bc7b828fc7b792b19b2fb1fc09a4a95b2b776a6affa44c0f305c3d51dcdc77e52de277f874903d4f497e3a733efb477008295215978ca43fb7aacccb68a20ee42499c3c1a3f994489f9b68ab151ad1d102314b4d1c7c3a89cbbf9930d6b787a7263208b2f3b73027009ec569349d27a0e99b5d36eee98a92305bd877413e6ab35a690d7dd28e89b926a2764581d8e7007c8ab5cd0037006004bf8d3ff0042fdccbf107a98d7d7bab4692a3a3a9f4515267a8e8cb37f7486ee9248383c738e7dab1b0ed0f4dde18d0dae6d24c7fb9ac223778e774f714c5dbcd58757da28c738e29253ecde207f2a8a9738bc36bbb1c31e84c965ec8fa1e92dcb646bc6584387683959642a974f57554c08a6a99e107988a57307915eb92fd79959b925dabdccec352fc7d6bc3c19b7d1ff0013df363b49ef681ab2db63b355c12cec7d6cf0ba3869dae05c4b8119233c1bedf670caae4380c672b2738b9c5ce24b8f1249e27deb14cf0f0d71948dec983db6f8860a4bd85d019b50575796e5b4d4db80e3e53c8e5dcd3e2a3882196a278e0823749348e0c6318325ce3c000ac6e81d38cd2ba7190cee68a993f2f54fcf00ec72cf63470f12a9e29784a4a0f533ac7425f7da34f6e37d11d1d258e178de98f4f38cfc8070d07deee3fb2a1a5d9d5f7975fb51d75c727a392422104f28c706f971f792b8e88c2a3c0a42fbfbce2e7e76262217574e582bb51dc7d02dad619770bc991dbad6b4769ef013abf147a9fb683f883ffaab2cc9a6b6e57600ce456cc360460a44f87eca755b5c4369e91e3b5b523ed58fe2af5663fb2537f12d5c79cc7f9c4ebc17ed19297875f24b231d1c8f8ded2d731c5ae079820e084889dee572cbecf6b8dc3465a27272e14e237feb332c3e6d4e451a6c32b7a6d355746492ea6aa240ec6b8023cc1525ac6e52725ecbf58d6b3b40608421513b8210852489d6997b5ab69b868bac735bbd25296d437033f14e1dff0012ef04f548e6870208041ed5dd4e6b70e3da78c3986a546dd77cd3e08dd77cd3e0adaf4117e6d9f4423a08bf36cfa2139f8d7fc3f3fe209e53eb2b4684b21bfea7a2a2730ba9f7ba59ff00db6f13e3c077ab34d1818c01ee58b218e3396318d3fe56e1660612ecccb392e1b5a025f555e18d4558bb92c92119424b6562d795cdadd63789ba46902a9f1b72eea67abfcab81bedf9cdf156cfe0fa3ce4d25393fed37ee47c1f45fe129ff74d4eabe2e1102f27a7d608d8db3bdcae9b32a66d6eb8b533839b1ca653d7f11a4fd602b27d470bcf1dbe8e29c4f152c0c9434b448d880700798caf4e38734066e579970dad4baaafc31a9096d86c97cabd446be3b7544d411d3b2364b1377c0c64bb20711c4f320051910438b4821c3983cfc15ba2dcaf0d759adb7018afa0a4a91feb42d7fd63d88cc6e2a6a408cbd07695598dcc760caa6410915939f679a4e776f3acb4cd3fe99730783485aff16da47f43b3f7d2ff00ec8bf8c55f29fc4afca37795c48c73e1ef5dcb0692be5fdedf83a8243113fda241b918fda3cfbb2ac250692d3f6e7b5f4767a18e469c87881a5c3bcf15d90d0318e18545bc64eb55affdce9717e63193a1b67b43a6715750e6d65cb1fd76ee1b18ec60eaf7f3f77258ed72f66d3a524a685d8a8b83bd1db8e6198cbcf870fda4f9c2f05c2cb6cba398eb9dbe92acc60861a885afddcf3c64704b05e5ae165bd610534bcabd255520e791460f582acffe0869afd016bfe0e3fb927e0869afd016bfe0e3fb938f8ca7c860be51bbc656c36cde8f69abbbcacc3eaa4e8a3247c8673f1713f4429402d347474f434eca6a386382060c32389a1ad6f1cf00392de925f71bad6b0fbc3117954082c5c3b1648554ea563d77406dfac6ef4e1a437d25d23463a9feb0ff00b2e060f61f05682e7a4ac175ac755dc2d54b5150f003a47b389c0c0cf72f2fe00e94fd0547f40fde9f55c5d1502b29d81036c62589dc8d36175dd0dfae1424802a6983c67e731df73cf829bf2b896cd2361b4d60acb75b20a7a800812460820118239aede12accb96fb8d8a35b84548517462a108434b208421492084214920842149208421492084214920842149208421492084214920842149208421492090734214922a108524821085248210852482108524821085249ffd9),
        (2, 'MasterCard', 'Card', 1, NULL, NULL, NULL, 0xffd8ffe000104a46494600010101006000600000ffdb00430008050607060508070607090808090c130c0c0b0b0c1811120e131c181d1d1b181b1a1f232c251f212a211a1b2634272a2e2f3132311e25363a36303a2c303130ffdb0043010809090c0a0c170c0c1730201b203030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030ffc0001108008e00e103012200021101031101ffc4001f0000010501010101010100000000000000000102030405060708090a0bffc400b5100002010303020403050504040000017d01020300041105122131410613516107227114328191a1082342b1c11552d1f02433627282090a161718191a25262728292a3435363738393a434445464748494a535455565758595a636465666768696a737475767778797a838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae1e2e3e4e5e6e7e8e9eaf1f2f3f4f5f6f7f8f9faffc4001f0100030101010101010101010000000000000102030405060708090a0bffc400b51100020102040403040705040400010277000102031104052131061241510761711322328108144291a1b1c109233352f0156272d10a162434e125f11718191a262728292a35363738393a434445464748494a535455565758595a636465666768696a737475767778797a82838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae2e3e4e5e6e7e8e9eaf2f3f4f5f6f7f8f9faffda000c03010002110311003f00f7fa28a2801334668a6e471cf5a043b349bbd8d52d5355b1d26d4dc6a1731dbc63bb9c67d80ea4fb579a788fe2f80cd1f87ecf78e827b8e07d42ff008915954ad0a7f133d0c1e5b89c6bb508dfcfa1eb05d40c9381556eb56d3ed3fe3eaf6de1ff00ae922aff00335f39ea9e2ed7b543fe99a9dc153d511b627e4b8fd6b14f3d79ae29e392f851f5543842a357ad512f447d2ede30f0e2f5d734ff00fc084ff1a9edfc47a2dd7fc7beab652fb24ea7fad7cc40faff003a31c75a9faf4bf94eb7c1f4ada557f723ead59a3719470c3d41a7ee19e39af96b4ed5b50d35b7585f5cdb31ff009e52951f881d7f1aed341f8b1ac59144d5228efe21fc5f724fcc707f2ad618d84be2d0f2715c298aa4b9a9352fc19ee39a33ed5cef863c67a3788c6db1b8293819304bf2bfe5dc7b8c8ae833e9d6bb63252578ea7cad5a3528cfd9d58d9f98fcd266933eb9154b50d52d6c57f7eff37641f78fe15152ac29479a6ec898c252768abb2f6e1df8a4f317d457217be26b998edb655853d4f2d591717771703134d249fef371f957855f3fa307cb49731e8d3cb6acbe2d0f4092fed22ff5973127fbce0547fdada7ff00cfe41ff7d8af3d0aa3a71f4147e75c0f88aaf4a6bef3a96551eb23d1e2bcb79bfd54f1bffbae0d4bb857998cd5a8350bbb71fb99dd47f77391f91e2b7a5c44bfe5ec2de8653cae4be191e879f6a5cd72963e297036dec5bbfda8ff00c0d74369796f77107b7903afb76fafa57b986c7d0c52fddcb53ceab87ab47e35a16b3466933476aee30168a28a0028a28a0028a2909fc680109ae2fc77e3db4f0e2b5b41b6e35061910e784f763fd2a3f897e365f0e5a7d92c5c36a5329da0f4897a6e3fd05785dc4d25cccf34eef24b21dceec7258f735c188c5727bb1dff0023eb722c85e2ff00da311f0745dffe01735ad6aff5bbc375a95c3cf21e9938541e8a3b0aa19ebee314945792db6eef53f4ca54614a2a14d5920a28a291ad828a28a05641451450165b0f4768e44923764743b95949041f507a8fad7a7f813e27ba345a7788dfcc53c25d91c8f67f5fad7968e7dbeb5d0695e1b4bdb213dc5fc56e5feea70c71efc8fcaa9625e1df31e2e6b84c262695b10bd1add1ed3ac78914e62d35830ef30fbbf87afd6b9c91da472f236e63d58f24d6268308d2a0fb3cbaac57118fb80900a7b039e95b03048f7c57ce63b13571152f2775d3a1f1b0c253c37bb0fbfb8b8a5a28af34d828a28a2c01451450020152db5c4d6b22c96f21471e9d0fe151d15519ca32e68bd49945495a5a9d8e89ae457c1619f0938ec7a1fa56d03915e6792a43270c3907d0d761e1cd63ed89f679cfefd070dfdf1fe35f659566cab3f6359fbdd1f73e7f1982f67fbc86c6f514808fc296be92e79414514530133cd6478a35bb7f0fe8971a85c8c88c6150705d8f0abf9d6be715e23f1a35e6bcd6a3d2a27cc163f338cfde908fe8a7f535857abeca0df53d4ca702f1f8a8d2e9bbf4387d5751b8d56fe7bdbc72f3cee5dc9e9ed8f61d2aa5145782db6eecfd9a14e34e2a11564828a28a468145145001451450014514a3db1f9d02f334b42d361d4a765b8bb4b78940e491927d064d6d7fc22fa676d6a3c1e4fcc9cfeb51c1e1fd11e24336b31f99b46edb22633df14f3e1fd03b6b49ff007f12bcea95b9a5a49af91f3f5b13cf3bc6a34bfc21ff0008be95ff004198ff0034ff00e2aba7d1de182da3b45bf8ee9e30769dcbbb1ef835ccff00c23fa07fd0693fefe254fa7695a2d8ddc7710eb681d0e71e62608ee2b96b255636949bf91c388b5587bd36ff00edd3b11cd19a642eb2441d18321008607208fad3fbd790d59d99e3ec145145200a28a2800a28a2800a74523c4eb24676c8a7208ed4da2a949a69ae82693d19df6917e350b1597187e8ebe86af66b8af0b5f1b7d456166c473fca7d9bb7f87e35da0278afd132cc5ac55052ebd4f93c5d0f6151c7a0ea28a2bd3394a9a95dc765633dd4e711c28cedf4033fd2be5fbfbb92fefa7bc9f996e24691fea4e7ff00adf857bffc54bb6b5f036a25719955621f46600fe99af9fad616b89e3862e5e4608a3dc9c0fe75e5639b6d411fa0f095150a55712fd3ee22e3d451d7a57b9afc27f0eedc9177d3b4b5e65f11743b4f0ff88fec563bc43e523e243b8e4e73cfe15cd530d3a71e667bd82cfb0d8dabec69277b5f6399faf1462bd83c2bf0bf4cbad0ed6e7561702ee64f31c249b76e7a0c7d31585f13fc1fa378634db592c3cf33cf2edcc926e1b4024f1f5c537869c63cec8a5c4385ad88fab53bb95edb6879e515345697330cc36f2c80752884ff002a6cb04b13ec963646f46522b9f965d8f715683d14911d14a066ada693a8baee4b0ba71d8ac2c41fc714d45bd5209558474949229f4eb57749b782eafd63ba9d6de1c12ce5b1fe79ab9e14d18eade29b1d32e9248c4d27ce0fcadb4024ff00235de78bfc11e19d121b76325d44f3311932e72001edc75144e9cbd939be87918dcd6851a91c336f9a4aeada9cc1d17c37db57ff00c8cbfe14d1a2786ffe8307fefea7f853974bf0c3b6d4d4652c78037e49fa7cb52cfa0e816e81ee2eaee153fc522b20fcca62bc9e67fcd2fb8e39626317caeacafe843fd89e1ace3fb61bebe6a7f851fd89e1bcff00c860ff00dfd4ff000a51a678599828d4a5dc7b6fff00ec695b4af0ca63ccd4265cf425b19ffc769733df9a5f70dd74b47527f71d2e846d56c561b2b91731c3f2e430638ec2b4473591e0fd32cbedb25a68f70f3493207dae4e368fe2e838e6bd12d7c37670c7baebf7cdeae703f2ac69e595b1351b86ddd9f338dc552a151abb7f99c893c7a9f4a01cf4aed1f43d2e44c2c417dd1c835c7cd1ff00a44b1c2a5823100004f00f158e2f2fa985b5da77ec6343190ad7495addc6514f68255fbd1483fe006a3ee31ce7818ae0941c7e24d7c8eb528bd98b45072b9dc08c7723028c3633b4e0f438eb49c64b740a49ec1499a307b7e63a56cf877498751495a52e023051b5b1cff9c56f87c34f11354e1bb32ab5e14a2e6d98c8d82191b6b29c8278e7b57a269f71f69b28661fc6a1ab84d4e08edef66861c948db68dc73ce2baaf09cbe6690a3fe79b15febfd6bdfc8e6e96227419e5e6294e946aa36a8a5a2bec4f0ce03e3748cbe1040bd1ee501fa618ff4af2bf005a7dbfc67a543818f3c4847b265bff65af57f8d51193c18cc3a453c6c73f5c7f5ae17e0ada79fe2f3704716f6cedf42481fc89af32bc6f888a3efb29aaa96495a5ebf8ad0f61bad41a1d76c2c06317114d21ff8094ffe2ab82f19e8075bf8a7a640c80c06d9259bfdc476e0fd4ed1f8d6a5fea3bbe2f69d6b93b62b29063ddb24fe8a2bb1fb1c09a8bdf941e7b4422dc7b2824e07e27f957634aadd3e8cf9784e58094671de507f8dcab73a898f5ab1d3a2c16912499c7f75170a3ff1e61f91af3af8c37d6cfe28d16d6f8916b6e3cd9c019cab3018c77cedaddf045f1d7bc65e20d5812608447696e7fd805893f8919fc6aa4be1983c59e3dd4ef7501e658d818ed923cfdf6080b03ec3774aceab7520947abfc0ecc1c29e0b12e55f4e48ddf7bb5b7aea47ff000b6b41b7c25be9979b0770a8bfa6eaeaac9f46f1b78763b992d3ccb59d48d93a0dca4120fd0f1d41ae77c45e30f0ef846f0e9d65a4c735d443e75891515380705bd70474cd75761a9c72f8663d564b65b58dedfed063ce768c67d07f2a74deb6934ccb174d4210ad4694a1ccf46e57b9cafc2ff0ad85847797ce89712add4b0c3230dc51118af1e8720d3f5cf89fa6e93aa5c588d3eea66b77d8ee00519ef8c9cff9e2b8df00fc453a124b6baac4f3dacb21983c606e466e5b8cf233cd7a43e99e18f1ce9a2f05bc5721c6c132a949548ed9ea31e86a2125385a93b33b71942587c5bab98c65283d9a6721e0dd4e3f167c4e9b5586292382ded0f94afc14e00e71c7259aba2f1af8be1b2bc7f0fc36d3cb7f790ec8645c6c477c85c9ce7af278e959ff000b3433a26ade218d98c8b04cb6c8c7a95196fe4cb55a3d674fbbf8aad6d2da2c93a5c18d27c0f976c7d3d7a8359ba9529d35a6b2760af0a55b172f669b85382b7c927fa9bd67a6689f0fbc38f792441991079b36d06499bb01fd07414cf0778db4cf185c5c597d89a191137f97290c19338cfea38f7ad0f1b6bda5e876103eb362f796f2be0011ab80c3919dc7db8ae5ad3e25f846cdfccb2d22e207c60b476f1a1fcc356d29c612517249763928d0ad8ba32abece539b7a4afa2f910e9be18b7d2fe2f2c766aa96ab035e2c78e1770298fc09fd6badf165d787b4d9ad6f75d9634306e304646fdcc71f305192481c03ef599e09d56dbc4de28d4f5ab68a54862b686da3f35403c9676e84fb5735f127c43a52f8a26b5bbd385d496a8a81caab632036067a75fd2b0ad5950a3cf08deece98d1c4633190a356fcd18a4edbff005a9d9783258f59bdd475f8b2619e4105a6e1d22403240ed972c7f01e950f89f51926bd7b6472218be5c038c9f5ab9f0eaf2caf3c2b6cfa7c2208f73af96001b4ef39e071eff8d62eb10b5bea370b3020b485973dc13906bcbce2b54585872ab736e72d2847eb93525f0e893f2d0ab13344fba16319ff00678fe55bba36af65a6d884955da56625f681c7b64d62d9c4d75731c1160bc8703d07d6bb16b7d3f44b2f31e10c070588cb31af272ba559f3564d28aeaf534c6ce9e94dabb7d85d375ab4d466f2a34911b1b86e03047e754b58d3615d56c5a240ad349860bc671839ab7a26ae9a94d22a5b98bca1f78b67f0a74e7cef11c09da0819ff1638afa26a388a0b9da936d6b6f33ca4dd3a8ecada3d09b551691db2c97ac16256071d98f61ef59f05adb6b776b7655becd02ec55231b9b3c9e3b74aa9e349cb5c4106e202a9623dcf4fe46b6340454d1adf68e1932475e4f359a9c6be325439572c52fbcb7074b0eaa5f56477dab69da7c9f6691324004aa28c2fd6aed9dbdbdbc4ef6ca15243e671d3a0ff0ae06f19e4bc998eedcce49c1c9273d3ffad5db126c740c39c34706327d71fe359e07192ad3a8e51b28f96c5e230ea946093bb7b9c4dcc866b8925ecee5f9f735d4f830e6c2703a79bc7e42b92208cfb575de0c5234f989e86538fc8578b93373c6f33f33d0c7a51c3a5e86fd14515f787ce1cdfc46b33a87833538957732c464007525486fe95c07c16bdd374c4d52e751bdb6b5694a2209655438009eff0051f957af488248591c6e0c0839ef5f32f8934c7d1b5dbcb070408262abc7254f2a7f222b8315fbb9c6a1f5d90c16370d5701295af67fd7e0766bae5a49f1906a2d7517d9048d1894b8db81115eb9c6335da78f3c65a6db7862e8e97a8db5c5d4cbe544219958a96e0b707b0cd783e7d6933ce41c1fe75c6b14e31765b9f4f5787a956ab4e729690495bba47af7c21d4749d1fc3129bdd4ad2de6b89d98c72ccaac00014704fb7eb4df879e34d3a3d5b57b5d46e2383ed77b25cc32b9c2b02718cf407815e480ff00907149c77c9e9c76a71c538a8a4b60adc3b46b4aace72779fe07b8788ed3c042fa6d6b5692d669df0eca26ddbf031f701c1e00ea2a6f19f8a34893c15791d96a16a259e011a42b2a965dd853c027a027f2af0a3edf97a519f438fa553c5b57b47739d70cc6f073acdf2fdd6ec7b3af87be1d5fc6ae2eac54850331de6dcffc0777f4ad3ff8493c25e0fd1fecda7dd5bb2464958addc4aecc7d79ebee4d782f1df9f7a01e6858bb2bc62ae54b86fdabe5ab5e528f63d93e1b78c34b960bf7d52f2deceeee6ee4b8659640a08380304f1c018ac6f881278674dba1ab787aea197597b959818a7322839dc4900e39e9f8d79a7e3df38ed56b4cbdfb15ec770f1acc138287a11512c54fd9d9a34ff57e146bbc45293d7ecf47e5e87b2e9fe37f0c78a34a169aec915abba812c17470b9f50dd3e8783558f87fe1a5abf9e6f2c5bfd9fb7161f906ae0ffe12eb40d85d1e1f4c823ff89a17c5b680f3a3c47fe0407fecb5cffda355af7a9ea795fd8f569c9aa0e508be89a3d13c01ace83696da9dc9d42c6d52eaf2468633224588861530bc11c0fd6b89d7bc5da65ceb77aefa5453e6670246da7780700f23d05523e2eb42411a344bf465ff00e2690f8b6d48e74887af1c8ffe26b9b1188a988828ca1a2ecce8c3e59ec6acab4a2ddfcd2b1db7c39f1440219923b2f22d438276633b88e4e063dabbb7bbd1ef22ccb2db48318f9d867f5af3dd2d83d9c529b7580c8bbb60ec48ab79cf07a7b75af3e9e713a17a4e29c56d7d4f0f1982855aae70f77f13a5bfbeb0b2b8b5162223b650d27943381823afe35a976da7ea76804d346f1e43643e306b842b920e718f4e94a477a71cea71725282e597439de5f17cb693baea76da6dc6956e1e2b392340a7e6e473fe355ac6f2d8eaf7f712cf1a8f9634dcc0640f4fc6b92233d40e071ec68fa9a3fb665682504ac3fece5ab727a9a3e22b8173aa48d1b86450003dba67fa9ad5f0ceb10c56cb6975204209d85b8047d6b99033ec3d28e8083c83d4571d2c7d4a5897885bbe86f3c246749516f63b3b87d1edee05d3f926766182a4124e7ae3a7e350f89350b693499238678e46760bf2b83c66b92fe227006792475a08f427f3aed9e732942708c1252fd4e78e5c94949c9bb17d16dbecc372a0057731e33f77d7ae775751e1888c5a3c008e5f2e7f135c65bc2d717090afde91b6e71fe7b735e890c42185634e02a851f8577e46bda4e556db2b1cb98fb8942fb935149457d55cf1c4fad794fc6ef0f168e1d76de3e53115c91e9fc2c7f138fc457ab01d2abdf59c3a859cd6b728b2453294746e841a8ab4d548729dd97636782c446bc7a3d7d0f95ce39c1071de8adcf18f86e7f0ceb125a4cacd11cb41291c3a67f98e86b0fb67b57cfce2e2eccfd9a85686229c6ad3774c28a28a93a6c1451450164145145030a28a28b2158e96c3c5ad6d6b1c4f631ca635da642d827dfa5583e3227ae950fe7ffd6ac0d2352974bbcfb442a1f236b231c022ba05f17ddc8a1934d8ca9e411920d70d5a293ba8dd7a9e0e270b1849b8d3baef7b087c647fe81708fc4ff855fd0b5d7d5efc4074d8a3455dcefbba0f6e2a9af8aef64915174942c480073cd75f69bcdbaf9d1a472903784e47e048ae1af254e3f06afccf3315cb4a36e4b37fdeb9281f28e0023d2802968af26e794148052d148028a28a002939a5a28b2d804271467d39a5ed53e9d6525fdd086352437de23f856ae9c25567c91dd912928479a5d0d9f08d91694debafcab954f73dcff4aeaf9ac8b7b8fb2e20861c4519099ee4671d7d7bd6be78cd7e8996d18d0a2a94775b9f298aa92ab51ce42d14515e91ca1834014b450330fc59e1bb5f12e94f677636bfde8e50398dbb1ffeb7715f3ef89342bef0f6a06cefe2d9fdc71cac83d54f71fcbbd7d398e9d6b2fc41e1fd3f5fb06b4d4615913f85ba143ea0f635cb5f0eaaeab73e8326ceaa65d2e496b07d3b7a1f318e7a7345763e2ef877aa6825a7b656beb31ff2d235cba0ff006947f319ae3bbe3bd78d384a9bb491fa8e131b47170f694649a0a28a2a0ecd428a28a061451fd29704e31ce68136256c685ae5f69a4dbda28996538546049ddfece0f7f4a6787bc39aa7886e7c9d2ed9a400e1e53c469f56f5f6ebed5ed3e08f87f63e1b1f6994addea0460cae3841e8a3b7d7a9f6e95bd3c2bafa49687cde719be170b4dc27efcbb7f5b1cd69df6e36e4ea5124171ce5141f93eb93d6ae119eb5dc6afa2c1a82eeff005738185917f91f515c8dfe9d7362e04f19da7a38e54fe35f3b98e5d5b0f2724af1f23e3e863a188d5e8fb15334b484e3f0a0735e39dc2d145140051452727a0a3c805a0f1d7bd276c9e07a9e95a5a5e8b757e558831467abb0e4fd056d4684ebcb969ab9954ab0a4af3653b3b596f27586dd7739ebec3d4d771a4e991e9d6e513e676e59bd69da7e9b058422381403dd8f258fbd5ded5f7196e571c22e79eb2fc8f9cc5e31d77cb1d884dac464f33cb5dc4e49f7a9b06968af6924b6381b6f70e68a28a6014514500262800d2d1400cd990720735cbf88be1ee85aeb34b2dbfd9ae0ff00cb5b6f909fa8e87f115d5d153282968d1b51af530f2e7a52717e478aeabf07f538642da5dec17083f8240636fea0fe95cd5df80fc4f6a7f79a44cdff005cc87ffd049afa37148476c0c572cb074e5b1f4587e29c7525695a5ea8f994f8675d1d747bf1ff006eeffe153dbf83bc4771feab45bcff0081c453ff0042c57d2846690281597d461dced7c5f896b4a6bf13c234df859e22bbc35d0b6b353f78cb2063f92e47eb5db683f0974ab2db26a92c9a84a3f84fc91ffdf2393f89af42c1ed814a0715d10c3538ea91e3e2b8831d895cae5cabcb420b3b386ce0586d628e18d06155140007d2a70314b4574dac786db6eed898a64b12ca852450ca7b1e86a4a2938a6acc4b430af7c336937cd6e4c0c3a05e57f2ff000ac89fc317f1bfeeca4cbfde0db4d76748466bcaaf94616b6ae367e47652c6d6a6ac99c03e93a827deb39bf05cff002a67f67de7fcfa4fff007ecd7a171e98a315e7be1ea2f69b3ad66b53ac51c0c5a46a12fddb571fef607f5abf6fe16ba7399a54897d07cc6baec7b0a503073c56d4b22c341de4db319e65567a2d0cbb0f0fd9da1dc631349fde7e7f4e95a8178c6071d29d457b54a853a2b969c6c8e19ce537793b89452d15b1014514500145145007ffd9),
        (3, 'Maestro', 'Card', 1, NULL, NULL, NULL, 0x47494638396177005700c400000b61abeaecf0ac2c1bd8dbe2a036465361a158231e00329719191a10436484bde9caccd43032357e49789b9ca33799dce46e65f6ccc9451e64f29f9b8a8b91bdbec5aeaeb54a4b4d7a7a7d5d5d60fcfdfd007dd8e12d0100000000000000000021f90400000000002c00000000770057004005ff60278e64699e68aaae6cebbe702ccf746d9f48026c7cefff401f80813218049ca472c96c2a0506c48da60b5aafd8e08347707abfe0a4617a6264cfe84d97836c2791ecb07cae24903b3b6b21a01950167d0e800a0e7c1a5b1b0a038b031a8e0e158e1a0b0a0a801a01008d8e030f5d04168e0149a0a210027b8e116f129ba34e0277094107b53db507b7b61b00b800bfb5793cb8bebcc4b56b0412cb066ccc4d02cbcc705f767724c269da3e0574dedfb10c44d72c55db5809e3240847df6050e4f1f2f3f4f5f6f7f8f9fafb3108fe0c08004a89e7af60417efd669d5bd8cd9d433663ee655b98a6c027029f045c7cf8909c192b000a48e2f4e00085919836ff3c08608893021f0b0cb144948825264c10086cc2c9218286081026045805c1274b9613c044bca1100880481a141cb8e46843814d141c70e2b561d380035003fca0b9e180844b0b1a986273f227040e0452fd24b5f3ad930ce426523c53a081dfbf80fdaee1e86d603d737bb501184c58ce52842b02a64b4099328304fea6fc33c2d90003cf86218b1e4dbab4e9d3a853ab5ecdba353dc97aaf00480783731c3950a2b0469c38c81011ec1abf0bad2f766fdf6f847b13405c9ef1e33f160bd0a891c074c6cabfc4720ebd3b8f06d9c36cbff31c00d53e3c002840f9f28a458cf0e3cbc7f844abdbf049ee5cc0126a121fb122f5b189020040e20005145460c8ff4b9704e040219c98278a050f4e200006920c450086230520942884d4e585354c81d4d602124a32c006f6ade84a05163478952847d944e001f699a293234971d0c026ab08d096067671d08a2a2392174480628125c903058a52c08c1d3a722384280d10204aab00d02105fdad9284045472c9c1043d32a1ce14cf79b70178f809375e5e6eeed5509c4e3c260f6f7572d3575f70e2d9849ef830d0666fb389d08ea06234375a0e7c9e31db9a2a1881dd1c4638eadaa69c76eae9a7a0862aeaa8a4966aeaa9a8a6aaeaaaacb6caaa643afcc2d52f936636833f465c371d5cd371a6e96a971d0a122f949e60c46dee40f1ab6886d6395b68ec50135eb1fc20202cffa2e9482b28730859dbe7928c7a014f3ed74217d2b900041a2e1bf778fb6d1aeaae4b2d194dbddbc3a5eb7e71813c1fd9eb9b103d14a02da384de50ee71bf146095553b281c9255f92a51300d6d5662717b2a5dac00594e1156540440e137e70d58c845d22fe70540d3032c73dc43cb5a3ce0805d04acc79313457200c1ce72cc1b43bdd1d927132f91b48422542889a5524b236da100d398f8d85200103400359a50f3580d19e515ed40230114b05e00315ad9cb01c04c65250586946492280018f295596c8942c174396a49415dca5029661324da90817b7c2c3063003169f0e07f5bec8452992861826387491100558f352329408e699e85a41381d7b09fff6ff649751e815055f29f31100ea0c923c7e471369686fff79600566b6d00e76fb0ad35e864200012d82521edba5c05e448494b526d2960e20f2cb2c0023b39e07c04597d6e64ca23a539a892d11540fd4b260d40092f7f0c40bef801989f3cf55bf45240058bb4bf0094d4b78fb80563b2bdc8040df8da00bcb70c4bb06400153885cebcf7866b08cf5f7e9a92042738c18889811c40b3d7c02c98a4788c0e82688817a342778d0cbe0b5081f1cb06f1440071bce66089112107e101107b981082f8c2d3c4eaf1417f01a019f91a9768dce5ac04906051711280cfba15a973d02605b96acc7496759acbc44a36b3c18c0c0272845dc1a2573b749518c748c60f329af18c684ca31ad7c8c6368e2604003b),
        (4, 'Citrus', 'Card', 1, NULL, NULL, NULL, 0x89504e470d0a1a0a0000000d49484452000000960000003d0803000000780460fd0000001974455874536f6674776172650041646f626520496d616765526561647971c9653c00000300504c5445f8b15cf0d6b6eeeceaf3b56bf3c082f8b462fdf9f5f58d11f4a447f59829f8bc72f5921cf9c385f58c12efe2d2f1c998fcf5ecf5b261f1cda2f0dfcaf48b0cf1d2adf5a648f3d1a9eeedecf5901afad2a3f58e18efdbc2f1c590f1e3d2f5890af5aa51f1e9e0face9beeeeedf9c991f0d9bef49f3af4c995f6a94df7ad55efddc6eeeae6f69c32f4d1a7f1c289f3d9bafad5a9fdf6eff59420f59017f0e4d5f2be80fbd9b3fbdebdf49b31f9c689fbe2c5f59019fceeddf8b86bf1dac0f58f18f2bc7df0e8def1ca9bf6a039f3ad59f0dec8f5b466f5ae5afcf2e6f4cb99fdf7f1fdfcfaeee8e1f4c68ef0e6daf59522f6a84afbe7cefdfaf7fcead5f9bf7bf1e1cef1c48ef49220f9cb95f3b162fcf3e8f59728f49a2ef0cea6eee9e2f58e13f58b0efad7aef3a951f3af5ef5901dfcf4eaf5bb76fbe8d1f4a241f0eae5f3b76ffcf0e2f7ac52fcecd9f3d0a6f59625f4be7df4d2aafbdab6f69e36f0e7dcf3c997f4cd9defe0cefce8d0f58c0ff2bb79f49e37f8c17ff5a74df8b25ff9c88ef6a23ff59424f4890ceee8dff1e6d9f59627f8b668f5b971f5a13ef1cc9ff6982bfbddb9f4a03cf5ab55eeeeeef58d14fbe0c1f69d35f3d5b1f3aa54f3d3adf4a344f6a13cf69a2ff59a2cf4bc79efdcc4f6a442f2b974f58704fbecdbf2e6d8f0e5d8fce3c6f1e3d3f3dec7f2dcc2f0d7b9fad09ef4c792efebe7fbe7d0f49d36f0e2d1f69726f2d8b8f3d7b6f5af5df3ac56f5992cf5931efdfdfdf5921ff58f15efece8f5931ff0ece8efeae5f4a23ef1dec7f3d6b3efeceaf58b10f59526f58e14f58e16efeae4fdfdfceeece9fcefe1fdfcfceeeae4f3a74bf0d8bbeeeae5efebe6f2ddc5f5921df1c38cf3d8b7f69521f69526f69625f5941efbe3c8eeece8f0eae3f0d4b3f1ddc7fbdfbff3d4b0f4d8b8f3c48bf4c287f5c48af2e4d2f3a74cf4cea1f5911bf0cfa8f4d6b3f2e2d0f4890ef3dabdf8b463f0ece7f59524fbeedef48808fcebd7f6a23cfce4caf59d33fbe6ccf69e35f3a84ff69422fbe9d3fbdbb8f5992ffacc97f6921cf0d3b0f4d0a4f48e14fad8b0f8af57f4b3655bd5ae8b000009844944415478dacc9a7d4013e71dc7a1a49ee148510c31be15341471450b39b4d8534f012b6f1aa4e8442889125faa547cc1b21301879602938bab026bd5aaa92f542d965c427413cc816f2da6d6d6eadae9368f6d3a6757dd56f7d2d9edee9ebb5c1202e40f0cfefe21f75c787e1f7ecff37c9fdff37bf0239e48f3f3d89af74ce8a4ecba660d6385253bf7043f37ef09c01a169c946b7231f5ca99d7b70e2c967f4089c98359978e491f38acd1f952534f5635e69381c1ba20e9198a8dd8c58f07026bc652570c3367ce2d85939ef7395648bc7364f428a595c9649005a1ed56b13d3bcec7580b354e54709badf0bea2a0a0202af1171aad0e15dfd4fdc8a7580bd59c5714b39b688a924e5ff2cdb2d854c696ad9e1fb3f9afa88d36d314cc7e63fb681f627d0aa80cf6a0ac304c11914cba58dac309a87c7ab88c6667daca629f61858011d4d6ac27a76e89c924bb5b4cce84d420db2896ebefe93ec21a0d641d955e25d3be1d427ab4f7145964b98c9b65ab7c8395fe7b8e8a86d793e479923c3788c5f8cb94f2a0a0a0a9315717f35cb181533a822c34bb4cab7d8225e1a8f46d11acf7f387633a48f280df71c866b1586c101a7de701e0ca8c39d7512963bf5a52ec03acd1859c78cacbd828a51d9e9a46a606a16d341052b39ef9f82fc035e8dbcc730ddc30069c7dfc58f99c7f4aba8275fdb3884c32b94c4eab9d1208a442e05a4c2ed2b16f72fc1f3b963f172c3db499f33c2d8d4c2e08835d37430cdb01b892639745dbd83066373e662c55005885c77fc24fed4177e47ab74dda8c24ae0602b623332b8c8b2010fba7f21e17d6b0a39c678b9fa0041138dc3d7b301400dd7818f3c8c0bddec4fe7acbf2c8df39fa6a097db71fb182815f74244ff59d063577c7d2eb264c63df7ed0f003ccc5b2844d579be4f89c16a1af7548cdac7ec3ba9004dc160af2341db77a4ab660bcfef0b4ccd840dc065e5b43995fbffc27f95b02962a1cbdf742bf611537739307cbe80054cb6ae81eb2401b1abd2591b60b8facd4b7dcc81e2b74752a0396ffa6dfb0bac0df8e67f1582345c7dd0246d3b4b818ea545c8c1c5d9d2a85e5fd172da0f05fc80f0b6368317967f1c75cbbea5f2ca0a53032855787286fb1a4ff799c5875609736bfc4e7090d949758ea60d7ae3a4be18afec392ba625d55235e629926b12cf384c9a5e4b0944aa5d075d135ee47ab716c3bbf548b3a9d5d2bb7a99c9ff25e331a8bda3f11b034ae582f9a502fa9cc9309e2cf0afa12d74fe3e5f17373f55876cac6239781628c8dbfc22ed2f707e7486b4fb34daa26acf6a4c8d12af9f74dc79f40c4cd8dd4d4d4a80b570d8f73c1b21e00585f7de13516a3104df7e443398a3854aea34d6a0897c9112ee9514dbc674921887dd6bd722dd2b691e5a883744e837cac06cfdd2f20de92ee0d970457df0808c315bb542216acff8ad7f81c6f07d1bc87202642d4090eabf552c2c6a37a647975c2ae054f718372c460cd263aa33e5fbbb6146bfb886939598f605f8b58bf2ab4fc8d5fcbaa372af05d5c8da3714d0d647b5be5c0b21b96b0501d64aac2e62d16b32bae832c430595ef0c872b0e8a7365bc4cbd53b56efcb52fcfb61b53d84de9e42f11e4b413d619cb0623f8b86d84ee88309ea76959b491c1ba0be454ce66541d0f32c92c83b75893dcb05c0442391e4224d7d688b3a717ac1439fd47a159b5d170f720831509b074599cc43f2457a8f55e727dca0ea28875ca0d4b6b93dc76deba7bc65a65a19f75b4ab424eb732581f011f48c67976c23f4d92655ab3e7e8a0185b9610eb11aff68e25b3ff632ee115d65a9bf686bb6e6d024eec77d90ce2dcee1de414ca63b860c396dd306aa130a12177741f586ad902efb00ee2b07e5da72b5602ef058d6193cf4a3f327583a7b508db0253bfa3a2372fda22bc8d6cec03cba4deef1d96f21d198ad4368d6d57895833f88a88e56976721d401f91e1060fa3689830a86364fd2b24f98d948f573ed13b1604ef2ef20e8b68997b05b2e872936e5ddaafe4b1b60e065eb0e6d7d970056a223678105458bf9e1ce2f70a7b589ca003d4097d61a1e19d5e6211c48cdfdea7711cfa6fe93bfe2d1c9652c24f2ed954eee85c1f067b1a43e97bb17738694bdd2de3b09a9fe90b0b9bd3ea3516a13cf6a1241c452034277f0197cb7f0c94cba4dd0092f566cf2bb13e270b6c0318c0ce57f581a51df532e18ef5b6f878a9d0058bdbad67df5260a8e1cd7d2c561e2f117a7910d8ac3f873c24f3f6bd0a90ec57da0035976df58a4575c31a71447c0cfd8cfab9b15b46d378c46cd6cee18eaf09e0006dc63e7bc073e9dcb9ccf63076ba33b60405f231f88227acdbbd615521f464f1718d01f180c574a935a939ac0bfca457e3515ca9863cb041e79acf9b31bc6c1a40bec2eb4302e18ed55e4ab74d54f58cd5aac0e80051cc25382d60c5ad71cabc4ebe09db410d2244a837f0e77d7275a0da46a1fcd46734547b7f24007eb1500b1a97a677c36a8ca26529ca5eb006c370e235e1695b4ab881c73abb7dd4fbe2d75a4e1834004b9924ac376c1c7fd0981fb8458de110a485da2c9a8c71a9a07587945f0e9a50a21b1671628441d20bd6d9b594897e837f9877bb335f2b60c5db4a1db8447b952d9aaf6f150b773c98695c8750647b6951605954c60f95e507849ae592e314bf48f7101eb09623f4fd6d3d6311b771bb5e3a035c2bdd347e79d131b7bed7e112472f7fa0746b852265b530892868faeb4e85c9d821698ecfe7cb117e119a1442f1f47bc872423ceccbd4c89cd0eaaee14d4a360d64b0542e582db56d56b4617c57c887736bf7115bc31d582d432ba0b78681ec68d7197c659180a5dc2370d1b286451e8ba7abcb208ca7ca7594405ec0652f3b34f3b5ed16b38556ab6d550ca9ea96ceb6dc6d91c5296c7acc60362325ccae94174e450b570fed29545b6ed28de11325a50834f459b1d29c97e410284c9bb8e89c5bad392d795cb44c507f4d97c3d1acba1f37896e8bb22373d4d2c87c2ea7dbf64fe941f7c55f7453111d7f5f71f314fbf0b535c01168d5be3d19f167ac3fcdadfa5f53bb735d7e6b925362a5cbb913337fb16324573c0a6cc61d651c4d82730066285dfc5eef725c891a7fed41951a670f330ae13dd4eea2f146ff57fd17b4b8df62cc4a72aefec921a9a2727344447944d0f4821a4318e5d8900a837d7be7931ee02ca0340555c8d9ab289d1ca76831293d1aeaeb1b32e542f7db44983157bd5f5a4cf81a8b49262ef67ea8c89de9a3fb57b74be1f44991bd50e51f1ab02bf46249494f50a1678901c362b6ab909d39ee898d7afba6779f278881c462e6feb084ec9266fee861cd891f3cf37a1ee153f3fc5f238432eed098809d0ac62e664f0e999d4e104f04d640dbff051800aae6d06d46f3434b0000000049454e44ae426082),
        (5, 'Paypal', 'Card', 1, NULL, NULL, 1 ,'GIF89a´'),
        (7, 'Allahabad Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (8, 'Axis Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (9, 'Bank of Bahrain and Kuwait', 'Bank', 1, NULL, NULL, NULL, NULL),
        (10, 'Bank of Baroda', 'Bank', 1, NULL, NULL, NULL, NULL),
        (11, 'Bank of India', 'Bank', 1, NULL, NULL, NULL, NULL),
        (12, 'Bank of Maharastra', 'Bank', 1, NULL, NULL, NULL, NULL),
        (13, 'Bank of Rajasthan', 'Bank', 1, NULL, NULL, NULL, NULL),
        (14, 'Citi Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (15, 'Citi Union Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (16, 'Corporation Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (17, 'Deutsche Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (18, 'Development Credit Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (19, 'Dhanlaxmi Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (20, 'Federal Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (21, 'HDFC Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (22, 'ICICI Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (23, 'IDBI Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (24, 'Indian Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (25, 'Indian Overseas NetBanking', 'Bank', 1, NULL, NULL, NULL, NULL),
        (26, 'J and K Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (27, 'Karnataka Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (28, 'Oriental Bank Of Commerce', 'Bank', 1, NULL, NULL, NULL, NULL),
        (29, 'South Indian Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (30, 'Standard Chartered Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (31, 'State Bank of Hyderabad', 'Bank', 1, NULL, NULL, NULL, NULL),
        (32, 'State Bank of India', 'Bank', 1, NULL, NULL, NULL, NULL),
        (33, 'State Bank of Mysore', 'Bank', 1, NULL, NULL, NULL, NULL),
        (34, 'State Bank of Travencore', 'Bank', 1, NULL, NULL, NULL, NULL),
        (35, 'Tamilnad Mercantile Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (36, 'Union Bank of India', 'Bank', 1, NULL, NULL, NULL, NULL),
        (37, 'United Bank of India', 'Bank', 1, NULL, NULL, NULL, NULL),
        (38, 'Vijaya Bank', 'Bank', 1, NULL, NULL, NULL, NULL),
        (39, 'Yes Bank', 'Bank', 1, NULL, NULL, NULL, NULL);

        insert into `gateway_issuer_mapping` (`id`, `gateway_id`, `issuer_id`, `priority`, `active`, `downtime_start_date`, `downtime_end_date`, `issuer_code`, `reconciliation_charge`) values('1','15','1','1','1',NULL,NULL,'70','0.000000');
        insert into `gateway_issuer_mapping` (`id`, `gateway_id`, `issuer_id`, `priority`, `active`, `downtime_start_date`, `downtime_end_date`, `issuer_code`, `reconciliation_charge`) values('2','80','1','1','1',NULL,NULL,NULL,'0.000000');
        insert into `gateway_issuer_mapping` (`id`, `gateway_id`, `issuer_id`, `priority`, `active`, `downtime_start_date`, `downtime_end_date`, `issuer_code`, `reconciliation_charge`) values('3','80','2','1','1',NULL,NULL,NULL,'0.000000');
        insert into `gateway_issuer_mapping` (`id`, `gateway_id`, `issuer_id`, `priority`, `active`, `downtime_start_date`, `downtime_end_date`, `issuer_code`, `reconciliation_charge`) values('4','80','4','1','1',NULL,NULL,NULL,'0.000000');
        insert into `gateway_issuer_mapping` (`id`, `gateway_id`, `issuer_id`, `priority`, `active`, `downtime_start_date`, `downtime_end_date`, `issuer_code`, `reconciliation_charge`) values('6','100','1','1','1',NULL,NULL,NULL,'0.000000');
        insert into `gateway_issuer_mapping` (`id`, `gateway_id`, `issuer_id`, `priority`, `active`, `downtime_start_date`, `downtime_end_date`, `issuer_code`, `reconciliation_charge`) values('7','100','2','1','1',NULL,NULL,NULL,'0.000000');
        insert into `gateway_issuer_mapping` (`id`, `gateway_id`, `issuer_id`, `priority`, `active`, `downtime_start_date`, `downtime_end_date`, `issuer_code`, `reconciliation_charge`) values('8','100','3','1','1',NULL,NULL,NULL,'0.000000');
        insert into `gateway_issuer_mapping` (`id`, `gateway_id`, `issuer_id`, `priority`, `active`, `downtime_start_date`, `downtime_end_date`, `issuer_code`, `reconciliation_charge`) values('9','90','3','1','1',NULL,NULL,NULL,'0.000000');
        insert into `gateway_issuer_mapping` (`id`, `gateway_id`, `issuer_id`, `priority`, `active`, `downtime_start_date`, `downtime_end_date`, `issuer_code`, `reconciliation_charge`) values('10','110','5','1','1',NULL,NULL,NULL,'0.000000');

        Insert into gateway_issuer_mapping (issuer_code,issuer_id,gateway_id)
        select pb.tpsl_bank_code as issuer_code,ir.id as issuer,15 as gateway_id from preferred_bank_gateway pb inner join issuer ir on ir.name=pb.bank_name  where pb.tpsl_bank_code is not null
        union
        select pb.citrus_bank_code as issuer_code,ir.id as issuer,80 as gateway_id from preferred_bank_gateway pb inner join issuer ir on ir.name=pb.bank_name where pb.citrus_bank_code is not null;

        alter table payment_mode add gateway varchar(80) null;
        Insert into payment_mode (id,name) values (1000,'pre-paid');

        UPDATE `payment_mode` SET `id` = 1,`name` = 'CCAvenue Dummy',`gateway` = '1' WHERE `payment_mode`.`id` = 1;
        UPDATE `payment_mode` SET `id` = 10,`name` = 'Tekprocess Test',`gateway` = '10' WHERE `payment_mode`.`id` = 10;
        UPDATE `payment_mode` SET `id` = 15,`name` = 'Techprocess',`gateway` = '15' WHERE `payment_mode`.`id` = 15;
        UPDATE `payment_mode` SET `id` = 60,`name` = 'Citrus NetBanking Old',`gateway` = '80' WHERE `payment_mode`.`id` = 60;
        UPDATE `payment_mode` SET `id` = 70,`name` = 'Citrus NetBanking',`gateway` = '80' WHERE `payment_mode`.`id` = 70;
        UPDATE `payment_mode` SET `id` = 80,`name` = 'Citrus Credit Debit',`gateway` = '80' WHERE `payment_mode`.`id` = 80;
        UPDATE `payment_mode` SET `id` = 90,`name` = 'EBS Online Payment',`gateway` = '90' WHERE `payment_mode`.`id` = 90;
        UPDATE `payment_mode` SET `id` = 100,`name` = 'Icici Backend ',`gateway` = '100' WHERE `payment_mode`.`id` = 100;
        UPDATE `payment_mode` SET `id` = 85,`name` = 'Paypal Credit Debit',`gateway` = '110' WHERE `payment_mode`.`id` = 85;

        update payment pt,gateway_issuer_mapping gim,issuer ir set pt.issuer_id=ir.id where pt.bank_code = gim.issuer_code
        and gim.issuer_id = ir.id;
    </sql>
     </changeSet>
    <changeSet author="Pratham (generated)" id="20121129-4">
        <sql>
            update payment pt ,payment_mode pm set pt.gateway_id =pm.gateway where pt.payment_mode_id=pm.id;
            update gateway_issuer_mapping set active = 1, priority = 1;
        </sql>
    </changeSet>
    <changeSet author="Pratham (generated)" id="20121129-5">
        <sql>
            update gateway_issuer_mapping set reconciliation_charge = 0.021 where gateway_id = 15;
            update gateway_issuer_mapping set reconciliation_charge = 0.019 where gateway_id = 100;
            update gateway_issuer_mapping set reconciliation_charge = 0.02 where gateway_id = 90;
            update gateway_issuer_mapping set reconciliation_charge = 0.039 where gateway_id = 110;
            update gateway_issuer_mapping gim , issuer i set reconciliation_charge = 0.0215 where gim.issuer_id = i.id and gateway_id = 80 and i.issuer_type = 'Card';
            update gateway_issuer_mapping gim , issuer i set reconciliation_charge = 0.017 where gim.issuer_id = i.id and gateway_id = 80 and i.issuer_type = 'Bank';
        </sql>
    </changeSet>
    <changeSet author="Pratham (generated)" id="20121129-6">
        <sql>
            update gateway_issuer_mapping gim ,(select gim.id from gateway_issuer_mapping gim,
            (SELECT issuer_id,count(*) FROM `gateway_issuer_mapping` group by(issuer_id) having(count(*)>1))v1 where gim.issuer_id=v1.issuer_id and gim.gateway_id=15 order by gim.id)v2
            set gim.priority = 0 where gim.id=v2.id
        </sql>
    </changeSet>
    <changeSet author="Pratham (generated)" id="20121129-2">
        <sql>
        UPDATE payment SET payment_mode_id  = 1000 WHERE payment_mode_id IN (15,60,70,80,90,100);
        UPDATE payment SET payment_mode_id  = 1 WHERE payment_mode_id IN (1,10);
        ALTER TABLE payment_mode DROP COLUMN gateway;
        </sql>
    </changeSet>
    <changeSet author="Pratham (generated)" id="20121129-11">
        <sql>
            update gateway set priority = 1, active = 1;
            update issuer set priority = 1, active = 1;
        </sql>
    </changeSet>
    <changeSet author="Pratham (generated)" id="20121129-3">
        <sql>
            drop table preferred_bank_gateway;
        </sql>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1354019828176-5">
    <dropColumn columnName="bank_code" tableName="payment"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1354263430748-1">
        <addNotNullConstraint columnDataType="TINYINT" columnName="active" tableName="gateway"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1354263430748-2">
        <addNotNullConstraint columnDataType="INT" columnName="priority" tableName="gateway"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1354263430748-3">
        <addNotNullConstraint columnDataType="INT" columnName="active" tableName="gateway_issuer_mapping"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1354263430748-4">
        <addNotNullConstraint columnDataType="INT" columnName="priority" tableName="gateway_issuer_mapping"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1354263430748-5">
        <addNotNullConstraint columnDataType="TINYINT" columnName="active" tableName="issuer"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1354263430748-6">
        <addNotNullConstraint columnDataType="INT" columnName="priority" tableName="issuer"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1354124147954-1">
        <addColumn tableName="traffic_tracking">
            <column name="first_order" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rahul (generated)" id="1354282249890-1">
        <addNotNullConstraint columnDataType="VARCHAR(30)" columnName="pin" tableName="address"/>
    </changeSet>
    <changeSet author="user (generated)" id="1354528997308-1">
        <addColumn tableName="issuer">
            <column name="tag_line" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="20121129-30">
        <sql>
            update issuer set tag_line = " (Faster Checkout)" where id = 4;
            update issuer set tag_line = " (For International Cards Only)" where id = 5;
        </sql>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1354520250137-2">
        <addColumn tableName="pincode">
            <column name="zone" type="VARCHAR(10)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1354540960968-1">
        <addColumn tableName="shipment">
            <column name="zone" type="VARCHAR(10)"/>
        </addColumn>
    </changeSet>
	<changeSet author="Ajeet (written)" id="20121205-1">
		<sql>
			update seo_data sd, product p set sd.id=concat(sd.id,'||', p.primary_category) where sd.id=p.brand;
		</sql>
	</changeSet>
	<changeSet author="Tarun (generated)" id="1354692722721-1">
        <createTable tableName="zone">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(12)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1354692722721-2">
        <addColumn tableName="pincode">
            <column name="zone_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1354692722721-3">
        <addColumn tableName="shipment">
            <column name="zone_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1354692722721-4">
        <addForeignKeyConstraint baseColumnNames="zone_id" baseTableName="pincode" constraintName="fk_pincode_zone1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="zone" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1354692722721-5">
        <addForeignKeyConstraint baseColumnNames="zone_id" baseTableName="shipment" constraintName="fk_shipment_zone1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="zone" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1354692722721-6">
        <dropColumn columnName="zone" tableName="shipment"/>
    </changeSet>
	<changeSet author="Tarun" id="20121205-01">
		<sql>
			INSERT INTO zone VALUES (1,'NORTH'),(2,'SOUTH'),(3,'EAST'),(4,'WEST');
			UPDATE pincode SET zone_id=1 WHERE zone like '%NORTH%';
			UPDATE pincode SET zone_id=2 WHERE zone like '%SOUTH%';
			UPDATE pincode SET zone_id=3 WHERE zone like '%EAST%';
			UPDATE pincode SET zone_id=4 WHERE zone like '%WEST%';
		</sql>
	</changeSet>
    <changeSet author="Tarun (generated)" id="1354696987883-1">
        <dropColumn columnName="zone" tableName="pincode"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1355137007231-1">
        <createTable tableName="heading_product">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="heading_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="rank" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1355137007231-12">
        <addForeignKeyConstraint baseColumnNames="heading_id" baseTableName="heading_product" constraintName="fk_heading_product_primary_category_heading1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="primary_category_heading" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1355137007231-13">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="heading_product" constraintName="fk_heading_product_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355468432445-1">
        <createTable tableName="product_variant_supplier_info">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="product_variant_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="supplier_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="asked_qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="received_qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0.00" name="fill_rate" type="DECIMAL(12,2)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355468432445-2">
        <addColumn tableName="po_line_item">
            <column name="fill_rate" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355468432445-3">
        <addColumn tableName="po_line_item">
            <column name="received_qty" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355468432445-4">
        <addColumn tableName="purchase_order">
            <column name="fill_rate" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355468432445-5">
        <createIndex indexName="product_variant_supplier_key" tableName="product_variant_supplier_info" unique="true">
            <column name="product_variant_id"/>
            <column name="supplier_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355468432445-6">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="product_variant_supplier_info" constraintName="fk_product_variant_supplier_info_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355468432445-7">
        <addForeignKeyConstraint baseColumnNames="supplier_id" baseTableName="product_variant_supplier_info" constraintName="fk_product_variant_supplier_info_supplier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="supplier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1355912895463-1">
        <addColumn tableName="traffic_tracking">
            <column name="returning_user" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355814825152-1">
        <createTable tableName="dispatch_lot">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="docket_number" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="courier_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="zone_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="source" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="destination" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="no_of_shipments_sent" type="INT"/>
            <column name="no_of_shipments_received" type="INT"/>
            <column name="no_of_mother_bags" type="INT"/>
            <column defaultValueNumeric="0.00" name="total_weight" type="DECIMAL(12,2)"/>
            <column name="remarks" type="TEXT"/>
            <column name="dispatch_date" type="DATETIME"/>
            <column name="create_dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="receiving_dt" type="DATETIME"/>
            <column name="dispatch_lot_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="received_by" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355814825152-2">
        <createTable tableName="dispatch_lot_has_shipment">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="dispatch_lot_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipment_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="shipment_status" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355814825152-3">
        <createTable tableName="dispatch_lot_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355814825152-4">
        <createIndex indexName="dispatch_lot_shipment_unique" tableName="dispatch_lot_has_shipment" unique="true">
            <column name="dispatch_lot_id"/>
            <column name="shipment_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355814825152-5">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="dispatch_lot" constraintName="fk_dispatch_lot_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355814825152-6">
        <addForeignKeyConstraint baseColumnNames="created_by" baseTableName="dispatch_lot" constraintName="fk_dispatch_lot_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355814825152-7">
        <addForeignKeyConstraint baseColumnNames="dispatch_lot_status_id" baseTableName="dispatch_lot" constraintName="fk_dispatch_lot_dispatch_lot_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="dispatch_lot_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355814825152-8">
        <addForeignKeyConstraint baseColumnNames="received_by" baseTableName="dispatch_lot" constraintName="fk_dispatch_lot_user2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355814825152-9">
        <addForeignKeyConstraint baseColumnNames="zone_id" baseTableName="dispatch_lot" constraintName="fk_dispatch_lot_zone1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="zone" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355814825152-10">
        <addForeignKeyConstraint baseColumnNames="dispatch_lot_id" baseTableName="dispatch_lot_has_shipment" constraintName="fk_dispatch_lot_has_shipment_dispatch_lot1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="dispatch_lot" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1355814825152-11">
        <addForeignKeyConstraint baseColumnNames="shipment_id" baseTableName="dispatch_lot_has_shipment" constraintName="fk_dispatch_lot_has_shipment_shipment1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipment" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1356342327664-1">
        <addColumn tableName="offer_action">
            <column name="reward_point_expiry_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1356344043298-1">
        <addColumn tableName="offer_action">
            <column name="reward_point_redeem_within_days" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-1">
        <createTable tableName="extra_inventory">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="purchase_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="comments" type="TEXT"/>
            <column name="create_dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="update_dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-2">
        <createTable tableName="extra_inventory_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="po_line_item_id" type="INT"/>
            <column name="extra_inventory_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="sku_id" type="INT"/>
            <column name="tax_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="product_name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="received_qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="mrp" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="is_rtv_created" type="TINYINT"/>
            <column defaultValueNumeric="0" name="is_grn_created" type="TINYINT"/>
            <column name="create_dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="update_dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-3">
        <createTable tableName="feedback_issuetype">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="issue_type" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-4">
        <createTable tableName="rtv_note">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="extra_inventory_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="rtv_note_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="is_debit_to_supplier" type="TINYINT"/>
            <column defaultValueNumeric="0" name="reconciled" type="TINYINT"/>
            <column name="create_dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="update_dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="remarks" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-5">
        <createTable tableName="rtv_note_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="extra_inventory_line_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="rtv_note_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-6">
        <createTable tableName="rtv_note_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-7">
        <addColumn tableName="feedback">
            <column name="feedback_issuetype_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-10">
        <addForeignKeyConstraint baseColumnNames="created_by" baseTableName="extra_inventory" constraintName="fk_extra_inventory_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-11">
        <addForeignKeyConstraint baseColumnNames="purchase_order_id" baseTableName="extra_inventory" constraintName="fk_extra_inventory_purchase_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-12">
        <addForeignKeyConstraint baseColumnNames="extra_inventory_id" baseTableName="extra_inventory_line_item" constraintName="fk_extra_inventory_line_item_extra_inventory1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="extra_inventory" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-13">
        <addForeignKeyConstraint baseColumnNames="po_line_item_id" baseTableName="extra_inventory_line_item" constraintName="fk_extra_inventory_line_item_po_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="po_line_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-14">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="extra_inventory_line_item" constraintName="fk_extra_inventory_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-15">
        <addForeignKeyConstraint baseColumnNames="tax_id" baseTableName="extra_inventory_line_item"  constraintName="fk_extra_inventory_line_item_tax1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="tax" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-16">
        <addForeignKeyConstraint baseColumnNames="feedback_issuetype_id" baseTableName="feedback"  constraintName="fk_feedback_feedback_issuetype1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="feedback_issuetype" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-17">
        <addForeignKeyConstraint baseColumnNames="extra_inventory_id" baseTableName="rtv_note" constraintName="fk_rtv_note_extra_inventory1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="extra_inventory" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-18">
        <addForeignKeyConstraint baseColumnNames="rtv_note_status_id" baseTableName="rtv_note" constraintName="fk_rtv_note_rtv_note_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="rtv_note_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-19">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="rtv_note" constraintName="fk_rtv_note_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-20">
        <addForeignKeyConstraint baseColumnNames="extra_inventory_line_item_id" baseTableName="rtv_note_line_item" constraintName="fk_rtv_note_line_item_extra_inventory_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="extra_inventory_line_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356345519189-21">
        <addForeignKeyConstraint baseColumnNames="rtv_note_id" baseTableName="rtv_note_line_item" constraintName="fk_rtv_note_line_item_rtv_note1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="rtv_note" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356347146956-1">
        <addColumn tableName="po_line_item">
            <column name="extra_inventory_line_item_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356347146956-2">
        <addColumn tableName="purchase_order">
            <column name="extra_inventory_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356347146956-3">
        <addForeignKeyConstraint baseColumnNames="extra_inventory_line_item_id" baseTableName="po_line_item" constraintName="fk_po_line_item_extra_inventory_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="extra_inventory_line_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356347146956-4">
        <addForeignKeyConstraint baseColumnNames="extra_inventory_id" baseTableName="purchase_order" constraintName="fk_purchase_order_extra_inventory1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="extra_inventory" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="24122012-01">
        <sql>
            insert into rtv_note_status values(10, 'Created'),(20, 'Sent To Supplier'),(40, 'Reconciled');
            insert into feedback_issuetype(id,issue_type)
            values(10,'Delivery'),(20,'Customer Service'),(30,'Pricing'),(40,'Others'),(50,'Out of Stock'),(60,'Packaging'),(70,'Site Usability'),
            (80,'Product Addition'),(90,'Product Damaged'),(100,'Product Expired'),(110,'Loyalty'),(120,'Payment');
        </sql>
    </changeSet>
	<changeSet author="Pradeep (generated)" id="1356002931704-1">
       <addColumn tableName="hk_api_user">
           <column defaultValueNumeric="0" name="order_placement_enabled" type="TINYINT">
               <constraints nullable="false"/>
           </column>
       </addColumn>
   </changeSet>
   <changeSet author="Pradeep (generated)" id="1356002931704-2">
       <addColumn tableName="hk_api_user">
           <column name="secret_key" type="VARCHAR(300)">
               <constraints nullable="false"/>
           </column>
       </addColumn>
   </changeSet>
   <changeSet author="Pradeep (generated)" id="1356002931704-3">
       <addColumn tableName="store">
           <column name="callback_rest_url" type="VARCHAR(100)"/>
       </addColumn>
   </changeSet>
	<changeSet author="Rahul (generated)" id="1356518834014-1">
		<createTable tableName="download_process">
			<column autoIncrement="true" name="download_id" type="INT">
				<constraints nullable="false" primaryKey="true"/>
			</column>
			<column name="run_date" type="DATETIME"/>
			<column name="last_run_date" type="DATETIME"/>
			<column name="status" type="VARCHAR(5)"/>
			<column name="create_dt" type="DATETIME"/>
		</createTable>
	</changeSet>
	<changeSet author="Tarun" id="12-26-2012">
		<sql>
			UPDATE pincode SET zone_id=1 WHERE zone_id IS NULL;
			UPDATE shipment SET zone_id=1 WHERE zone_id IS NULL;
		</sql>
	</changeSet>
	<changeSet author="Tarun (generated)" id="1355737809715-1">
        <addNotNullConstraint columnDataType="INT" columnName="zone_id" tableName="pincode"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1356513899742-1">
        <addNotNullConstraint columnDataType="INT" columnName="zone_id" tableName="shipment"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1356699493647-1">
        <createIndex indexName="uniq_exinventory_sku" tableName="extra_inventory_line_item" unique="true">
            <column name="sku_id"/>
            <column name="extra_inventory_id"/>
        </createIndex>
    </changeSet>
	<changeSet author="Rohit (generated)" id="1356589574750-1">
		<createTable tableName="sku_item_status">
			<column name="id" type="INT">
				<constraints nullable="false" primaryKey="true"/>
			</column>
			<column name="name" type="VARCHAR(45)">
				<constraints nullable="false"/>
			</column>
		</createTable>
	</changeSet>
	<changeSet author="Rohit (generated)" id="1356589574750-2">
		<addColumn tableName="sku_item">
			<column name="sku_item_status_id" type="INT"/>
		</addColumn>
	</changeSet>
	<changeSet author="Rohit (generated)" id="1356589574750-3">
		<addForeignKeyConstraint baseColumnNames="sku_item_status_id" baseTableName="sku_item" constraintName="fk_sku_item_sku_item_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku_item_status" referencesUniqueColumn="false"/>
	</changeSet>
	<changeSet author="Rohit" id="12-28-2012">
		<sql>
			INSERT into sku_item_status(id, name) values (10, "CHECKED IN"), (20, "CHECKED OUT");
			CREATE table sku_temp(qty int, sku_item int);
			INSERT into sku_temp select sum(qty),sku_item_id from product_variant_inventory group by sku_item_id;
			UPDATE sku_item s, sku_temp t set sku_item_status_id = 20 where s.id = t.sku_item and qty = 0;
			UPDATE sku_item s, sku_temp t set sku_item_status_id = 10 where s.id = t.sku_item and qty = 1;
			DROP table sku_temp;
			UPDATE sku_item s set sku_item_status_id = 20 where s.sku_item_status_id is null;
		</sql>
	</changeSet>
	<changeSet author="Rohit (generated)" id="1356676950361-1">
		<addNotNullConstraint columnDataType="INT" columnName="sku_item_status_id" tableName="sku_item"/>
	</changeSet>
    <changeSet author="Tarun (generated)" id="1356676742452-1">
        <addColumn tableName="consignment_tracking">
            <column name="runsheet_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1356676742452-2">
        <addForeignKeyConstraint baseColumnNames="runsheet_id" baseTableName="consignment_tracking" constraintName="fk_consignment_tracking_runsheet1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="runsheet" referencesUniqueColumn="false"/>
    </changeSet>
	<changeSet author="Pradeep (5-1-2103)" id="05-01-2013-01">
        <sql>
            INSERT INTO store(id, name, prefix, callback_rest_url)
            SELECT * FROM (SELECT 3, 'FitnessPro', 'FP', 'http://fitnesspro.healthkart.com/rest/api') AS tmp
            WHERE NOT EXISTS (
            SELECT name FROM store WHERE id = 3
            ) LIMIT 1;

            INSERT INTO store(id, name, prefix, callback_rest_url)
            SELECT * FROM (SELECT 2, 'MadeInHealth', 'MIH', 'http://www.madeinhealth.com/rest/api') AS tmp
            WHERE NOT EXISTS (
            SELECT name FROM store WHERE id = 2
            ) LIMIT 1;

            update store set callback_rest_url='http://www.madeinhealth.com/rest/api' where id=2;
        </sql>
    </changeSet>
    <changeSet author="Pradeep (6-1-2103)" id="06-01-2013-01">
    <sql>
        TRUNCATE hk_api_user;

        ALTER TABLE hk_api_user DROP COLUMN id;

        ALTER TABLE hk_api_user ADD COLUMN id INT(11) NOT NULL AUTO_INCREMENT FIRST, ADD PRIMARY KEY id(id);

        INSERT INTO hk_api_user(name, api_key, login_success_redirect_url, home_url, default_auth_token_expiry, enabled, create_dt, order_placement_enabled, secret_key)
        VALUES('FitnessPro','fitnesspro','http://fitnesspro.healthkart.com', 'http://fitnesspro.healthkart.com', 10, 1, CURRENT_TIMESTAMP, 1, '7rq8tlhrdubs');

        INSERT INTO hk_api_user(name, api_key, login_success_redirect_url, home_url, default_auth_token_expiry, enabled, create_dt, order_placement_enabled, secret_key)
        VALUES('HealthkartPlus','healthkartplus','http://www.healthkartplus.com', 'http://www.healthkartplus.com', 10, 1, CURRENT_TIMESTAMP, 0, 'aeu7adfj3kl!');
    </sql>
    </changeSet>

	   <changeSet author="Seema (generated)" id="1357322001110-1">
        <addColumn tableName="reconciliation_voucher">
            <column name="reconciliation_type_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1357322001110-2">
        <addColumn tableName="rv_line_item">
            <column name="reconciled_qty" type="INT"/>
        </addColumn>
    </changeSet>
	<changeSet author="Seema (generated)" id="1357322001119-1">
       <sql>
	       update reconciliation_voucher rv,(select max(cc),reconciliation_type_id,reconciliation_voucher_id from
	       (select reconciliation_voucher_id,
	       reconciliation_type_id ,count(reconciliation_type_id) as cc
	       FROM `rv_line_item` GROUP BY reconciliation_voucher_id, reconciliation_type_id )aa group by
	       reconciliation_voucher_id)rvli
	       set rv.reconciliation_type_id= rvli.reconciliation_type_id
	       where rv.id=rvli.reconciliation_voucher_id;

	       delete rv from reconciliation_voucher rv left join (select distinct(reconciliation_voucher_id) from
	       rv_line_item) rvi
	       on rv.id=rvi.reconciliation_voucher_id where rvi.reconciliation_voucher_id is null;

	       update rv_line_item set reconciled_qty = qty;
       </sql>
    </changeSet>
    <changeSet author="Seema (generated)" id="1357322001110-5">
        <addForeignKeyConstraint baseColumnNames="reconciliation_type_id" baseTableName="reconciliation_voucher"  constraintName="fk_reconciliation_voucher_reconciliation_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="reconciliation_type"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1355125289354-1">
        <createTable tableName="pincode_courier_mapping">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="pincode_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="courier_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="prepaid_air" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="prepaid_ground" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="cod_air" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="cod_ground" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="routing_code" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1355125289354-50">
        <addAutoIncrement tableName="pincode_courier_mapping" columnName="id" columnDataType="INT"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1355142601346-2">
        <createTable tableName="shipment_service_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(90)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1355142601346-3">
        <addColumn tableName="shipment">
            <column name="shipment_service_type_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1355142601346-10">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="pincode_courier_mapping" constraintName="fk_pincode_courier_mapping_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1355142601346-11">
        <addForeignKeyConstraint baseColumnNames="pincode_id" baseTableName="pincode_courier_mapping" constraintName="fk_pincode_courier_mapping_pincode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pincode" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1355142601346-12">
        <addForeignKeyConstraint baseColumnNames="shipment_service_type_id" baseTableName="shipment" constraintName="fk_shipment_shipment_service_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipment_service_type" referencesUniqueColumn="false"/>
    </changeSet>
     <changeSet author="Ankit (generated)" id="1355308128790-1">
        <addColumn tableName="product">
            <column defaultValue="0" name="is_installable" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ankit (generated)" id="1355308128790-2">
        <addColumn tableName="shipping_order">
            <column defaultValue="0" name="drop_shipping" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ankit" id="08-01-2013">
       <sql>
         INSERT into courier(id, name,disabled) values (650 , 'Gati' , 1), (660 , 'Star Track' , 1);
       </sql>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1357818583466-1">
        <addColumn tableName="supplier">
            <column name="comments" type="TEXT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-150">
        <dropForeignKeyConstraint baseTableName="address" constraintName="fk_address_courier1"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-151">
        <dropForeignKeyConstraint baseTableName="pincode" constraintName="fk_pincode_courier1"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-25">
        <dropColumn columnName="default_courier_id" tableName="address"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-27">
        <dropColumn columnName="default_courier_id" tableName="pincode"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-59">
        <dropNotNullConstraint columnDataType="VARCHAR(30)" columnName="pin" tableName="address"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-1">
        <addColumn tableName="address">
            <column name="pincode_id" type="VARCHAR(6)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358864269239-3">
        <addColumn tableName="billing_address">
            <column name="pincode" type="VARCHAR(30)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-15">
        <dropForeignKeyConstraint baseTableName="pincode_courier_mapping" constraintName="fk_pincode_courier_mapping_pincode1"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-16">
        <dropForeignKeyConstraint baseTableName="pincode_default_courier" constraintName="fk_pincode_default_courier_pincode1"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-12">
        <dropForeignKeyConstraint baseTableName="courier_service_info" constraintName="fk_courier_service_info_pincode1"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-13">
        <dropForeignKeyConstraint baseTableName="hub" constraintName="fk_hub_pincode1"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-17">
        <dropForeignKeyConstraint baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_pincode1"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="2013-02-04-02">
        <sql>
            DROP TABLE IF EXISTS t;
            INSERT into `state` (`id`,`name`)
            values
            (1,'JAMMU &amp;amp; KASHMIR') ON DUPLICATE KEY UPDATE name = 'JAMMU &amp;amp; KASHMIR';
            INSERT into `city` (`id`,`name`)
            values
            (1,'NICOBAR') ON DUPLICATE KEY UPDATE name = 'NICOBAR';
            INSERT into `zone` (`id`,`name`)
            values
            (1,'NORTH') ON DUPLICATE KEY UPDATE name = 'NORTH';
            INSERT into `shipment_service_type` (`id`,`name`)
            values
            (10,'prepaidAir') ON DUPLICATE KEY UPDATE name = 'prepaidAir';
            INSERT into `shipment_service_type` (`id`,`name`)
            values
            (20,'prepaidGround') ON DUPLICATE KEY UPDATE name = 'prepaidGround';
            INSERT into `shipment_service_type` (`id`,`name`)
            values
            (30,'codAir') ON DUPLICATE KEY UPDATE name = 'codAir';
            INSERT into `shipment_service_type` (`id`,`name`)
            values
            (40,'codGround') ON DUPLICATE KEY UPDATE name = 'codGround';
        </sql>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-60">
        <sql>
            DELETE FROM courier_service_info where pincode_id=13701;
            delete from pincode_courier_mapping where pincode_id=13701;
            delete from pincode where id=13701;
            update billing_address ba,address a set ba.pincode = a.pin where ba.billing_address_id = a.id;
            insert into `pincode` (`id`,`pincode`,`locality`,`region`,`city_id`,`state_id`,`tier`,`zone_id`) values (-1,'-1','.','Default',1,1,'Metros',1);
            update address adr left join pincode pc on adr.pin=pc.pincode set adr.pin='-1', deleted =1 where pc.pincode is null;
            update  billing_address ba, address a set a.deleted = 0 where ba.billing_address_id = a.id;
            update address a , pincode p set  a.pincode_id = p.pincode where a.pin = p.pincode;
            update hub pcm , pincode p set  pcm.pincode_id = p.pincode where pcm.pincode_id = p.id;
            update pincode_courier_mapping pcm , pincode p set  pcm.pincode_id = p.pincode where pcm.pincode_id = p.id;
            update pincode_region_zone pcm , pincode p set  pcm.pincode_id = p.pincode where pcm.pincode_id = p.id;
            update pincode_default_courier pcm , pincode p set  pcm.pincode_id = p.pincode where pcm.pincode_id = p.id;
        </sql>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-5">
        <modifyDataType columnName="pincode_id" newDataType="VARCHAR(6)" tableName="pincode_courier_mapping"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-6">
        <modifyDataType columnName="pincode_id" newDataType="VARCHAR(6)" tableName="pincode_default_courier"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-7">
        <modifyDataType columnName="pincode_id" newDataType="VARCHAR(6)" tableName="pincode_region_zone"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-3">
        <modifyDataType columnName="pincode_id" newDataType="VARCHAR(6)" tableName="hub"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-65">
        <addNotNullConstraint columnDataType="VARCHAR(6)" columnName="pincode_id" tableName="address"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-66">
        <addNotNullConstraint columnDataType="VARCHAR(6)" columnName="pincode_id" tableName="pincode_default_courier"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-67">
        <addNotNullConstraint columnDataType="VARCHAR(6)" columnName="pincode_id" tableName="pincode_region_zone"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-68">
        <addNotNullConstraint columnDataType="VARCHAR(6)" columnName="pincode_id" tableName="pincode_courier_mapping"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-69">
        <addNotNullConstraint columnDataType="VARCHAR(6)" columnName="pincode_id" tableName="hub"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-20">
        <addForeignKeyConstraint baseColumnNames="pincode_id" baseTableName="hub" constraintName="fk_hub_pincode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="pincode" referencedTableName="pincode"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-21">
        <addForeignKeyConstraint baseColumnNames="pincode_id" baseTableName="pincode_courier_mapping" constraintName="fk_pincode_courier_mapping_pincode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="pincode" referencedTableName="pincode" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-22">
        <addForeignKeyConstraint baseColumnNames="pincode_id" baseTableName="pincode_default_courier" constraintName="fk_pincode_default_courier_pincode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="pincode" referencedTableName="pincode" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-23">
        <addForeignKeyConstraint baseColumnNames="pincode_id" baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_pincode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="pincode" referencedTableName="pincode" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-19">
        <addForeignKeyConstraint baseColumnNames="pincode_id" baseTableName="address" constraintName="fk_address_pincode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="pincode" referencedTableName="pincode" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-4">
        <addNotNullConstraint columnDataType="VARCHAR(6)" columnName="pincode" tableName="pincode"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-26">
        <dropColumn columnName="pin" tableName="address"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-28">
        <dropColumn columnName="id" tableName="pincode"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-8">
        <addPrimaryKey columnNames="pincode" tableName="pincode"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358322252952-29">
        <dropTable tableName="courier_service_info"/>
    </changeSet>
    <!--<changeSet author="Shrey (generated)" id="1358322252952-24">-->
        <!--<dropIndex indexName="pincode_region_index" tableName="pincode_region_zone"/>-->
    <!--</changeSet>-->
    <!--<changeSet author="Shrey (generated)" id="1358322252952-18">-->
        <!--<createIndex indexName="pincode_region_index" tableName="pincode_region_zone" unique="false">-->
            <!--<column name="warehouse_id"/>-->
            <!--<column name="pincode_id"/>-->
            <!--<column name="region_type_id"/>-->
            <!--<column name="courier_group_id"/>-->
        <!--</createIndex>-->
    <!--</changeSet>-->
    <changeSet author="Shrey (generated)" id="17012013-01">
        <sql>
            create table t(id integer,PName varchar(20),ground_shipping integer);
            insert into t SELECT sp.id, pm.name, pd.ground_shipping FROM shipment sp
            INNER JOIN shipping_order so ON sp.shipping_order_id = so.id
            INNER JOIN base_order bo ON bo.id = so.base_order_id
            INNER JOIN payment py ON bo.payment_id = py.id
            INNER JOIN payment_mode pm ON pm.id = py.payment_mode_id
            INNER JOIN line_item li ON li.shipping_order_id = so.id
            INNER JOIN sku sk ON sk.id = li.sku_id
            INNER JOIN product_variant pv ON pv.id = sk.product_variant_id
            INNER JOIN product pd ON pd.id = pv.product_id
            group by sp.id, pm.name, pd.ground_shipping;
            update shipment sp, (select id from t where PName='cod' and ground_shipping=1) ps set sp.shipment_service_type_id=40 where sp.id=ps.id;
            update shipment sp,(select id from t where PName='cod' and ground_shipping=0) ps set sp.shipment_service_type_id=30 where sp.id=ps.id;
            update shipment sp,(select id from t where PName!='cod' and ground_shipping=1) ps set sp.shipment_service_type_id=20 where sp.id=ps.id;
            update shipment sp,(select id from t where PName!='cod' and ground_shipping=0) ps set sp.shipment_service_type_id=10 where sp.id=ps.id;
            drop table t;
        </sql>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358366740246-12">
        <createIndex indexName="uniq_pincode_courier" tableName="pincode_courier_mapping" unique="true">
            <column name="courier_id"/>
            <column name="pincode_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1358238002137-2">
        <addColumn tableName="stock_transfer_line_item">
            <column name="checked_in_sku_group_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1358238002137-3">
        <addColumn tableName="stock_transfer_line_item">
            <column name="checked_out_sku_group_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1358238002137-5">
        <dropNotNullConstraint columnDataType="VARCHAR(45)" columnName="batch_number" tableName="stock_transfer_line_item"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1358238002137-6">
        <dropNotNullConstraint columnDataType="DECIMAL(8,2)" columnName="cost_price" tableName="stock_transfer_line_item"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1358238002137-7">
        <dropNotNullConstraint columnDataType="DECIMAL(8,2)" columnName="mrp" tableName="stock_transfer_line_item"/>
    </changeSet>
	<changeSet author="Rohit (generated)" id="1358238002137-9">
		<addForeignKeyConstraint baseColumnNames="checked_in_sku_group_id" baseTableName="stock_transfer_line_item" constraintName="fk_stock_transfer_line_item_sku_group2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku_group" referencesUniqueColumn="false"/>
	</changeSet>
	<changeSet author="Rohit (generated)" id="1358238002137-10">
		<addForeignKeyConstraint baseColumnNames="checked_out_sku_group_id" baseTableName="stock_transfer_line_item" constraintName="fk_stock_transfer_line_item_sku_group1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku_group" referencesUniqueColumn="false"/>
	</changeSet>
	<changeSet author="rohit" id="2013-01-16-01">
		<sql>
			ALTER TABLE stock_transfer_line_item
			DROP KEY stock_transfer_id_UNIQUE ,
			ADD UNIQUE KEY stock_transfer_id_UNIQUE1 (stock_transfer_id,sku_id,checked_out_sku_group_id)
		</sql>
	</changeSet>
	<changeSet author="rahul" id="15-01-2013-01">
		<sql>
			insert into warehouse(id, city, state, wh_phone, line1, line2, name, pincode,tin) values
			(301, 'Delhi', 'Delhi', '12345', 'Shop No 15, Ground Floor, North west Avenue, Club road,',
			'Punjabi bagh Extn', 'Punjabi Bagh Store', '110026', 'A/F')
			 ON DUPLICATE KEY UPDATE wh_phone ='12345';
		</sql>
	</changeSet>
	<changeSet author="Rahul (generated)" id="1225071974343-1">
		<createTable tableName="warehouse_type">
			<column name="id" type="INT">
				<constraints nullable="false" primaryKey="true"/>
			</column>
			<column name="wh_type" type="VARCHAR(45)">
				<constraints nullable="false"/>
			</column>
		</createTable>
	</changeSet>
	<changeSet author="rahul" id="15-01-2013-02">
		<sql>
			alter table warehouse add column (warehouse_type_id int(11));
		</sql>
	</changeSet>

	<changeSet author="Rahul (generated)" id="1229071974342-2">
		<addForeignKeyConstraint baseColumnNames="warehouse_type_id" baseTableName="warehouse"  constraintName="fk_warehouse_warehouse_type" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse_type"  referencesUniqueColumn="false"/>
	</changeSet>
	<changeSet author="rahul" id="15-01-2013-03">
		<sql>
			insert into warehouse_type values(10, 'STORE');
			update warehouse set warehouse_type_id = 10 where id = 301;
		</sql>
	</changeSet>
    <changeSet author="Pratham (generated)" id="1358767479539-6">
        <addColumn tableName="courier">
            <column name="active" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham" id="21-01-2013-01">
        <sql>
            update courier set active = (-1 * disabled);
        </sql>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1358767479539-7">
        <addColumn tableName="courier">
            <column name="operations_bitset" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1358767479539-79">
        <dropColumn columnName="disabled" tableName="courier"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1358502461101-1">
        <addColumn tableName="dispatch_lot">
            <column name="document_file_name" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Marut (generated)" id="1357977084301-2">
        <addColumn tableName="user">
            <column name="subscribed_mask" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Marut (generated)" id="1357977084301-3">
        <sql>
            update user u set subscribed_mask = 30;
            update user u inner join email_recepient er on u.id = er.user_id set u.subscribed_mask = 1 where er.subscribed = 0;
        </sql>
    </changeSet>
    <changeSet author="Marut (generated)" id="1357977084301-4">
        <addColumn tableName="user">
            <column name="unsubscribe_token" type="VARCHAR(512)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham" id="22-01-2013-01">
        <sql>
            update courier set active = 1 where active = 0;
            update courier set active = 0 where active = -1;
        </sql>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358864269239-4">
        <addColumn tableName="payment">
            <column name="billing_address_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham" id="23-01-2013-02">
        <sql>
            update courier set operations_bitset = 2 where active = 1;
            update courier set operations_bitset = operations_bitset * 13 where id in (70,650,170,660,220);
            update courier set operations_bitset = operations_bitset * 11 where id in (500,661,662);
        </sql>
    </changeSet>
    <changeSet author="Pratham" id="23-01-2013-01">
        <sql>
            update payment p inner join base_order bo on p.gateway_order_id=bo.gateway_order_id
            inner join  base_order_has_billing_address boh on boh.base_order_id=bo.id
            set p.billing_address_id=boh.billing_address_id;
        </sql>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358864269239-20">
        <dropForeignKeyConstraint baseTableName="base_order_has_billing_address" constraintName="fk_base_order_has_billing_address_base_order1"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358864269239-21">
        <dropForeignKeyConstraint baseTableName="base_order_has_billing_address" constraintName="fk_base_order_has_billing_address_billing_address1"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358864269239-22">
        <dropForeignKeyConstraint baseTableName="billing_address" constraintName="fk_billing_address_user1"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358864269239-27">
        <addForeignKeyConstraint baseColumnNames="country_id" baseTableName="address" constraintName="fk_address_country1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="country" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358864269239-31">
        <addForeignKeyConstraint baseColumnNames="billing_address_id" baseTableName="payment" constraintName="fk_payment_billing_address1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="billing_address_id" referencedTableName="billing_address" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358864269239-37">
        <dropColumn columnName="user_id" tableName="billing_address"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358864269239-38">
        <dropTable tableName="base_order_has_billing_address"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1358866023333-30">
        <dropColumn columnName="billing_address_actual" tableName="payment"/>
    </changeSet>
    <changeSet author="Pratham" id="28-01-2013-01">
        <sql>
            UPDATE courier SET operations_bitset = 2;
            UPDATE courier SET operations_bitset = operations_bitset * 11 where id in (662,661);
            UPDATE courier SET operations_bitset = operations_bitset * 13 where id in (70,170,220,650,660);
        </sql>
    </changeSet>
     <!--<changeSet author="Shrey (generated)" id="29-01-2013-01">-->
        <!--<createIndex indexName="uniq_shipment_shippingorder" tableName="shipment" unique="true">-->
            <!--<column name="shipping_order_id"/>-->
        <!--</createIndex>-->
    <!--</changeSet>-->
<!--
     <changeSet author="Shrey (generated)" id="29-01-2013-02">
        <createIndex indexName="uniq_shipment_awb" tableName="shipment" unique="true">
            <column name="awb_id"/>
        </createIndex>
    </changeSet>
-->
    <changeSet author="Pratham (generated)" id="1359627218805-1">
        <createIndex indexName="pincode_default_courier_index" tableName="pincode_default_courier" unique="true">
            <column name="pincode_id"/>
            <column name="warehouse_id"/>
            <column name="cod"/>
            <column name="ground_shipping"/>
        </createIndex>
    </changeSet>
    <changeSet author="Pratham (generated)" id="31-01-2013-0112">
        <dropForeignKeyConstraint baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_courier_group1"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="31-01-2013-0111">
        <dropForeignKeyConstraint baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_warehouse1"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="31-01-2013-012">
        <dropForeignKeyConstraint baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_region_type1"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="31-01-2013-0122">
        <dropForeignKeyConstraint baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_pincode1"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1359627218805-3">
        <dropIndex indexName="pincode_region_index" tableName="pincode_region_zone"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="31-01-2013-0-20">
        <addForeignKeyConstraint baseColumnNames="courier_group_id" baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_courier_group1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier_group" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="31-01-2013-0-21">
        <addForeignKeyConstraint baseColumnNames="pincode_id" baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_pincode1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="pincode" referencedTableName="pincode" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="31-01-2013-0-22">
        <addForeignKeyConstraint baseColumnNames="region_type_id" baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_region_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="region_type" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="31-01-2013-0-23">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="pincode_region_zone" constraintName="fk_pincode_region_zone_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1359627218805-2">
        <createIndex indexName="pincode_region_index_new" tableName="pincode_region_zone" unique="true">
            <column name="warehouse_id"/>
            <column name="region_type_id"/>
            <column name="courier_group_id"/>
            <column name="pincode_id"/>
        </createIndex>
    </changeSet>
	<changeSet author="Rohit" id="01-02-2013-01">
		<sql>
			insert into seek_invoice_num (warehouse_id,invoice_num,prefix,description) values(301,1,'R','Retail Invoice 2013');
			insert into store(id, name, prefix) values(101,'Punjabi Bagh','PB');
			alter table payment add column last_four_digit_card_no int(11);
		</sql>
	</changeSet>
    <changeSet author="Rohit (generated)" id="1359720145849-1">
        <dropForeignKeyConstraint baseTableName="warehouse" constraintName="fk_warehouse_warehouse_type"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1359720145849-2">
        <dropColumn columnName="warehouse_type_id" tableName="warehouse"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1359720145849-3">
        <dropTable tableName="warehouse_type"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1359722370102-1">
        <addColumn tableName="warehouse">
            <column name="store_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1359722370102-2">
        <addForeignKeyConstraint baseColumnNames="store_id" baseTableName="warehouse" constraintName="fk_warehouse_store1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="store" referencesUniqueColumn="false"/>
    </changeSet>
	<changeSet author="Rohit" id="01-02-2013-02">
		<sql>
			update warehouse set store_id = 101 where id = 301;
		</sql>
	</changeSet>
	<changeSet author="Rohit" id="01-02-2013-03">
		<sql>

			insert into role values ('STORE_MANAGER');
			insert into permission values ('STORE_MANAGER');
			insert into role_has_permission values ('STORE_MANAGER','STORE_MANAGER');

		</sql>
	</changeSet>

	<changeSet author="Seema (generated)" id="1359698681938-1">
	       <createTable tableName="cycle_count">
	           <column autoIncrement="true" name="id" type="INT">
	               <constraints nullable="false" primaryKey="true"/>
	           </column>
	           <column name="brands_to_audit_id" type="INT"/>
	           <column name="user_id" type="INT">
	               <constraints nullable="false"/>
	           </column>
	           <column name="create_dt" type="DATETIME">
	               <constraints nullable="false"/>
	           </column>
	           <column name="end_date" type="DATETIME"/>
	           <column name="cycle_status" type="INT">
	               <constraints nullable="false"/>
	           </column>
	           <column name="product_id" type="VARCHAR(20)"/>
	           <column name="product_variant_id" type="VARCHAR(20)"/>
	           <column name="warehouse_id" type="INT">
	               <constraints nullable="false"/>
	           </column>
	       </createTable>
	   </changeSet>
	   <changeSet author="Seema (generated)" id="1359698681938-2">
	       <createTable tableName="cycle_count_item">
	           <column autoIncrement="true" name="id" type="INT">
	               <constraints nullable="false" primaryKey="true"/>
	           </column>
	           <column name="cycle_count_id" type="INT">
	               <constraints nullable="false"/>
	           </column>
	           <column name="sku_group_id" type="INT">
	               <constraints nullable="false"/>
	           </column>
	           <column name="scanned_qty" type="INT"/>
	       </createTable>
	   </changeSet>
	   <changeSet author="Seema (generated)" id="1359698681938-3">
	       <addForeignKeyConstraint baseColumnNames="brands_to_audit_id" baseTableName="cycle_count"  constraintName="fk_cycle_count_brands_to_audit1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="brands_to_audit"  referencesUniqueColumn="false"/>
	   </changeSet>
	   <changeSet author="Seema (generated)" id="1359698681938-4">
	       <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="cycle_count"  constraintName="fk_cycle_count_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product"  referencesUniqueColumn="false"/>
	   </changeSet>
	   <changeSet author="Seema (generated)" id="1359698681938-5">
	       <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="cycle_count"  constraintName="fk_cycle_count_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant"  referencesUniqueColumn="false"/>
	   </changeSet>
	   <changeSet author="Seema (generated)" id="1359698681938-6">
	       <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="cycle_count"  constraintName="fk_cycle_count_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user"  referencesUniqueColumn="false"/>
	   </changeSet>
	   <changeSet author="Seema (generated)" id="1359698681938-7">
	       <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="cycle_count"  constraintName="fk_cycle_count_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse"  referencesUniqueColumn="false"/>
	   </changeSet>
	   <changeSet author="Seema (generated)" id="1359698681938-8">
	       <addForeignKeyConstraint baseColumnNames="cycle_count_id" baseTableName="cycle_count_item"  constraintName="fk_cycle_count_item_cycle_count1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="cycle_count"  referencesUniqueColumn="false"/>
	   </changeSet>
	   <changeSet author="Seema (generated)" id="1359698681938-9">
	       <addForeignKeyConstraint baseColumnNames="sku_group_id" baseTableName="cycle_count_item"  constraintName="fk_cycle_count_item_sku_group1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku_group"  referencesUniqueColumn="false"/>
	   </changeSet>

    <changeSet author="Pradeep (generated)" id="1359352448473-1">
        <addColumn tableName="hk_api_user">
            <column name="terms" type="VARCHAR(500)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pradeep " id="07-02-2013">
       <sql>
           update hk_api_user set  terms='http://www.healthkartplus.com/tnc' where api_key='healthkartplus';
       </sql>
    </changeSet>
    <changeSet author="Neha (generated)" id="1360226539319-1">
        <createTable tableName="courier_pickup_detail">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="pickup_confirmation_no" type="VARCHAR(70)"/>
            <column name="tracking_no" type="VARCHAR(70)"/>
            <column name="pickup_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="courier_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="pickup_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Neha (generated)" id="1360226539319-2">
        <createTable tableName="pickup_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Neha (generated)" id="1360226539319-3">
        <addForeignKeyConstraint baseColumnNames="courier_id" baseTableName="courier_pickup_detail" constraintName="fk_courier_pickup_detail_courier1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Neha (generated)" id="1360226539319-4">
        <addForeignKeyConstraint baseColumnNames="pickup_status_id" baseTableName="courier_pickup_detail" constraintName="fk_courier_pickup_detail_pickup_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pickup_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1359717387729-1">
        <createTable tableName="extra_inventory_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1359717387729-2">
        <addColumn tableName="extra_inventory">
            <column name="extra_inventory_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1359717387729-3">
        <addColumn tableName="extra_inventory_line_item">
            <column name="remarks" type="TEXT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1359717387729-4">
        <addColumn tableName="purchase_order">
            <column defaultValue="0" name="is_extra_inventory_created" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1359717387729-6">
        <addColumn tableName="rtv_note">
            <column name="destination_address" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1360256175267-1">
        <addColumn tableName="rtv_note">
            <column name="courier_pickup_detail_id" type="INT">
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1360256175267-2">
        <addForeignKeyConstraint baseColumnNames="courier_pickup_detail_id" baseTableName="rtv_note" constraintName="fk_rtv_note_courier_pickup_detail1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier_pickup_detail" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1359717387729-9">
        <createIndex indexName="name_UNIQUE" tableName="extra_inventory_status" unique="true">
            <column name="name"/>
        </createIndex>
    </changeSet>
    <changeSet author="Shrey (generated)" id="2013-01-02-01">
        <sql>
            insert into extra_inventory_status values(10, 'Created'),(20, 'Sent To Category'),(40, 'Closed');
            update extra_inventory set extra_inventory_status_id = 10;
            update purchase_order po join extra_inventory ei on po.id = ei.purchase_order_id set po.is_extra_inventory_created = 1;
        </sql>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1359717387729-10">
        <addForeignKeyConstraint baseColumnNames="extra_inventory_status_id" baseTableName="extra_inventory" constraintName="fk_extra_inventory_extra_inventory_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="extra_inventory_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Shrey (generated)" id="1360156689574-1">
        <addColumn tableName="extra_inventory">
            <column defaultValue="0" name="is_email_sent" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1360944809663-1">
        <createTable tableName="user_cod_call">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="call_status" type="SMALLINT">
                <constraints nullable="false"/>
            </column>
            <column name="remark" type="VARCHAR(70)"/>
            <column name="create_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Seema (generated)" id="1360944809663-2">
        <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="user_cod_call"  constraintName="fk_user_cod_call_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order"  referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1361217619752-1">
           <addNotNullConstraint columnDataType="DOUBLE" columnName="order_ranking" tableName="product" defaultNullValue="100000.0"/>
    </changeSet>
    <changeSet author="Ajeet (written)" id="1361217619752-2">
       <sql>
           update product set order_ranking=1.0 where order_ranking=0.0 and deleted=0;
       </sql>
    </changeSet>
    <changeSet author="Ajeet (written)" id="1361217619752-3">
       <sql>
           update product set order_ranking=100000.0 where order_ranking=0.0 and deleted=1;
       </sql>
    </changeSet>
    <changeSet author="Shilpa" id="1361862105941-1">
        <sql>
            alter table brands_to_audit add column `update_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
            update brands_to_audit set update_dt = audit_date;
        </sql>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1361868792355-1">
        <createTable tableName="entity_audit_trail">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="entity_id" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="old_json" type="LONGTEXT">
                <constraints nullable="false"/>
            </column>
            <column name="new_json" type="LONGTEXT">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="admin@healthkart.com" name="user_email" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column name="calling_class" type="VARCHAR(200)"/>
            <column name="create_dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1361941166899-1">
        <addColumn tableName="entity_audit_trail">
            <column name="stack_trace" type="LONGTEXT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Vaibhav (generated)" id="1362395307901-1">
        <createTable tableName="change_group">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="entity_id" type="VARCHAR(1000)">
                <constraints nullable="false"/>
            </column>
            <column name="entity_name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="action" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="modifying_user" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="CURRENT_TIMESTAMP" name="modified_date" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Vaibhav (generated)" id="1362395307901-2">
        <createTable tableName="change_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="field_name" type="VARCHAR(500)">
                <constraints nullable="false"/>
            </column>
            <column name="field_type" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column name="old_value" type="LONGTEXT"/>
            <column name="new_value" type="LONGTEXT">
                <constraints nullable="false"/>
            </column>
            <column name="change_group_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Vaibhav (generated)" id="1362395307901-11">
        <addForeignKeyConstraint baseColumnNames="change_group_id" baseTableName="change_item" constraintName="fk_change_item_change_group1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="change_group" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1362465491508-1">
        <createTable tableName="stock_transfer_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1362465491508-2">
        <addColumn tableName="stock_transfer">
            <column name="stock_transfer_status_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1362465491508-3">
        <createIndex indexName="name" tableName="manufacturer" unique="true">
            <column name="name"/>
        </createIndex>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1362465491508-4">
        <addForeignKeyConstraint baseColumnNames="stock_transfer_status_id" baseTableName="stock_transfer" constraintName="fk_stock_transfer_stock_transfer_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="stock_transfer_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1362465491508-5">
        <dropColumn columnName="cost_price" tableName="sku"/>
    </changeSet>
    <changeSet author="Rohit (generated)" id="1362465491508-6">
        <dropColumn columnName="lead_time" tableName="sku"/>
    </changeSet>
    <changeSet author="Ankit" id="05-03-2013-01">
        <sql>
            update gateway_issuer_mapping set issuer_code = 'CID041' where issuer_id = 37  and gateway_id = 80;
            update gateway_issuer_mapping set issuer_code = 'CID004' where issuer_id = 39  and gateway_id = 80;
            update gateway_issuer_mapping set issuer_code = 'CID007' where issuer_id = 36  and gateway_id = 80;
            update gateway_issuer_mapping set issuer_code = 'CID015' where issuer_id = 34  and gateway_id = 80;
            update gateway_issuer_mapping set issuer_code = 'CID014' where issuer_id = 33  and gateway_id = 80;
            update gateway_issuer_mapping set issuer_code = 'CID005' where issuer_id = 32  and gateway_id = 80;
            update gateway_issuer_mapping set issuer_code = 'CID012' where issuer_id = 31  and gateway_id = 80;
            update gateway_issuer_mapping set issuer_code = 'CID001' where issuer_id = 22  and gateway_id = 80;
            update gateway_issuer_mapping set issuer_code = 'CID010' where issuer_id = 21  and gateway_id = 80;
            update gateway_issuer_mapping set issuer_code = 'CID002' where issuer_id = 8  and gateway_id = 80;
            update gateway_issuer_mapping set issuer_code = 'CID006' where issuer_id = 17  and gateway_id = 80;
            update gateway_issuer_mapping set issuer_code = 'CID009' where issuer_id = 20  and gateway_id = 80;
        </sql>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1360060156998-1">
        <addColumn tableName="offer_action">
            <column name="free_variant_id" type="VARCHAR(20)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1360060156998-5">
        <addForeignKeyConstraint baseColumnNames="free_variant_id" baseTableName="offer_action" constraintName="fk_offer_action_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1360415137386-1">
        <addColumn tableName="offer">
            <column defaultValue="0" name="show_promptly" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1360415137386-2">
        <sql>
            DELETE u1 FROM user_cod_call u1, user_cod_call u2 WHERE u1.id &lt; u2.id AND u1.order_id = u2.order_id;
            ALTER TABLE user_cod_call ADD UNIQUE(order_id);
        </sql>
    </changeSet>
    <!--<changeSet author="Ankit (generated)" id="1359711888969-1">-->
        <!--<addColumn tableName="rv_line_item">-->
            <!--<column name="sku_group_id" type="INT"/>-->
        <!--</addColumn>-->
    <!--</changeSet>-->
    <!--<changeSet author="Ankit (generated)" id="1360921695034-1">-->
        <!--<addColumn tableName="cycle_count_item">-->
            <!--<column name="sku_item_id" type="INT"/>-->
        <!--</addColumn>-->
    <!--</changeSet>-->
    <!--<changeSet author="Ankit (generated)" id="1360921695034-2">-->
        <!--<dropNotNullConstraint columnDataType="INT" columnName="sku_group_id" tableName="cycle_count_item"/>-->
    <!--</changeSet>-->
    <!--<changeSet author="Ankit (generated)" id="1360921695034-3">-->
        <!--<addForeignKeyConstraint baseColumnNames="sku_item_id" baseTableName="cycle_count_item" constraintName="fk_cycle_count_item_sku_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku_item" referencesUniqueColumn="false"/>-->
    <!--</changeSet>-->
    <changeSet author="Ankur (generated)" id="1358841573903-1">
        <createTable tableName="mail">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
            <column name="content" type="LONGTEXT"/>
            <column name="amazon_file_path" type="VARCHAR(400)"/>
            <column name="subject" type="VARCHAR(200)"/>
        </createTable>
    </changeSet>
    <changeSet author="Ankur (generated)" id="1358841573903-2">
        <createTable tableName="product_review_mail">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="time_window_days" type="INT"/>
            <column name="days_to_send_review_mail_again" type="INT"/>
            <column name="create_dt" type="DATETIME"/>
            <column name="update_dt" type="DATETIME"/>
            <column name="is_enabled" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="product_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="mail_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="test_email_id" type="VARCHAR(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="Ankur (generated)" id="1358841573903-3">
        <createTable tableName="user_review_mail">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="due_date" type="DATETIME"/>
            <column name="create_dt" type="DATETIME"/>
            <column name="update_dt" type="DATETIME"/>
            <column defaultValue="0" name="is_mail_sent" type="TINYINT"/>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="user_review_id" type="INT"/>
            <column name="base_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="sent_date" type="DATETIME"/>
            <column name="product_variant_id" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ankur (generated)" id="1358841573903-5">
        <addForeignKeyConstraint baseColumnNames="created_by" baseTableName="product_review_mail"  constraintName="fk_review_mail_product_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ankur (generated)" id="1358841573903-6">
        <addForeignKeyConstraint baseColumnNames="last_updated_by" baseTableName="product_review_mail"  constraintName="fk_review_mail_product_user2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ankur (generated)" id="1358841573903-7">
        <addForeignKeyConstraint baseColumnNames="mail_id" baseTableName="product_review_mail"  constraintName="fk_mailing_product_mail1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="mail"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ankur (generated)" id="1358841573903-8">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_review_mail"  constraintName="fk_mailing_product_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ankur (generated)" id="1358841573903-9">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="user_review_mail"  constraintName="fk_user_review_mail_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ankur (generated)" id="1358841573903-10">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="user_review_mail" constraintName="fk_user_review_mail_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ankur (generated)" id="1358841573903-11">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_review_mail"  constraintName="fk_review_mail_user_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ankur (generated)" id="1358841573903-12">
        <addForeignKeyConstraint baseColumnNames="user_review_id" baseTableName="user_review_mail"  constraintName="fk_review_mail_user_user_review1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user_review"  referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ankur (generated)" id="1363612581975-1">
        <addColumn tableName="user_review">
            <column name="product_variant_id" type="VARCHAR(20)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ankur (generated)" id="1363612581975-2">
        <addColumn tableName="user_review_mail">
            <column defaultValue="0" name="is_expired" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ankur (generated)" id="1363612581975-3">
        <addForeignKeyConstraint baseColumnNames="product_variant_id" baseTableName="user_review" constraintName="fk_user_review_product_variant1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="2013-03-25-01">
        <addColumn tableName="shipping_order">
            <column defaultValue="0" name="contains_jit_products" type="TINYINT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="2013-03-25-02">
        <sql>
            update shipping_order so
            join line_item li on li.shipping_order_id=so.id
            join sku sk on li.sku_id=sk.id
            join product_variant pv on sk.product_variant_id=pv.id
            join product p on pv.product_id=p.id
            set so.contains_jit_products=1
            where p.is_jit=1;
        </sql>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1364284236844-1">
        <createTable tableName="lifecycle_reason">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="primary_attribution" type="VARCHAR(45)"/>
            <column name="secondary_attribution" type="VARCHAR(45)"/>
            <column name="shipping_order_lifecycle_id" type="INT"/>
            <column name="reason_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="order_lifecycle_id" type="INT"/>
            <column name="create_dt" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1364284236844-2">
        <createTable tableName="reason">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="primary_classification" type="VARCHAR(100)"/>
            <column name="secondary_classification" type="VARCHAR(100)"/>
            <column name="type" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1364284236844-4">
        <addForeignKeyConstraint baseColumnNames="order_lifecycle_id" baseTableName="lifecycle_reason"
                                 constraintName="fk_lifecycle_reason_order_lifecycle1" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="order_lifecycle"
                                 referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1364284236844-5">
        <addForeignKeyConstraint baseColumnNames="reason_id" baseTableName="lifecycle_reason"
                                 constraintName="fk_lifecycle_reason_reason1" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="reason"
                                 referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1364284236844-6">
        <addForeignKeyConstraint baseColumnNames="shipping_order_lifecycle_id" baseTableName="lifecycle_reason"
                                 constraintName="fk_lifecycle_reason_shipping_order_lifecycle1" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="shipping_order_lifecycle"
                                 referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham" id="2013-03-28-01">
        <sql>
            INSERT INTO `reason` (`id`, `primary_classification`, `secondary_classification`, `type`) VALUES
            (10, 'Invalid Pincode', NULL, 'SO Shipment Not Created'),
            (20, 'Suggested Courier not found', NULL, 'SO Shipment Not Created'),
            (30, 'Courier service not available here', NULL, 'SO Shipment Not Created'),
            (40, 'No shipment for drop shipped orders', NULL, 'SO Shipment Not Created'),
            (50, 'Could not assign Awb', NULL, 'SO Shipment Not Created'),
            (110, 'BO is a referred Order', NULL, 'SO Could not be Auto-escalated'),
            (120, 'Drop Shipped Order', NULL, 'SO Could not be Auto-escalated'),
            (130, 'Order contains JIT Products', NULL, 'SO Could not be Auto-escalated'),
            (140, 'Contains prescription glasses', NULL, 'SO Could not be Auto-escalated'),
            (150, 'Insufficient Unbooked Inventory', NULL, 'SO Could not be Auto-escalated'),
            (160, 'Payment Status is AuthPending-Error', NULL, 'SO Could not be Auto-escalated'),
            (170, 'Shipment Not Created', NULL, 'SO Could not be Auto-escalated'),
            (210, 'Shipment Not Created', NULL, 'SO Could not be Manually-escalated'),
            (220, 'Payment Status is AuthPending/Error', NULL, 'SO Could not be Manually-escalated'),
            (230, 'Insufficient Unbooked Inventory', NULL, 'SO Could not be Manually-escalated'),
            (310, 'Customer Request', 'Product Change', 'SO Escalated Back To Action Queue'),
            (320, 'Customer Request', 'Cancellation ', 'SO Escalated Back To Action Queue'),
            (330, 'Customer Request', 'Put on Hold', 'SO Escalated Back To Action Queue'),
            (340, 'Product Not Available', 'Damaged', 'SO Escalated Back To Action Queue'),
            (350, 'Product Not Available', 'Expired', 'SO Escalated Back To Action Queue'),
            (360, 'Product Not Available', 'Inventory Mismatch', 'SO Escalated Back To Action Queue'),
            (370, 'Mrp Mismatch', 'Greater than', 'SO Escalated Back To Action Queue'),
            (380, 'Mrp Mismatch', 'Lesser Than', 'SO Escalated Back To Action Queue');
        </sql>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1364841762619-1">
        <createTable tableName="shipping_order_category">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="shipping_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="category_name" type="VARCHAR(80)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="is_primary" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="create_dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="CURRENT_TIMESTAMP" name="update_dt" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1364841762619-321">
        <addForeignKeyConstraint baseColumnNames="category_name" baseTableName="shipping_order_category" constraintName="fk_shipping_order_category_category1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="name" referencedTableName="category" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1364841762619-322">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="shipping_order_category" constraintName="fk_shipping_order_category_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1364841762619-323">
        <modifyDataType columnName="other_remark" newDataType="VARCHAR(2000)" tableName="product_variant"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1364846682281-2">
        <dropNotNullConstraint columnDataType="VARCHAR(45)" columnName="basket_category" tableName="shipping_order"/>
    </changeSet>
    <changeSet author="Pratham" id="2013-04-01-01">
        <sql>
            insert into shipping_order_category(shipping_order_id,category_name,is_primary,create_dt,update_dt)
            select li.shipping_order_id,p.primary_category,0,NOW(),NOW() from line_item li
            join sku sk on li.sku_id=sk.id
            join product_variant pv on pv.id=sk.product_variant_id
            join product p on pv.product_id=p.id;
        </sql>
    </changeSet>
    <changeSet author="Pratham" id="2013-04-01-02">
        <sql>
            update shipping_order_category soc
            join shipping_order so on soc.shipping_order_id=so.id
            set soc.is_primary=1
            where so.basket_category is not null;
        </sql>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1361952544855-1">
        <addColumn tableName="shipping_order">
            <column name="accounting_invoice_number" type="VARCHAR(20)"/>
        </addColumn>
    </changeSet>
   <!-- <changeSet author="Pratham" id="2013-04-08-01">
        <sql>
            insert into permission values ('BULK_SPLIT_BO');
            insert into permission values ('SPLIT_BO');
            insert into permission values ('SAVE_SHIPPING_COST');
            insert into role_has_permission values ('CATEGORY_MANAGER','SPLIT_BO');
        </sql>
    </changeSet>-->
    <changeSet author="Pratham (generated)" id="1365581845195-1">
        <createTable tableName="bucket">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
            <column name="description" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1365581845195-2">
        <createTable tableName="bucket_constituents">
            <column name="bucket_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="params_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1365581845195-3">
        <createTable tableName="bucket_owner"> <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="bucket_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1365581845195-4">
        <createTable tableName="params">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="param_name" type="VARCHAR(45)"/>
            <column name="param_values" type="VARCHAR(90)"/>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1365581845195-6">
        <addPrimaryKey columnNames="bucket_id, params_id" tableName="bucket_constituents"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1365581845195-7">
        <addPrimaryKey columnNames="user_id, bucket_id" tableName="bucket_owner"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1365581845195-48">
        <addForeignKeyConstraint baseColumnNames="bucket_id" baseTableName="bucket_constituents" constraintName="fk_bucket_has_params_bucket1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="bucket" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1365581845195-49">
        <addForeignKeyConstraint baseColumnNames="params_id" baseTableName="bucket_constituents" constraintName="fk_bucket_has_params_params1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="params" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1365581845195-50">
        <addForeignKeyConstraint baseColumnNames="bucket_id" baseTableName="bucket_owner" constraintName="fk_user_has_bucket_bucket1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="bucket" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1365581845195-51">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="bucket_owner" constraintName="fk_user_has_bucket_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
	<changeSet author="rahul" id="12-04-2013-01">
		<sql>
			insert into warehouse(id, city, state, wh_phone, line1, line2, name, pincode,tin) values
			(401, 'Delhi', 'Delhi', '12345', '2nd Floor, Safexpress Cargo Complex , 971/1 ',
			'Opposite Fun and Food Village, Kapashera, New Delhi', 'Kapashera Warehouse', '110037', '07320452122')
			ON DUPLICATE KEY UPDATE wh_phone ='12345';
		</sql>
	</changeSet>
    <changeSet author="Neha (generated)" id="1366107463794-1">
        <createTable tableName="reverse_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="return_qty" type="VARCHAR(45)"/>
            <column name="create_dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="reverse_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="referred_line_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Neha (generated)" id="1366107463794-2">
        <createTable tableName="reverse_order">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="amount" type="DOUBLE"/>
            <column name="return_reason" type="VARCHAR(45)"/>
            <column name="reverse_order_type" type="VARCHAR(45)"/>
            <column name="action_proposed" type="VARCHAR(45)"/>
            <column name="create_dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="receive_dt" type="DATETIME"/>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="reconciliation_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="courier_pickup_detail_id" type="INT"/>
            <column name="shipping_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Neha (generated)" id="1366107463794-3">
        <addColumn tableName="replacement_order">
            <column name="reverse_order_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Neha (generated)" id="1366107463794-4">
        <addForeignKeyConstraint baseColumnNames="reverse_order_id" baseTableName="replacement_order" constraintName="fk_replacement_order_reverse_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="reverse_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Neha (generated)" id="1366107463794-5">
        <addForeignKeyConstraint baseColumnNames="referred_line_item_id" baseTableName="reverse_line_item" constraintName="fk_reverse_line_item_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="line_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Neha (generated)" id="1366107463794-6">
        <addForeignKeyConstraint baseColumnNames="reverse_order_id" baseTableName="reverse_line_item" constraintName="fk_reverse_line_item_reverse_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="reverse_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Neha (generated)" id="1366107463794-7">
        <addForeignKeyConstraint baseColumnNames="courier_pickup_detail_id" baseTableName="reverse_order" constraintName="fk_reverse_order_courier_pickup_detail1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="courier_pickup_detail" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Neha (generated)" id="1366107463794-8">
        <addForeignKeyConstraint baseColumnNames="reconciliation_status_id" baseTableName="reverse_order" constraintName="fk_reverse_order_reconciliation_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="reconciliation_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Neha (generated)" id="1366107463794-9">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="reverse_order" constraintName="fk_reverse_order_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Neha (generated)" id="1366107463794-10">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="reverse_order" constraintName="fk_reverse_order_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Neha (generated)" id="1366107463794-11">
        <createIndex indexName="shipping_order_id_UNIQUE" tableName="reverse_order" unique="true">
            <column name="shipping_order_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Neha" id="16-04-2013-01">
		<sql>
          INSERT INTO role VALUES("OPS_MANAGER_REVERSE_PICKUP"),("CUSTOMER_SUPPORT_REVERSE_PICKUP"),("WH_EMPLOYEE_REVERSE_PICKUP");

          INSERT INTO permission VALUES ("CREATE_REVERSE_PICKUP_ORDER"),("SCHEDULE_COURIER_FOR_PICKUP"),("MARK_PICKED"),("MARK_RECEIVED"),
            ("MARK_RECONCILED"),("ADVICE_PROPOSED"),("EDIT_AWB_NO"),("EDIT_BOOKING_NO"),("GENERATE_EXCEL_FOR_REVERSE_PICKUP");

          INSERT INTO role_has_permission VALUES ("OPS_MANAGER_REVERSE_PICKUP","CREATE_REVERSE_PICKUP_ORDER"),("OPS_MANAGER_REVERSE_PICKUP","SCHEDULE_COURIER_FOR_PICKUP"),
            ("OPS_MANAGER_REVERSE_PICKUP","MARK_PICKED"),("OPS_MANAGER_REVERSE_PICKUP","MARK_RECEIVED"),("OPS_MANAGER_REVERSE_PICKUP","ADVICE_PROPOSED"),
            ("OPS_MANAGER_REVERSE_PICKUP","EDIT_AWB_NO"),("OPS_MANAGER_REVERSE_PICKUP","EDIT_BOOKING_NO"),("OPS_MANAGER_REVERSE_PICKUP","GENERATE_EXCEL_FOR_REVERSE_PICKUP");

          INSERT INTO role_has_permission VALUES ("CUSTOMER_SUPPORT_REVERSE_PICKUP","CREATE_REVERSE_PICKUP_ORDER"),("CUSTOMER_SUPPORT_REVERSE_PICKUP","SCHEDULE_COURIER_FOR_PICKUP"),
            ("CUSTOMER_SUPPORT_REVERSE_PICKUP","MARK_PICKED"),("CUSTOMER_SUPPORT_REVERSE_PICKUP","MARK_RECONCILED"),("CUSTOMER_SUPPORT_REVERSE_PICKUP","EDIT_AWB_NO"),
            ("CUSTOMER_SUPPORT_REVERSE_PICKUP","EDIT_BOOKING_NO"),("CUSTOMER_SUPPORT_REVERSE_PICKUP","GENERATE_EXCEL_FOR_REVERSE_PICKUP");

          INSERT INTO role_has_permission VALUES ("WH_EMPLOYEE_REVERSE_PICKUP","MARK_RECEIVED"),("WH_EMPLOYEE_REVERSE_PICKUP","ADVICE_PROPOSED");
        </sql>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1366219849770-1">
        <createTable tableName="b2b_order_checklist">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValueNumeric="0" name="c_form" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="base_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1366219849770-3">
        <addForeignKeyConstraint baseColumnNames="base_order_id" baseTableName="b2b_order_checklist" constraintName="fk_b2b_order_checklist_base_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="2013-04-22-01">
        <addColumn tableName="base_order">
            <column name="confirmation_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <!--<changeSet author="Pratham (generated)" id="2013-04-22-02">-->
        <!--<dropColumn columnName="target_dispatch_date_on_verify" tableName="base_order"/>-->
    <!--</changeSet>-->
    <changeSet author="Pratham (generated)" id="1366787798141-1">
        <createTable tableName="action_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="shipping_order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="reporter" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="flagged" type="INT"/>
            <column name="traffic_state_id" type="INT"/>
            <column name="priority" type="INT"/>
            <column name="first_push_date" type="DATETIME"/>
            <column name="last_push_date" type="DATETIME"/>
            <column name="pop_date" type="DATETIME"/>
            <column name="previous_action_task_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="current_action_task_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-2">
        <createTable tableName="action_item_buckets">
            <column name="action_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="bucket_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-3">
        <createTable tableName="action_item_labels">
            <column name="action_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="label_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-4">
        <createTable tableName="action_task">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(90)">
                <constraints nullable="false"/>
            </column>
            <column name="priority" type="INT"/>
            <column name="next_action_task_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="acknowledged" type="TINYINT"/>
            <column name="acknowledged_by" type="INT"/>
            <column name="range" type="INT"/>
            <column name="hierarchy" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-5">
        <createTable tableName="classification">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="primary" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="secondary" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-6">
        <createTable tableName="label">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
            <column name="color_code" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-7">
        <createTable tableName="reason_has_bucket">
            <column name="reason_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="bucket_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-8">
        <createTable tableName="traffic_state">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-9">
        <createTable tableName="watcher">
            <column name="action_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-10">
        <addColumn tableName="bucket">
            <column name="classification_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-11">
        <addColumn tableName="reason">
            <column name="classification_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
     <changeSet author="Ajeet (generated)" id="1366967291560-2">
        <dropNotNullConstraint columnDataType="INT" columnName="classification_id" tableName="reason"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-12">
        <modifyDataType columnName="name" newDataType="VARCHAR(100)" tableName="bucket"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-13">
        <addNotNullConstraint columnDataType="VARCHAR(100)" columnName="name" tableName="bucket"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-14">
        <addPrimaryKey columnNames="action_item_id, bucket_id" tableName="action_item_buckets"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-15">
        <addPrimaryKey columnNames="action_item_id, label_id" tableName="action_item_labels"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-16">
        <addPrimaryKey columnNames="reason_id, bucket_id" tableName="reason_has_bucket"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-17">
        <addPrimaryKey columnNames="action_item_id, user_id" tableName="watcher"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-18">
        <addForeignKeyConstraint baseColumnNames="current_action_task_id" baseTableName="action_item" constraintName="fk_action_item_action_task1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="action_task" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-19">
        <addForeignKeyConstraint baseColumnNames="previous_action_task_id" baseTableName="action_item" constraintName="fk_action_item_action_task2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="action_task" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-20">
        <addForeignKeyConstraint baseColumnNames="reporter" baseTableName="action_item" constraintName="fk_table1_user2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-21">
        <addForeignKeyConstraint baseColumnNames="shipping_order_id" baseTableName="action_item" constraintName="fk_action_item_shipping_order1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="shipping_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-22">
        <addForeignKeyConstraint baseColumnNames="traffic_state_id" baseTableName="action_item" constraintName="fk_action_task_traffic_state1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="traffic_state" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-23">
        <addForeignKeyConstraint baseColumnNames="action_item_id" baseTableName="action_item_buckets" constraintName="fk_action_queue_has_bucket_action_queue1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="action_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-24">
        <addForeignKeyConstraint baseColumnNames="bucket_id" baseTableName="action_item_buckets" constraintName="fk_action_queue_has_bucket_bucket1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="bucket" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-25">
        <addForeignKeyConstraint baseColumnNames="action_item_id" baseTableName="action_item_labels" constraintName="fk_action_item_has_label_action_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="action_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-26">
        <addForeignKeyConstraint baseColumnNames="label_id" baseTableName="action_item_labels" constraintName="fk_action_item_has_label_label1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="label" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-27">
        <addForeignKeyConstraint baseColumnNames="acknowledged_by" baseTableName="action_task" constraintName="fk_action_item_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-28">
        <addForeignKeyConstraint baseColumnNames="next_action_task_id" baseTableName="action_task" constraintName="fk_action_task_action_task1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="action_task" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Pratham (generated)" id="1366787798141-31">
        <addForeignKeyConstraint baseColumnNames="bucket_id" baseTableName="reason_has_bucket" constraintName="fk_reason_has_bucket_bucket1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="bucket" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-32">
        <addForeignKeyConstraint baseColumnNames="reason_id" baseTableName="reason_has_bucket" constraintName="fk_reason_has_bucket_reason1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="reason" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-33">
        <addForeignKeyConstraint baseColumnNames="action_item_id" baseTableName="watcher" constraintName="fk_action_item_has_user_action_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="action_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1366787798141-34">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="watcher" constraintName="fk_action_item_has_user_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Rajesh" id="24-04-2013-01">
    		<sql>
              INSERT INTO category(name,display_name) VALUES("dynamic-remarketing", "Dynamic Remarketing") on duplicate key update display_name = 'Dynamic Remarketing';
            </sql>
       </changeSet>

    <changeSet author="Seema (generated)" id="1365072411708-1">
        <addColumn tableName="cycle_count">
            <column name="brand" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Seema (generated)" id="1365072411708-2">
        <sql>
            update cycle_count cc inner join brands_to_audit bd on cc.brands_to_audit_id = bd.id
            set cc.brand = bd.brand where cc.brands_to_audit_id is not null;
        </sql>
    </changeSet>
    <changeSet author="Seema (generated)" id="1365072411708-3">
        <sql>
            insert into cycle_count (user_id,create_dt,end_date,cycle_status,warehouse_id,brand)
            select bd.auditor_user_id,bd.audit_date,bd.update_dt,400,bd.warehouse_id,bd.brand
            from brands_to_audit bd left  join cycle_count cc on cc.brands_to_audit_id = bd.id where cc.id is null ;
        </sql>
    </changeSet>
    <changeSet author="Seema (generated)" id="1365072411708-4">
        <dropForeignKeyConstraint baseTableName="cycle_count"  constraintName="fk_cycle_count_brands_to_audit1"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1365072411708-5">
        <dropColumn columnName="brands_to_audit_id" tableName="cycle_count"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1365102303090-1">
        <dropForeignKeyConstraint baseTableName="brands_to_audit" constraintName="fk_brands_to_audit_user1"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1365102303090-2">
        <dropForeignKeyConstraint baseTableName="brands_to_audit"   constraintName="fk_brands_to_audit_warehouse1"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1365102303090-5">
        <dropTable tableName="brands_to_audit"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1366805815392-2">
        <modifyDataType columnName="name" newDataType="VARCHAR(100)" tableName="inv_txn_type"/>
    </changeSet>
    <changeSet author="Seema (generated)" id="1365102303090-6">
        <sql>

            insert into reconciliation_type(id, name) values (150, 'Damage-Add') on duplicate key update name = 'Damage-Add';
            insert into reconciliation_type(id, name) values (160, 'Expired-Add') on duplicate key update name = 'Expired-Add';
            insert into reconciliation_type(id, name) values (170, 'Batch Mismatch-Add') on duplicate key update name = 'Batch Mismatch-Add';
            insert into reconciliation_type(id, name) values (180, 'Free Variant-Add') on duplicate key update name = 'Free Variant-Add';


            update rv_line_item rv inner join reconciliation_voucher rc on rv.reconciliation_voucher_id = rc.id
            set rv.reconciliation_type_id = 150 where rv.reconciliation_type_id  = 30 and rc.reconciliation_type_id = 10;
            update rv_line_item rv inner join reconciliation_voucher rc on rv.reconciliation_voucher_id = rc.id
            set rv.reconciliation_type_id = 160 where rv.reconciliation_type_id  = 40 and rc.reconciliation_type_id = 10;
            update rv_line_item rv inner join reconciliation_voucher rc on rv.reconciliation_voucher_id = rc.id
            set rv.reconciliation_type_id = 170 where rv.reconciliation_type_id  = 60 and rc.reconciliation_type_id = 10;
            update rv_line_item rv inner join reconciliation_voucher rc on rv.reconciliation_voucher_id = rc.id
            set rv.reconciliation_type_id = 180 where rv.reconciliation_type_id  = 90 and rc.reconciliation_type_id = 10;

            insert into inv_txn_type(id,name) values(220,'Damaged Stock against Reconciliation Voucher-Add') on duplicate key update name = 'Damaged Stock against Reconciliation Voucher-Add';
            insert into inv_txn_type(id,name) values(230,'Expired against Reconciliation Voucher-Add')  on duplicate key update name = 'Expired against Reconciliation Voucher-Add';
            insert into inv_txn_type(id,name) values(240,'Inventory Checkin for Free Variant-RV Add')   on duplicate key update name = 'Inventory Checkin for Free Variant-RV Add';
            insert into inv_txn_type(id,name) values(250,'Inventory Checkin for Batch Mismatch-RV Add') on duplicate key update name = 'Inventory Checkin for Batch Mismatch-RV Add';

            update product_variant_inventory pvi inner join rv_line_item rv on pvi.rv_line_item_id = rv.id
            set pvi.inv_txn_type_id = 220 where rv.reconciliation_type_id = 150;
            update product_variant_inventory pvi inner join rv_line_item rv on pvi.rv_line_item_id = rv.id
            set pvi.inv_txn_type_id = 230 where rv.reconciliation_type_id = 160;
            update product_variant_inventory pvi inner join rv_line_item rv on pvi.rv_line_item_id = rv.id
            set pvi.inv_txn_type_id = 250 where rv.reconciliation_type_id = 170;
            update product_variant_inventory pvi inner join rv_line_item rv on pvi.rv_line_item_id = rv.id
            set pvi.inv_txn_type_id = 240 where rv.reconciliation_type_id = 180;
        </sql>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1366281640164-1">
        <addColumn tableName="warehouse">
            <column defaultValue="1" name="honoring_b2c_orders" remarks="1 = Serving B2B+B2C the way we are doing right now, 0 = Exclusive to B2B" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1366281640164-2">
        <addColumn tableName="warehouse">
            <column defaultValue="1" name="warehouse_type" remarks="1 =  Online B2B, 2 =  Online B2C, 3 =  Offline B2C, 4=Pharma, 5=Corporate" type="INT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="Ajeet (generated)" id="1366286805259-1">
        <dropNotNullConstraint columnDataType="VARCHAR(45)" columnName="wh_phone" tableName="warehouse"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1366288560740-1">
        <addColumn tableName="warehouse">
            <column defaultValue="1" name="active" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1366279888165-2">
        <addColumn tableName="warehouse">
            <column defaultValue="Warehouse" name="identifier" type="VARCHAR(100)">
	     <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (written)" id="20130423-01">
        <sql>
            set foreign_key_checks = 0;
            truncate table warehouse;
            set foreign_key_checks = 1;
        </sql>
    </changeSet>
    <changeSet author="Ajeet (written)" id="20130423-02">
        <sql>
            insert into warehouse (id,tin,identifier,name,line1,line2,city,state,pincode,wh_phone,store_id,honoring_b2c_orders,warehouse_type,active) values (1,'06101832036','GGN Bright Warehouse','Bright Lifecare Pvt Ltd','Khasra No. 146/25/2/1','Jail Road, Dhumaspur, Badshahpur ','Gurgaon','HARYANA','122101','1234567890',NULL,1,1,1);
            insert into warehouse (id,tin,identifier,name,line1,line2,city,state,pincode,wh_phone,store_id,honoring_b2c_orders,warehouse_type,active) values (2,'27210893736V','MUM Bright Warehouse','Bright Lifecare Pvt Ltd','Mouje Walshind Village','Mumbai Nashik Highway NH 3, Walsind, Lonad','Mumbai','MAHARASHTRA','400101','1234567890',NULL,1,1,1);
            insert into warehouse (id,tin,identifier,name,line1,line2,city,state,pincode,wh_phone,store_id,honoring_b2c_orders,warehouse_type,active) values (10,'06101832327','GGN Aqua Warehouse','Aquamarine Healthcare Pvt Ltd','Khasra No. 146/25/2/1','Jail Road, Dhumaspur, Badshahpur ','Gurgaon','Haryana','122101','1234567890',NULL,1,2,0);
            insert into warehouse (id,tin,identifier,name,line1,line2,city,state,pincode,wh_phone,store_id,honoring_b2c_orders,warehouse_type,active) values (20,'27800897340V','MUM Aqua Warehouse','Aquamarine Healthcare Pvt Ltd','Mouje Walshind Village','Mumbai Nashik Highway NH 3, Walsind, Lonad','Mumbai','Maharrashtra','400101','1234567890',NULL,1,2,0);
            insert into warehouse (id,tin,identifier,name,line1,line2,city,state,pincode,wh_phone,store_id,honoring_b2c_orders,warehouse_type,active) values (101,'06101832036','GGN Bright Pharma Warehouse','Bright Lifecare Pvt Ltd','Khasra No. 146/25/2/1','Jail Road, Dhumaspur, Badshahpur\n			','Gurgaon','HARYANA','122101','1234567890',NULL,0,4,0);
            insert into warehouse (id,tin,identifier,name,line1,line2,city,state,pincode,wh_phone,store_id,honoring_b2c_orders,warehouse_type,active) values (301,'07840464349','DEL Punjabi Bagh Store','Aquamarine Healthcare Pvt Ltd','Shop No 15, Ground Floor, North west Avenue, Club road,','Punjabi bagh Extn','Delhi','Delhi','110026','1234567890',101,1,3,1);
            insert into warehouse (id,tin,identifier,name,line1,line2,city,state,pincode,wh_phone,store_id,honoring_b2c_orders,warehouse_type,active) values (401,'07320452122','DEL Kapashera Bright Warehouse','Bright Lifecare Pvt Ltd','2nd Floor, Safexpress Cargo Complex , 971/1 ','Opposite Fun and Food Village, Kapashera, New Delhi','Delhi','Delhi','110037','1234567890',NULL,0,1,1);
            insert into warehouse (id,tin,identifier,name,line1,line2,city,state,pincode,wh_phone,store_id,honoring_b2c_orders,warehouse_type,active) values (999,'06101832327','GGN Corporate Office','Corporate Office','Parsvnath Arcadia','Sector-14','Gurgaon','HARYANA','122101','1234567890',NULL,0,5,0);
           </sql>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1366426068617-2">
        <createIndex indexName="identifier_UNIQUE" tableName="warehouse" unique="true">
            <column name="identifier"/>
        </createIndex>
    </changeSet>
    <changeSet author="Ajeet (written)" id="20130418-01">
        <sql>
            ALTER TABLE warehouse MODIFY COLUMN tin VARCHAR(45) NOT NULL AFTER id;
            ALTER TABLE warehouse MODIFY COLUMN identifier VARCHAR(100) NOT NULL AFTER tin;
            ALTER TABLE warehouse MODIFY COLUMN name VARCHAR(100) NOT NULL AFTER identifier;
            ALTER TABLE warehouse MODIFY COLUMN line1 VARCHAR(100) AFTER name;
            ALTER TABLE warehouse MODIFY COLUMN line2 VARCHAR(100) AFTER line1;
            ALTER TABLE warehouse MODIFY COLUMN wh_phone VARCHAR(45) AFTER pincode;
        </sql>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1366966901739-1">
        <addColumn tableName="product_variant">
            <column name="commission" type="DECIMAL(8,2)"/>
        </addColumn>
    </changeSet>
    <!--<changeSet author="Ajeet (generated)" id="1366966901739-2">
        <addNotNullConstraint columnDataType="VARCHAR(100)" columnName="name" tableName="inv_txn_type"/>
    </changeSet> -->
    <changeSet author="Ajeet (generated)" id="1366966901739-4">
        <addForeignKeyConstraint baseColumnNames="classification_id" baseTableName="bucket" constraintName="fk_bucket_classification1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="classification" referencesUniqueColumn="false"/>
    </changeSet>
    <!--<changeSet author="Ajeet (generated)" id="1366966901739-5">-->
        <!--<addForeignKeyConstraint baseColumnNames="classification_id" baseTableName="reason" constraintName="fk_reason_classification1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="classification" referencesUniqueColumn="false"/>-->
    <!--</changeSet>-->
    <changeSet author="marut (generated)" id="1366356450756-01">
        <createTable tableName="marketing_feed">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="feed_name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="product_id" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1367471591738-2">
        <dropNotNullConstraint columnDataType="INT" columnName="previous_action_task_id" tableName="action_item"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1367471591738-3">
        <dropNotNullConstraint columnDataType="INT" columnName="next_action_task_id" tableName="action_task"/>
    </changeSet>
    <changeSet author="Pratham (written)" id="20130502-01">
        <sql>
            ALTER TABLE bucket MODIFY COLUMN id INT;
            ALTER TABLE reason MODIFY COLUMN id INT;
            ALTER TABLE classification MODIFY COLUMN id INT;
            ALTER TABLE action_task MODIFY COLUMN id INT;
        </sql>
    </changeSet>
    <changeSet author="Pratham (written)" id="20130502-02">
        <sql>
            UPDATE `action_task` SET acknowledged =0;
            ALTER TABLE `action_task` CHANGE `acknowledged` `acknowledged` TINYINT( 4 ) NULL DEFAULT '0';
        </sql>
    </changeSet>
	<changeSet author="Rahul (written)" id="2013-05-03-01">
		<sql>
			INSERT INTO  `seek_invoice_num` (`id` ,`warehouse_id`,`invoice_num`,`prefix`,`description`)
			VALUES ( NULL ,  '401',  '1',  'R',  'Retail Invoice 2013'),
			(NULL,'401','1','T','B2B Invoice 2013');

		</sql>
	</changeSet>
    <changeSet author="Ajeet (generated)" id="1367657291705-1">
        <createTable tableName="clearance_sale_product">
            <column name="product_id" type="VARCHAR(20)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValueNumeric="1000000" name="sorting" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="deleted" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1367657291705-4">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="clearance_sale_product" constraintName="fk_clearance_sale_product_product1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="2013-05-06-01">
        <addColumn tableName="pincode_default_courier">
            <column name="estimated_delivery_days" type="INT"/>
        </addColumn>
    </changeSet>
		<changeSet author="Tarun (written)" id="2013-06-05-01">
			<sql>
				ALTER TABLE  `zone` CHANGE  `id`  `id` INT( 11 ) NOT NULL AUTO_INCREMENT
			</sql>
		</changeSet>
    <changeSet author="Ankur (generated)" id="1367992804803-3">
        <createIndex indexName="name_value_unique_constraint" tableName="product_option" unique="true">
            <column name="name"/>
            <column name="value"/>
        </createIndex>
    </changeSet>
    <changeSet author="Shilpa (generated)" id="1367842115673-1">
        <addColumn tableName="consignment">
            <column name="owner" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Shilpa (generated)" id="1367842115673-2">
        <addColumn tableName="consignment">
            <column name="target_delivery_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet author="Shilpa (generated)" id="1367842115673-3">
        <addColumn tableName="consignment_tracking">
            <column name="ndr_resolution" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Shilpa (generated)" id="1367842551660-1">
        <modifyDataType columnName="remarks" newDataType="VARCHAR(150)" tableName="consignment_tracking"/>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1367933059204-2">
        <addColumn tableName="grn_line_item">
            <column name="weight" type="DOUBLE">
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1368526085655-1">
        <createTable tableName="credit_note">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="warehouse_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="credit_note_status_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="is_user_credited" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="remarks" type="VARCHAR(200)"/>
            <column name="create_dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="update_dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1368526085655-2">
        <createTable tableName="credit_note_line_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="qty" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="cost_price" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="mrp" type="DECIMAL(8,2)">
                <constraints nullable="false"/>
            </column>
            <column name="credit_note_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="sku_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="remarks" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1368526085655-3">
        <createTable tableName="credit_note_status">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1368526085655-4">
        <addColumn tableName="address">
            <column name="mobile" type="VARCHAR(10)"/>
        </addColumn>
    </changeSet>
    
    <changeSet author="Ajeet (generated)" id="1368526085655-7">
        <addForeignKeyConstraint baseColumnNames="created_by" baseTableName="credit_note" constraintName="fk_credit_note_user2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1368526085655-8">
        <addForeignKeyConstraint baseColumnNames="credit_note_status_id" baseTableName="credit_note" constraintName="fk_credit_note_credit_note_status1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="credit_note_status" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1368526085655-9">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="credit_note" constraintName="fk_credit_note_user1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1368526085655-10">
        <addForeignKeyConstraint baseColumnNames="warehouse_id" baseTableName="credit_note" constraintName="fk_credit_note_warehouse1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="warehouse" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1368526085655-11">
        <addForeignKeyConstraint baseColumnNames="credit_note_id" baseTableName="credit_note_line_item" constraintName="fk_credit_note_line_item_credit_note1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="credit_note" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1368526085655-12">
        <addForeignKeyConstraint baseColumnNames="sku_id" baseTableName="credit_note_line_item" constraintName="fk_credit_note_line_item_sku1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1368641223302-1">
        <createTable tableName="search_log">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="traffic_tracking_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="keyword" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="results" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="CURRENT_TIMESTAMP" name="create_dt" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1368696491962-1">
        <addColumn tableName="search_log">
            <column defaultValue="n/a" name="category" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1368859876126-1">
        <addColumn tableName="search_log">
            <column name="first_click_pos" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1368859876126-2">
        <addColumn tableName="user_browsing_history">
            <column name="product_pos" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ajeet (generated)" id="1368860696832-1">
        <addColumn tableName="user_browsing_history">
            <column name="product_referrer_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ankit Chhabra (generated)" id="1369032364175-1">
        <createTable tableName="loyalty_product">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="variant_id" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="points" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ankit Chhabra (generated)" id="1369032364175-2">
        <createTable tableName="user_badge_info">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="badge_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="card_number" type="VARCHAR(45)"/>
            <column name="creation_time" type="DATETIME"/>
            <column name="updation_time" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet author="Ankit Chhabra (generated)" id="1369032364175-3">
        <createTable tableName="user_order_karma_profile">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="creation_time" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="update_time" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="transaction_type" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="status" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="points" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Ankit Chhabra (generated)" id="1369032364175-4">
        <addColumn tableName="badge">
            <column name="icon_rel_url" type="VARCHAR(32)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ankit Chhabra (generated)" id="1369032364175-5">
        <addColumn tableName="badge">
            <column name="loyalty_percentage" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Ankit Chhabra (generated)" id="1369032364175-6">
        <modifyDataType columnName="max_score" newDataType="DOUBLE" tableName="badge"/>
    </changeSet>
    <changeSet author="Ankit Chhabra (generated)" id="1369032364175-7">
        <dropNotNullConstraint columnDataType="DOUBLE" columnName="max_score" tableName="badge"/>
    </changeSet>
    <changeSet author="Ankit Chhabra (generated)" id="1369032364175-8">
        <modifyDataType columnName="min_score" newDataType="DOUBLE" tableName="badge"/>
    </changeSet>
    <changeSet author="Ankit Chhabra (generated)" id="1369032364175-9">
        <dropNotNullConstraint columnDataType="DOUBLE" columnName="min_score" tableName="badge"/>
    </changeSet>
    <changeSet author="Ankit Chhabra (generated)" id="1369032364175-10">
        <addNotNullConstraint columnDataType="VARCHAR(100)" columnName="name" tableName="inv_txn_type"/>
    </changeSet>
    <changeSet author="Ankit Chhabra (generated)" id="1369032364175-11">
        <addForeignKeyConstraint baseColumnNames="variant_id" baseTableName="loyalty_product" constraintName="fk_loyalty_product_variant" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_variant" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ankit Chhabra (generated)" id="1369032364175-12">
        <addForeignKeyConstraint baseColumnNames="badge_id" baseTableName="user_badge_info" constraintName="fk_user_badge_info_badge" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="badge" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ankit Chhabra (generated)" id="1369032364175-13">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_badge_info" constraintName="fk_user_badge_info_user" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ankit Chhabra (generated)" id="1369032364175-14">
        <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="user_order_karma_profile" constraintName="fk_ukarma_order" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_order" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ankit Chhabra (generated)" id="1369032364175-15">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_order_karma_profile" constraintName="fk_ukarma_user" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Ankit Chhabra" id="1369032364175-16">
		<sql>
			insert into badge (badge_name,min_score,max_score,loyalty_percentage) values 
			('NORMAL', 0, 1500, 0.0),
			('BRONZE', 1501, 3000, 1.0),
			('SILVER', 3001, 6000, 1.5),
			('GOLD', 6001, 12000, 1.75),
			('PLATINUM', 12001, -1, 2.0);
		</sql>
	</changeSet>
    <changeSet author="Ankit Chhabra" id="1369032364175-17">
    	<sql>
    		insert into reward_point_mode (id,name) values ('80','HK Loyalty Points');
    	</sql>
	</changeSet>
	 <changeSet author="Ankit Chhabra" id="1369032364175-18">
		 <sql>
    		insert into role (name) values ('HK_LOYALTY_USER');
    	</sql>
	</changeSet>
    	<changeSet author="Ankit Chhabra" id="1369032364175-19">
		<sql>
    		insert into store (id,name,prefix) values ('4','LOYALTYPG', 'LP');
    	</sql>
	</changeSet>
    <changeSet author="Nihal (generated)" id="1367838930686-3">
        <createTable tableName="purchase_invoice_has_rtv_note">
            <column name="purchase_invoice_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="rtv_note_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1367838930686-7">
        <addPrimaryKey columnNames="purchase_invoice_id, rtv_note_id" tableName="purchase_invoice_has_rtv_note"/>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1367838930686-11">
        <addForeignKeyConstraint baseColumnNames="purchase_invoice_id" baseTableName="purchase_invoice_has_rtv_note" constraintName="fk_purchase_invoice_has_rtv_note_purchase_invoice1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_invoice" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1367838930686-12">
        <addForeignKeyConstraint baseColumnNames="rtv_note_id" baseTableName="purchase_invoice_has_rtv_note" constraintName="fk_purchase_invoice_has_rtv_note_rtv_note1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="rtv_note" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1367845228160-2">
        <addColumn tableName="extra_inventory_line_item">
            <column name="payable_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1367845228160-3">
        <addColumn tableName="extra_inventory_line_item">
            <column name="surcharge_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1367845228160-4">
        <addColumn tableName="extra_inventory_line_item">
            <column name="surcharge_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1367845228160-5">
        <addColumn tableName="extra_inventory_line_item">
            <column name="tax_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1367845228160-6">
        <addColumn tableName="extra_inventory_line_item">
            <column name="taxable_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1367845228160-7">
        <addForeignKeyConstraint baseColumnNames="surcharge_id" baseTableName="extra_inventory_line_item" constraintName="fk_extra_inventory_line_item_surcharge1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="surcharge" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1367911904146-2">
        <dropNotNullConstraint columnDataType="INT" columnName="tax_id" tableName="extra_inventory_line_item"/>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1368072561962-2">
        <addColumn tableName="purchase_invoice">
            <column name="pi_rtv_short_total" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1368072561962-3">
        <addColumn tableName="purchase_invoice">
            <column name="rtv_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1368072561962-4">
        <addColumn tableName="purchase_invoice">
            <column name="short_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1368113151171-2">
        <createTable tableName="purchase_invoice_has_extra_inventory_line_item">
            <column name="purchase_invoice_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="extra_inventory_line_item_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1368113151171-4">
        <addPrimaryKey columnNames="purchase_invoice_id, extra_inventory_line_item_id" tableName="purchase_invoice_has_extra_inventory_line_item"/>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1368113151171-7">
        <addForeignKeyConstraint baseColumnNames="extra_inventory_line_item_id" baseTableName="purchase_invoice_has_extra_inventory_line_item" constraintName="fk_purchase_invoice_has_extra_inventory_line_item_extra_inven1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="extra_inventory_line_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1368113151171-8">
        <addForeignKeyConstraint baseColumnNames="purchase_invoice_id" baseTableName="purchase_invoice_has_extra_inventory_line_item" constraintName="fk_purchase_invoice_has_extra_inventory_line_item_purchase_in1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="purchase_invoice" referencesUniqueColumn="false"/>
    </changeSet>
     <changeSet author="Nihal (generated)" id="1368515586650-2">
        <createTable tableName="extra_inventory_line_item_type">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1368515586650-7">
        <addColumn tableName="extra_inventory_line_item">
            <column name="extra_inventory_line_item_type_id" type="INT">
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1368515586650-8">
        <addColumn tableName="purchase_invoice_line_item">
            <column name="grn_line_item_id" type="INT">
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1368515586650-13">
        <addForeignKeyConstraint baseColumnNames="extra_inventory_line_item_type_id" baseTableName="extra_inventory_line_item" constraintName="fk_extra_inventory_line_item_extra_inventory_line_item_type1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="extra_inventory_line_item_type" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1368515586650-14">
        <addForeignKeyConstraint baseColumnNames="grn_line_item_id" baseTableName="purchase_invoice_line_item" constraintName="fk_purchase_invoice_line_item_grn_line_item1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="grn_line_item" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1368072561962-24">
        <addColumn tableName="purchase_invoice">
            <column name="physical_invoice_amount" type="DECIMAL(12,2)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Shilpa (written)" id="1367842551660-2">
      <sql>
        insert into permission(name)  values  ("RECEIVE_CONSIGNMENTS"),("EDIT_RUNSHEET"),("VIEW_CONSIGNMENTS"),("VIEW_PAYMENT_HISTORY"),("TRACK_CONSIGNMENTS"),("CREATE_PAYMENT_RECONCILATION"),("ADD_EDIT_HUB"),("ADD_REMOVE_AGENT"),("CONSIGNMENT_TRACKING_REPORT"),("VIEW_NDR"),("EDIT_NDR")  on duplicate key update name = values(name);

       insert into role_has_permission (role_name, permission_name)  values  ("ADMIN","RECEIVE_CONSIGNMENTS"),("ADMIN","EDIT_RUNSHEET"),("ADMIN","VIEW_CONSIGNMENTS"),("ADMIN","VIEW_PAYMENT_HISTORY"),("ADMIN","TRACK_CONSIGNMENTS"),("ADMIN","CREATE_PAYMENT_RECONCILATION"),("ADMIN","ADD_EDIT_HUB"),("ADMIN","ADD_REMOVE_AGENT"),("ADMIN",                   "CONSIGNMENT_TRACKING_REPORT"),("ADMIN","VIEW_NDR"),("ADMIN","EDIT_NDR"),("OPS_MANAGER_L1","TRACK_CONSIGNMENTS"),("CUSTOMER_SUPPORT","VIEW_NDR"),("CUSTOMER_SUPPORT",             "EDIT_NDR"),("CUSTOMER_SUPPORT","TRACK_CONSIGNMENTS"),("CUSTOMER_SUPPORT_L2","VIEW_NDR"),("CUSTOMER_SUPPORT_L2","EDIT_NDR"),("CUSTOMER_SUPPORT_L2",                               "TRACK_CONSIGNMENTS"),("CUSTOMER_SUPPORT_L3","VIEW_NDR"),("CUSTOMER_SUPPORT_L3","EDIT_NDR"),("CUSTOMER_SUPPORT_L3","TRACK_CONSIGNMENTS"),("HK_DELIVERY_ADMIN",                    "RECEIVE_CONSIGNMENTS"),("HK_DELIVERY_ADMIN","EDIT_RUNSHEET"),("HK_DELIVERY_ADMIN","VIEW_CONSIGNMENTS"),("HK_DELIVERY_ADMIN","VIEW_PAYMENT_HISTORY"),                             ("HK_DELIVERY_ADMIN","TRACK_CONSIGNMENTS"),("HK_DELIVERY_ADMIN","CREATE_PAYMENT_RECONCILATION"),("HK_DELIVERY_ADMIN","ADD_EDIT_HUB"),("HK_DELIVERY_ADMIN",                        "ADD_REMOVE_AGENT"),("HK_DELIVERY_ADMIN","CONSIGNMENT_TRACKING_REPORT"),("HK_DELIVERY_ADMIN","VIEW_NDR"),("HK_DELIVERY_ADMIN","EDIT_NDR"),("HK_DELIVERY_HUB_MANAGER",             "EDIT_RUNSHEET"),("HK_DELIVERY_HUB_MANAGER","VIEW_CONSIGNMENTS"),("HK_DELIVERY_HUB_MANAGER","VIEW_PAYMENT_HISTORY"),("HK_DELIVERY_HUB_MANAGER","TRACK_CONSIGNMENTS"),             ("HK_DELIVERY_HUB_MANAGER","CREATE_PAYMENT_RECONCILATION"),("HK_DELIVERY_HUB_MANAGER","ADD_EDIT_HUB"),("HK_DELIVERY_HUB_MANAGER","ADD_REMOVE_AGENT"),                             ("HK_DELIVERY_HUB_MANAGER","CONSIGNMENT_TRACKING_REPORT"),("HK_DELIVERY_HUB_MANAGER","VIEW_NDR")  on duplicate key update permission_name = values(permission_name);
      </sql>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1369648289023-1">
        <createTable tableName="action_path_workflow">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="bucket_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="action_task_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="next_action_task_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="priority" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1369648289023-28">
        <addForeignKeyConstraint baseColumnNames="action_task_id" baseTableName="action_path_workflow" constraintName="fk_action_path_workflow_action_task1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="action_task" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1369648289023-30">
        <addForeignKeyConstraint baseColumnNames="next_action_task_id" baseTableName="action_path_workflow" constraintName="fk_action_path_workflow_action_task2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="action_task" referencesUniqueColumn="false"/>
    </changeSet>
<!--    <changeSet author="Pratham (generated)" id="1369649792220-8">
        <dropForeignKeyConstraint baseTableName="action_task" constraintName="fk_action_item_user1"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1369649792220-9">
        <dropForeignKeyConstraint baseTableName="action_task" constraintName="fk_action_task_action_task1"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1369648289023-31">
        <dropColumn columnName="acknowledged" tableName="action_task"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1369648289023-32">
        <dropColumn columnName="acknowledged_by" tableName="action_task"/>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1369648289023-33">
        <dropColumn columnName="next_action_task_id" tableName="action_task"/>
    </changeSet>-->
    <changeSet author="Pratham (generated)" id="1369727618286-2">
        <createTable tableName="reason_has_action_task">
            <column name="reason_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="action_task_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Pratham (generated)" id="1369727618286-9">
        <addPrimaryKey columnNames="reason_id, action_task_id" tableName="reason_has_action_task"/>
    </changeSet>
    <changeSet author="Ajeet (written)" id="20130531-01">
        <sql>
            update seo_data set meta_description=replace(meta_description, '300', '500');
        </sql>
    </changeSet>
    <changeSet author="Ankit Chhabra (generated)" id="1370256769302-1">
        <addColumn tableName="user_order_karma_profile">
            <column name="badge_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Ankit Chhabra (generated)" id="1370256769302-2">
        <addForeignKeyConstraint baseColumnNames="badge_id" baseTableName="user_order_karma_profile"  constraintName="fk_ukarma_badge" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="badge" referencesUniqueColumn="false"/>
    </changeSet>
	<changeSet author="Tarun (generated)" id="1369725542349-1">
        <addColumn tableName="tax">
            <column name="type" type="VARCHAR(30)"/>
        </addColumn>
    </changeSet>
	<changeSet author="Tarun (written)" id="1369725542349-2">
			<sql>
				UPDATE `tax` SET type='VAT';

				INSERT INTO `tax` (`id`, `name`, `value`, `type`) VALUES
					(110, 'ZeroPercent', 0.00000, 'VAT_SECONDARY'),
					(120, 'OnePercent', 0.01000, 'VAT_SECONDARY'),
					(125, 'OneDotFivePercent', 0.01500, 'VAT_SECONDARY'),
					(130, 'TwoPercent', 0.02000, 'CST'),
					(135, 'FourPercent', 0.04000, 'VAT_SECONDARY'),
					(140, 'FivePercent', 0.05000, 'VAT_SECONDARY'),
					(150, 'TwelveDotFivePercent', 0.12500, 'VAT_SECONDARY'),
					(160, 'ThirteenDotOneTwoFivePercent', 0.13125, 'VAT_SECONDARY'),
					(165, 'FourteenDotFive', 0.14500, 'VAT_SECONDARY'),
					(170, 'TwentyPercent', 0.20000, 'VAT_SECONDARY')
					on duplicate key update
					name = values(name),
					value = values(value),
					type = values(type);
			</sql>
	</changeSet>
	<changeSet author="Tarun (written)" id="1369725542349-3">
			<sql>
					UPDATE purchase_invoice_line_item
					SET tax_id= surcharge_id+100
					WHERE tax_id IS NULL and surcharge_id IS NOT NULL;

					UPDATE extra_inventory_line_item
					SET tax_id= surcharge_id+100
					WHERE tax_id IS NULL and surcharge_id IS NOT NULL;
			</sql>
	</changeSet>
    <changeSet author="Tarun (generated)" id="1368701511031-1">
        <addColumn tableName="credit_note_line_item">
            <column name="tax_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1368701511031-2">
        <addColumn tableName="debit_note_line_item">
            <column name="tax_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1368701511031-3">
        <addColumn tableName="stock_transfer_line_item">
            <column name="tax_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1368701511031-4">
        <addForeignKeyConstraint baseColumnNames="tax_id" baseTableName="credit_note_line_item" constraintName="fk_credit_note_line_item_tax1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="tax" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1368701511031-5">
        <addForeignKeyConstraint baseColumnNames="tax_id" baseTableName="debit_note_line_item" constraintName="fk_debit_note_line_item_tax1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="tax" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="Tarun (generated)" id="1368701511031-6">
        <addForeignKeyConstraint baseColumnNames="tax_id" baseTableName="stock_transfer_line_item" constraintName="fk_stock_transfer_line_item_tax1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="tax" referencesUniqueColumn="false"/>
    </changeSet>
	<changeSet author="Tarun (written)" id="20130605-01">
		<sql>
			UPDATE line_item
			SET tax_id = 1
			where tax_id = 32;

			UPDATE extra_inventory_line_item
			SET tax_id = 1
			where tax_id = 32;

			UPDATE purchase_invoice_line_item
			SET tax_id = 1
			where tax_id = 32;

			UPDATE sku
			SET tax_id = 1
			where tax_id = 32;

			UPDATE line_item
			SET tax_id = 2
			where tax_id = 5;

			UPDATE extra_inventory_line_item
			SET tax_id = 2
			where tax_id = 5;

			UPDATE purchase_invoice_line_item
			SET tax_id = 2
			where tax_id = 5;

			UPDATE sku
			SET tax_id = 2
			where tax_id = 5;

			UPDATE line_item
			SET tax_id = 6
			where tax_id = 51;

			UPDATE extra_inventory_line_item
			SET tax_id = 6
			where tax_id = 51;

			UPDATE purchase_invoice_line_item
			SET tax_id = 6
			where tax_id = 51;

			UPDATE sku
			SET tax_id = 6
			where tax_id = 51;

			DELETE FROM tax where id in (51,5,32);
		</sql>
	</changeSet>
	<changeSet author="Tarun (written)" id="20130605-02">
		<sql>
			ALTER TABLE  `tax` CHANGE  `id`  `id` INT( 11 ) NOT NULL;
		</sql>
	</changeSet>
	<changeSet author="Nihal (generated)" id="1370601362351-5">
        <addColumn tableName="supplier">
            <column name="contact_number_2" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1370601362351-6">
        <addColumn tableName="supplier">
            <column name="contact_number_3" type="VARCHAR(45)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1370601362351-7">
        <addColumn tableName="supplier">
            <column name="contact_person_2" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1370601362351-8">
        <addColumn tableName="supplier">
            <column name="contact_person_3" type="VARCHAR(100)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1370601362351-9">
        <addColumn tableName="supplier">
            <column name="email_id_2" type="VARCHAR(50)"/>
        </addColumn>
    </changeSet>
    <changeSet author="Nihal (generated)" id="1370601362351-10">
        <addColumn tableName="supplier">
            <column name="email_id_3" type="VARCHAR(50)"/>
        </addColumn>
    </changeSet>
	<changeSet author="Rohit" id="20130613-01">
		<sql>
			INSERT INTO store (id ,name ,prefix ,callback_rest_url)VALUES ('201', 'Chandigarh', 'CH', NULL);
			INSERT INTO warehouse (tin, identifier, name, line1, line2, city, state, pincode, wh_phone, store_id, honoring_b2c_orders, warehouse_type, active) VALUES ('07840464340', 'Chandigarh Aqua Store', 'Aquamarine Healthcare Pvt Ltd', 'Sec35 ,Chandigarh Store', 'Chandigarh', 'Chandigarh', 'Chandigarh', '160017', '01145110150', '201', '1', '3', '1');
			INSERT INTO seek_invoice_num (warehouse_id, invoice_num, prefix, description) VALUES ('1000', '1', 'R', 'Retail Invoice 2013');
		</sql>
	</changeSet>
</databaseChangeLog>
